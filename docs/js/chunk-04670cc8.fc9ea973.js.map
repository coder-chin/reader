{"version":3,"sources":["webpack:///./node_modules/lodash/_getRawTag.js","webpack:///./node_modules/epubjs/src/utils/constants.js","webpack:///./src/components/Content.vue?4b53","webpack:///./node_modules/epubjs/src/utils/core.js","webpack:///./node_modules/core-js/internals/array-species-constructor.js","webpack:///./node_modules/lodash/throttle.js","webpack:///./node_modules/epubjs/src/utils/url.js","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./node_modules/es5-ext/object/assign/is-implemented.js","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/type/plain-function/is.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/epubjs/src/utils/replacements.js","webpack:///./node_modules/es5-ext/string/#/contains/is-implemented.js","webpack:///./node_modules/lodash/isObject.js","webpack:///./node_modules/es5-ext/object/valid-callable.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/es5-ext/object/assign/index.js","webpack:///./node_modules/xmldom/dom-parser.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/lodash/_root.js","webpack:///./node_modules/epubjs/src/mapping.js","webpack:///./node_modules/epubjs/src/epub.js","webpack:///./node_modules/lodash/_baseGetTag.js","webpack:///./node_modules/path-webpack/path.js","webpack:///./node_modules/lodash/now.js","webpack:///./node_modules/epubjs/src/utils/hook.js","webpack:///./node_modules/lodash/_trimmedEndIndex.js","webpack:///./node_modules/epubjs/src/contents.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/epubjs/src/utils/path.js","webpack:///./node_modules/epubjs/src/utils/request.js","webpack:///./node_modules/type/object/is.js","webpack:///./node_modules/es5-ext/object/is-value.js","webpack:///./node_modules/type/function/is.js","webpack:///./src/components/TitleBar.vue?db8a","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/es5-ext/object/keys/shim.js","webpack:///./node_modules/xmldom/dom.js","webpack:///./node_modules/es5-ext/object/keys/index.js","webpack:///./node_modules/marks-pane/lib/svg.js","webpack:///./node_modules/epubjs/src/layout.js","webpack:///./node_modules/epubjs/src/managers/continuous/index.js","webpack:///./node_modules/lodash/_baseTrim.js","webpack:///./node_modules/epubjs/src/epubcfi.js","webpack:///./node_modules/type/prototype/is.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/type/value/is.js","webpack:///./node_modules/epubjs/src/utils/queue.js","webpack:///./node_modules/es5-ext/object/valid-value.js","webpack:///./node_modules/epubjs/src/themes.js","webpack:///./node_modules/epubjs/src/annotations.js","webpack:///./node_modules/epubjs/src/rendition.js","webpack:///./node_modules/epubjs/libs/url/url-polyfill.js","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./node_modules/epubjs/libs/mime/mime.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./node_modules/epubjs/src/section.js","webpack:///./node_modules/epubjs/src/spine.js","webpack:///./node_modules/epubjs/src/locations.js","webpack:///./node_modules/epubjs/src/container.js","webpack:///./node_modules/epubjs/src/packaging.js","webpack:///./node_modules/epubjs/src/navigation.js","webpack:///./node_modules/epubjs/src/resources.js","webpack:///./node_modules/epubjs/src/pagelist.js","webpack:///./node_modules/epubjs/src/archive.js","webpack:///./node_modules/epubjs/src/book.js","webpack:///./node_modules/marks-pane/lib/marks.js","webpack:///./node_modules/lodash/debounce.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/lodash/toNumber.js","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/core-js/internals/array-iteration.js","webpack:///./src/views/Ebook.vue?ed81","webpack:///./node_modules/epubjs/src/index.js","webpack:///./src/components/TitleBar.vue?129f","webpack:///src/components/TitleBar.vue","webpack:///./src/components/TitleBar.vue?379d","webpack:///./src/components/TitleBar.vue","webpack:///./src/components/MenuBar.vue?4cb2","webpack:///./src/components/Content.vue?316f","webpack:///src/components/Content.vue","webpack:///./src/components/Content.vue?503a","webpack:///./src/components/Content.vue","webpack:///src/components/MenuBar.vue","webpack:///./src/components/MenuBar.vue?bf08","webpack:///./src/components/MenuBar.vue","webpack:///src/views/Ebook.vue","webpack:///./src/views/Ebook.vue?f89d","webpack:///./src/views/Ebook.vue","webpack:///./node_modules/jszip/dist/jszip.min.js","webpack:///./node_modules/event-emitter/index.js","webpack:///./node_modules/marks-pane/lib/events.js","webpack:///./node_modules/xmldom/sax.js","webpack:///./node_modules/epubjs/src/managers/views/iframe.js","webpack:///./src/views/Ebook.vue?2fdd","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/epubjs/src/managers/helpers/stage.js","webpack:///./node_modules/epubjs/src/managers/helpers/views.js","webpack:///./node_modules/epubjs/src/managers/default/index.js","webpack:///./src/components/MenuBar.vue?4f06","webpack:///./node_modules/es5-ext/function/noop.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./node_modules/es5-ext/object/keys/is-implemented.js","webpack:///./node_modules/es5-ext/object/normalize-options.js","webpack:///./node_modules/d/index.js","webpack:///./node_modules/es5-ext/object/assign/shim.js","webpack:///./node_modules/es5-ext/string/#/contains/shim.js","webpack:///./node_modules/es5-ext/string/#/contains/index.js","webpack:///./node_modules/lodash/isSymbol.js"],"names":["Symbol","objectProto","Object","prototype","hasOwnProperty","nativeObjectToString","toString","symToStringTag","toStringTag","undefined","getRawTag","value","isOwn","call","tag","unmasked","e","result","module","exports","EPUBJS_VERSION","DOM_EVENTS","EVENTS","BOOK","OPEN_FAILED","CONTENTS","EXPAND","RESIZE","SELECTED","SELECTED_RANGE","LINK_CLICKED","LOCATIONS","CHANGED","MANAGERS","RESIZED","ORIENTATION_CHANGE","ADDED","SCROLL","SCROLLED","VIEWS","AXIS","LOAD_ERROR","RENDERED","DISPLAYED","SHOWN","HIDDEN","MARK_CLICKED","RENDITION","STARTED","ATTACHED","DISPLAY_ERROR","REMOVED","LOCATION_CHANGED","RELOCATED","LAYOUT","UPDATED","requestAnimationFrame","window","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","ELEMENT_NODE","TEXT_NODE","_URL","URL","webkitURL","mozURL","uuid","d","Date","getTime","replace","c","r","Math","random","floor","documentHeight","max","document","documentElement","clientHeight","body","scrollHeight","offsetHeight","isElement","obj","nodeType","isNumber","n","isNaN","parseFloat","isFinite","isFloat","f","indexOf","prefixed","unprefixed","vendors","prefixes","upper","toUpperCase","slice","length","style","i","defaults","arguments","source","prop","extend","target","sources","forEach","getOwnPropertyNames","propName","defineProperty","getOwnPropertyDescriptor","insert","item","array","compareFunction","location","locationOf","splice","_start","_end","compared","start","end","pivot","parseInt","a","b","indexOfSorted","bounds","el","getComputedStyle","widthProps","heightProps","width","height","borders","nodeBounds","node","elPos","doc","ownerDocument","Node","elRange","createRange","selectNodeContents","getBoundingClientRect","windowBounds","innerWidth","innerHeight","top","left","right","bottom","indexOfNode","typeId","sib","parent","parentNode","children","childNodes","index","indexOfTextNode","textNode","indexOfElementNode","elementNode","isXml","ext","createBlob","content","mime","Blob","type","createBlobUrl","tempUrl","blob","createObjectURL","revokeBlobUrl","url","revokeObjectURL","createBase64Url","data","datauri","btoa","encodeURIComponent","parse","markup","forceXMLDom","Parser","DOMParser","charCodeAt","parseFromString","qs","sel","elements","Error","querySelector","getElementsByTagName","qsa","querySelectorAll","qsp","props","q","filtered","Array","filter","getAttribute","sprint","root","func","treeWalker","NodeFilter","SHOW_TEXT","walk","createTreeWalker","nextNode","callback","firstChild","walked","nextSibling","blob2base64","Promise","resolve","reject","reader","FileReader","readAsDataURL","onloadend","defer","this","id","promise","freeze","querySelectorByType","html","element","query","getAttributeNS","findChildren","push","parents","nodes","unshift","filterChildren","nodeName","single","toLowerCase","getParentByTagName","tagname","tagName","RangeObject","collapsed","commonAncestorContainer","endContainer","endOffset","startContainer","startOffset","startNode","_commonAncestorContainer","collapse","_checkCollapsed","endNode","toStart","referenceNode","setStart","setEnd","endIndex","textContent","startParents","endParents","isArray","isConstructor","isObject","wellKnownSymbol","SPECIES","originalArray","C","constructor","debounce","FUNC_ERROR_TEXT","throttle","wait","options","leading","trailing","TypeError","Url","urlString","baseString","basePath","absolute","pathname","href","protocol","origin","hash","search","base","Path","directory","filename","extension","what","fullpath","isAbsolute","relative","isObjectLike","assign","foo","bar","trzy","global","DOMIterables","DOMTokenListPrototype","createNonEnumerableProperty","handlePrototype","CollectionPrototype","error","COLLECTION_NAME","isFunction","classRe","functionToString","Function","test","$forEach","arrayMethodIsStrict","STRICT_METHOD","callbackfn","replaceBase","section","head","createElement","insertBefore","setAttribute","replaceCanonical","link","canonical","appendChild","replaceMeta","meta","idref","replaceLinks","contents","fn","links","replaceLink","linkUrl","onclick","path","bind","substitute","urls","replacements","RegExp","str","contains","byteLength","toByteArray","fromByteArray","lookup","revLookup","Arr","Uint8Array","code","len","getLens","b64","validLen","placeHoldersLen","lens","_byteLength","tmp","arr","curByte","tripletToBase64","num","encodeChunk","uint8","output","join","extraBytes","parts","maxChunkLength","len2","locator","buildErrorHandler","errorImpl","domBuilder","DOMHandler","errorHandler","isCallback","build","key","msg","_locator","cdata","position","lineNumber","columnNumber","l","systemId","_toString","chars","substr","java","lang","String","appendElement","hander","currentElement","mimeType","sax","XMLReader","defaultNSMap","xmlns","entityMap","setDocumentLocator","nbsp","copy","xml","startDocument","DOMImplementation","createDocument","documentURI","startElement","namespaceURI","localName","qName","attrs","createElementNS","getURI","getValue","attr","getQName","createAttributeNS","getLocator","nodeValue","setAttributeNode","endElement","current","startPrefixMapping","prefix","uri","endPrefixMapping","processingInstruction","ins","createProcessingInstruction","ignorableWhitespace","ch","characters","apply","charNode","createCDATASection","createTextNode","skippedEntity","name","endDocument","normalize","comment","comm","createComment","startCDATA","endCDATA","startDTD","publicId","impl","implementation","createDocumentType","dt","warning","console","warn","fatalError","XMLSerializer","objectToString","freeGlobal","freeSelf","self","Mapping","layout","direction","axis","dev","horizontal","_dev","view","ranges","findRanges","map","rangeListToCfiList","cfiBase","rangePairToCfiPair","findStart","findEnd","startRange","toRange","endRange","selection","defaultView","getSelection","removeAllRanges","addRange","acceptNode","trim","FILTER_ACCEPT","FILTER_REJECT","safeFilter","columns","scrollWidth","spreads","ceil","spreadWidth","count","divisor","columnWidth","gap","pages","$el","found","stack","$prev","shift","findTextStartRange","round","findTextEndRange","range","pos","splitTextNodeIntoRanges","prev","_splitter","text","splitter","rangePair","startCfi","endCfi","cifPair","ePub","VERSION","Book","Rendition","Contents","CFI","utils","nullTag","undefinedTag","baseGetTag","process","assertPath","normalizeStringPosix","allowAboveRoot","res","lastSlash","dots","j","_format","sep","pathObject","dir","posix","cwd","resolvedPath","resolvedAbsolute","trailingSeparator","joined","arg","from","to","fromStart","fromEnd","fromLen","toEnd","toLen","lastCommonSep","fromCode","toCode","out","_makeLong","dirname","hasRoot","matchedSlash","basename","extIdx","firstNonSlashEnd","extname","startDot","startPart","preDotState","format","ret","delimiter","now","Hook","context","hooks","args","promises","task","executing","all","reWhitespace","trimmedEndIndex","string","charAt","hasNavigator","isChrome","navigator","userAgent","isWebkit","sectionIndex","epubcfi","_size","epubReadingSystem","listeners","w","frame","h","rect","border","overflow","overflowX","overflowY","property","priority","setProperty","$viewport","parsed","newContent","settings","hasAttribute","_width","match","_height","_scale","_minimum","_maximum","_scalable","scale","minimum","maximum","scalable","scrollTo","emit","imageLoadListeners","mediaQueryListeners","addEventListeners","addSelectionListeners","resizeListeners","linksHandler","removeEventListeners","removeSelectionListeners","clearTimeout","expanding","textWidth","textHeight","onResize","resizeCheck","setTimeout","addEventListener","sheets","styleSheets","mediaChangeHandler","m","matches","_expanding","expand","rules","cssRules","media","mql","matchMedia","mediaText","addListener","observer","MutationObserver","mutations","config","attributes","childList","characterData","subtree","observe","img","images","naturalWidth","onload","fonts","ready","then","ignoreClass","targetPos","isCfiString","container","newRange","Range","substring","getElementById","src","$stylesheet","rel","onreadystatechange","readyState","styleEl","styleSheet","sheet","rl","rule","selector","propStr","pl","insertRule","selectors","keys","definition","_rules","$script","async","className","classList","add","remove","eventName","triggerEvent","removeEventListener","onSelectionChange","selectionEndTimeout","triggerSelectedEvent","cfirange","rangeCount","getRangeAt","_cfi","cfi","viewport","layoutStyle","css","COLUMN_AXIS","COLUMN_GAP","COLUMN_WIDTH","COLUMN_FILL","writingMode","offsetX","offsetY","scaleStr","translateStr","widthScale","heightScale","scaler","mapping","page","mode","WRITING_MODE","_layoutStyle","version","hasFeature","feature","disconnect","removeListeners","requireObjectCoercible","whitespaces","whitespace","ltrim","rtrim","createMethod","TYPE","$this","pathString","isDirectory","splitPathRe","exec","request","withCredentials","headers","header","supportsURL","BLOB_RESPONSE","deferred","xhr","XMLHttpRequest","xhrPrototype","handler","onerror","err","open","setRequestHeader","DONE","responseXML","responseType","status","response","message","JSON","overrideMimeType","send","isValue","possibleTypes","_undefined","val","isPrototype","arraySpeciesConstructor","isCallable","setPrototypeOf","dummy","Wrapper","NewTarget","NewTargetPrototype","object","dest","p","_extends","Class","Super","pt","create","ppt","__proto__","t","htmlns","NodeType","ATTRIBUTE_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","ExceptionCode","ExceptionMessage","HIERARCHY_REQUEST_ERR","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","NOT_FOUND_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","INUSE_ATTRIBUTE_ERR","NOT_SUPPORTED_ERR","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","DOMException","captureStackTrace","NodeList","LiveNodeList","refresh","_node","_refresh","_updateLiveList","list","inc","_inc","ls","__set__","NamedNodeMap","_findNodeIndex","_addNamedNode","newAttr","oldAttr","ownerElement","_onRemoveAttribute","_onAddAttribute","_removeNamedNode","lastIndex","features","_features","_xmlEncoder","_visitNode","Document","ns","_nsMap","_onUpdateChild","newChild","cs","child","_removeChild","previous","previousSibling","next","lastChild","_insertBefore","nextChild","cp","removeChild","newFirst","newLast","pre","_appendSingleChild","Element","Attr","CharacterData","Text","Comment","CDATASection","DocumentType","Notation","Entity","EntityReference","DocumentFragment","ProcessingInstruction","nodeSerializeToString","isHtml","nodeFilter","buf","refNode","lookupPrefix","visibleNamespaces","namespace","serializeToString","needNamespaceDefine","isHTML","pubid","sysid","sub","internalSubset","importNode","deep","node2","cloneNode","v","attrs2","_ownerElement","getNamedItem","setNamedItem","setNamedItemNS","getNamedItemNS","removeNamedItem","removeNamedItemNS","versions","qualifiedName","doctype","refChild","replaceChild","oldChild","hasChildNodes","appendData","isSupported","hasAttributes","lookupNamespaceURI","isDefaultNamespace","importedNode","rtv","createDocumentFragment","createAttribute","specified","createEntityReference","split","getAttributeNode","removeAttribute","removeAttributeNode","setAttributeNodeNS","removeAttributeNS","old","getAttributeNodeNS","hasAttributeNS","setAttributeNS","getElementsByTagNameNS","substringData","offset","insertData","replaceData","deleteData","splitText","newText","newNode","getTextContent","get","$$length","set","default","Layout","_spread","spread","_minSpreadWidth","minSpreadWidth","_evenSpreads","evenSpreads","flow","_flow","delta","update","min","_gap","pageWidth","formating","fit","size","totalLength","pageLength","newProps","ContinuousViewManager","super","infinite","offsetDelta","viewSettings","forceEvenPages","scrollTop","scrollLeft","display","fill","_full","full","enqueue","check","distX","distY","isPaginated","scrollBy","onDisplayed","createView","views","append","on","expanded","updateAxis","afterDisplayed","afterResized","counter","prepend","heightDelta","widthDelta","_offset","isVisible","viewsLength","visible","updating","displayed","show","hide","destroy","trimTimeout","catch","_offsetLeft","_offsetTop","checking","newViews","_bounds","rtl","visibleLength","contentLength","first","last","firstIndex","above","below","erase","prevTop","prevLeft","fullsize","scrollY","scrollX","stage","ignore","addScrollListeners","scroller","tick","prevScrollTop","prevScrollLeft","scrollDeltaVert","scrollDeltaHorz","onScroll","_scrolled","scrolled","didScroll","abs","scrollTimeout","afterScrolled","forceUpdate","reTrimStart","baseTrim","EpubCFI","cfiFrom","spinePos","parseComponent","steps","checkType","fromRange","fromNode","cfiStr","baseComponent","pathComponent","getChapterComponent","getPathComponent","getRange","componentStr","terminal","component","assertion","parseTerminal","step","parseStep","stepStr","has_brackets","termialStr","characterOffset","textLocationAssertion","indirection","splitStr","part","segment","segmentString","joinSteps","cfiString","cfiOne","cfiTwo","stepsA","stepsB","terminalA","terminalB","concat","filteredNode","filteredPosition","currentNode","filteredStep","stepA","stepB","needsIgnoring","patchOffset","pathTo","equalStep","anchor","sibling","isText","curr","totalOffset","currNodeType","prevNodeType","prevIndex","textNodes","normalizedMap","xpath","_doc","evaluate","walkToNode","stepsToXpath","XPathResult","FIRST_ORDERED_NODE_TYPE","singleNodeValue","findNode","lastStepIndex","childIndex","startSteps","endSteps","missed","log","fixMiss","_spineNodeIndex","_pos","spineNodeIndex","read","buffer","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","s","NaN","Infinity","pow","write","rt","LN2","Queue","_q","running","paused","queued","run","inwait","dequeue","defered","flush","rendition","_themes","_overrides","_current","_injected","register","inject","overrides","registerThemes","registerUrl","registerRules","theme","themes","input","getContents","removeClass","addClass","addStylesheet","serialized","addStylesheetRules","injected","override","highlights","underlines","marks","_annotations","_annotationsBySectionIndex","render","unloaded","clear","cfiRange","cb","styles","encodeURI","annotation","Annotation","attach","_removeFromAnnotationBySectionIndex","detach","_annotationsAt","annotations","mark","highlight","underline","unhighlight","ununderline","unmark","book","manager","stylesheet","resizeOnOrientationChange","script","serialize","handleLinks","passEvents","adjustImages","spine","injectIdentifier","injectStylesheet","injectScript","opened","starting","started","viewManager","View","ViewManager","requireManager","requireView","queue","load","package","metadata","globalLayoutProperties","determineLayoutProperties","afterRemoved","onResized","onOrientationChange","reportLocation","displaying","_display","locations","cfiFromPercentage","triggerMarkEvent","trigger","orientation","moveTo","resize","properties","_layout","applyLayout","updateFlow","isRendered","changed","updateLayout","currentLocation","located","percentage","total","totalPages","locationStart","locationFromCfi","locationEnd","percentageFromLocation","pageStart","pageList","pageFromCfi","pageEnd","atEnd","atStart","listenedEvents","ev","triggerViewEvent","computed","paddingTop","paddingBottom","ident","identifier","factory","scope","hasWorkingUrl","forceJURL","u","relativePathDotMapping","isRelativeScheme","scheme","invalid","_isInvalid","IDNAToASCII","percentEscape","unicode","percentEscapeQuery","EOF","ALPHA","ALPHANUMERIC","stateOverride","errors","state","cursor","seenAt","seenBracket","loop","_scheme","_isRelative","_query","_fragment","_schemeData","_host","_port","_path","_username","_password","nextC","nextNextC","pop","tempC","temp","jURL","_url","authority","host","hostname","port","OriginalURL","table","mimeTypes","subtype","defaultValue","fails","METHOD_NAME","argument","method","DESCRIPTORS","isForced","redefine","has","classof","inheritIfRequired","isSymbol","toPrimitive","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","third","radix","maxCode","digits","it","NumberWrapper","valueOf","linear","_request","loading","loaded","rendering","rendered","Serializer","isIE","serializer","find","excerpt","limit","cfiFromRange","globalLayout","_range","unload","spineItems","spineByHref","spineById","items","manifest","baseUrl","_package","resolver","spineItem","manifestItem","generateChapterComponent","nextIndex","decodeURI","each","pause","_locations","break","_currentCfi","processingTimeout","completed","_break","parser","dist","loc","compare","cfiFromLocation","stringify","setCurrent","stop","containerDocument","packagePath","encoding","rootfile","xmlEncoding","packageDocument","navPath","ncxPath","coverPath","metadataNode","manifestNode","spineNode","parseManifest","findNavPath","findNcxPath","findCoverPath","parseSpine","parseMetadata","title","getElementText","creator","description","pubdate","publisher","language","rights","modified_date","getPropertyText","media_active_class","manifestXml","selected","overlay","spineXml","propArray","itemref","tocId","packageXml","pkg","epubVersion","metaCover","coverId","cover","json","resources","toc","label","tocByHref","tocById","landmarks","landmarksByType","ncx","parseNav","parseLandmarks","parseNcx","unpack","subitems","navHtml","navElement","navItems","navItem","parentItem","landmarkItem","tocXml","navPoints","ncxItem","navLabel","archive","replacementUrls","assets","cssUrls","splitUrls","parsedUrl","createUrl","replaced","replacement","createCssFile","replacementUrl","indexInUrls","newUrl","textResponse","getText","relUrls","assetHref","resolved","relativeTo","firstPage","lastPage","packageUrl","isCfi","pg","percent","percentageFromPage","zip","urlCache","checkRequirements","JSZip","isBase64","loadAsync","zipUrl","getBlob","handleResponse","decodededUrl","decodeURIComponent","entry","file","uint8array","useBase64","base64","getBase64","fromCache","CONTAINER_PATH","INPUT_TYPE","BINARY","BASE64","EPUB","OPF","MANIFEST","DIRECTORY","requestMethod","requestCredentials","requestHeaders","openAs","opening","isOpen","navigation","archived","packaging","determineType","openEpub","openPackaging","openManifest","openContainer","unarchive","opf","loadNavigation","attachTo","credentials","retrieved","replaceCss","Underline","Highlight","Mark","Pane","_get","receiver","desc","getPrototypeOf","getter","_createClass","defineProperties","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_svg","_svg2","_interopRequireDefault","_events","_events2","__esModule","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","_classCallCheck","instance","proxyMouse","g","idx","unbind","setCoords","coords","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","done","return","dispatchEvent","rects","getClientRects","box","contained","_Mark","_this","dataset","docFrag","filteredRanges","_Highlight","line","rect1","rect2","nativeMax","nativeMin","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","maxing","invokeFunc","time","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","debounced","isInvoking","FUNCTION_NAME_EXISTS","EXISTS","FunctionPrototype","FunctionPrototypeToString","nameRE","NAME","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","other","isBinary","ieee754","typedArraySupport","subarray","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","encodingOrOffset","allocUnsafe","ArrayBuffer","fromArrayBuffer","fromString","fromObject","assertSize","alloc","checked","isEncoding","actual","fromArrayLike","byteOffset","isBuffer","isnan","SlowBuffer","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","hexWrite","Number","remaining","strLen","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","decodeCodePointsArray","INSPECT_MAX_BYTES","poolSize","_augment","species","allocUnsafeSlow","_isBuffer","x","y","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","includes","toJSON","_arr","MAX_ARGUMENTS_LENGTH","codePoints","fromCharCode","toHex","bytes","checkOffset","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","maxBytes","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","base64clean","stringtrim","units","leadSurrogate","byteArray","hi","lo","dst","IndexedObject","toObject","toLength","arraySpeciesCreate","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_REJECT","NO_HOLES","specificCreate","O","boundFunction","some","every","findIndex","filterReject","_vm","_h","$createElement","_c","_self","staticClass","isTitleAndMenuShow","prePage","tiggleShowTitleAndMenu","nextPage","ref","fontSizeList","defaultFontSize","themeList","defaultTheme","bookAvailable","setFontSize","setTheme","onProgressChange","jumpTo","staticRenderFns","directives","rawName","expression","class","isSettingShow","$event","showSetting","_v","showTag","fontSize","_l","background","_s","domProps","progress","onProgressInput","_e","hideContent","components","TitleBar","MenuBar","methods","createEpub","renderTo","registerTheme","$refs","menubar","select","hideTitleAndMenu","hideSetting","mounted","o","require","1","encode","getTypeOf","decode","2","compressedSize","uncompressedSize","crc32","compression","compressedContent","getContentWorker","pipe","uncompressWorker","streamInfo","data_length","getCompressedWorker","withStreamInfo","createWorkerFrom","compressWorker","3","STORE","magic","DEFLATE","4","5","binary","createFolders","date","compressionOptions","unixPermissions","dosPermissions","6","lie","7","Uint16Array","Uint32Array","_pako","_pakoAction","_pakoOptions","inherits","processChunk","_createPako","transformTo","cleanUp","raw","level","onData","pako","8","A","utf8encode","I","_","k","S","z","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCFullYear","getUTCMonth","getUTCDate","B","E","fileRecord","R","LOCAL_FILE_HEADER","dirRecord","CENTRAL_FILE_HEADER","bytesWritten","zipComment","zipPlatform","encodeFileName","streamFiles","accumulate","contentBuffer","dirRecords","currentSourceOffset","entriesCount","currentFile","_sources","openedSource","closedSource","DATA_DESCRIPTOR","CENTRAL_DIRECTORY_END","prepareNextSource","isPaused","resume","registerPrevious","generatedError","lock","9","generateWorker","platform","_compressWorker","10","files","clone","support","external","11","decompressed","checkCRC32","optimizedBinaryString","decodeFileName","utf8decode","isNode","isStream","prepareContent","fileNameStr","fileCommentStr","12","_upstreamEnded","_bindStream","_stream","13","Readable","_helper","_read","14","newBufferFrom","allocBuffer","15","folder","generate","generateInternalStream","checkSupport","generateAsync","generateNodeStream","toNodejsStream","16","stream","17","byteAt","zero","lastIndexOfSignature","readAndCheckSignature","readData","18","checkIndex","setIndex","skip","readInt","readString","readDate","UTC","19","20","21","22","23","ZIP64_CENTRAL_DIRECTORY_LOCATOR","ZIP64_CENTRAL_DIRECTORY_END","24","destType","25","26","27","dataIsReady","_tickScheduled","_tickAndRepeat","delay","isFinished","_tick","28","extraStreamInfo","isLocked","_listeners","mergeStreamInfo","29","nodestream","_internalType","_outputType","_mimeType","newBlob","_worker","objectMode","30","arraybuffer","nodebuffer","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","31","leftOver","applyFromCharCode","Utf8DecodeWorker","Utf8EncodeWorker","32","stringifyByChunk","stringifyByChar","applyCanBeUsed","MAX_VALUE_16BITS","MAX_VALUE_32BITS","pretty","readAsArrayBuffer","33","loadOptions","checkSignature","isSignature","readBlockEndOfCentral","diskNumber","diskWithCentralDirStart","centralDirRecordsOnThisDisk","centralDirRecords","centralDirSize","centralDirOffset","zipCommentLength","readBlockZip64EndOfCentral","zip64EndOfCentralSize","zip64ExtensibleData","readBlockZip64EndOfCentralLocator","diskWithZip64CentralDirStart","relativeOffsetEndOfZip64CentralDir","disksCount","readLocalFiles","localHeaderOffset","readLocalPart","handleUTF8","processAttributes","readCentralDir","zip64","readCentralPart","readEndOfCentral","prepareReader","34","isEncrypted","bitFlag","useUTF8","fileNameLength","fileName","compressionMethod","versionMadeBy","extraFieldsLength","fileCommentLength","diskNumberStart","internalFileAttributes","externalFileAttributes","readExtraFields","parseZIP64ExtraField","fileComment","extraFields","findExtraFieldUnicodePath","findExtraFieldUnicodeComment","35","_data","_dataBinary","internalStream","_decompressWorker","nodeStream","36","WebKitMutationObserver","setImmediate","MessageChannel","port1","onmessage","port2","postMessage","37","outcome","onFulfilled","callFulfilled","otherCallFulfilled","onRejected","callRejected","otherCallRejected","finally","race","immediate","38","39","chunkSize","windowBits","memLevel","strategy","gzip","ended","chunks","strm","avail_out","deflateInit2","deflateSetHeader","dictionary","string2buf","deflateSetDictionary","_dict_set","next_in","avail_in","Buf8","next_out","deflate","onEnd","buf2binstring","shrinkBuf","deflateEnd","flattenChunks","Deflate","deflateRaw","40","inflateInit2","Z_OK","inflateGetHeader","Z_FINISH","Z_NO_FLUSH","binstring2buf","inflate","Z_NEED_DICT","inflateSetDictionary","Z_BUF_ERROR","Z_STREAM_END","Z_SYNC_FLUSH","utf8border","buf2string","arraySet","inflateEnd","Inflate","inflateRaw","ungzip","41","Int32Array","setTyped","Buf16","Buf32","42","43","44","Z_PARTIAL_FLUSH","Z_FULL_FLUSH","Z_BLOCK","Z_TREES","Z_ERRNO","Z_STREAM_ERROR","Z_DATA_ERROR","Z_NO_COMPRESSION","Z_BEST_SPEED","Z_BEST_COMPRESSION","Z_DEFAULT_COMPRESSION","Z_FILTERED","Z_HUFFMAN_ONLY","Z_RLE","Z_FIXED","Z_DEFAULT_STRATEGY","Z_BINARY","Z_TEXT","Z_UNKNOWN","Z_DEFLATED","45","46","T","D","F","pending","pending_buf","pending_out","total_out","N","_tr_flush_block","block_start","strstart","U","P","L","max_chain_length","prev_length","nice_match","w_size","w_mask","good_match","lookahead","match_start","window_size","hash_size","wrap","adler","total_in","ins_h","hash_shift","hash_mask","Z","match_length","_tr_tally","max_lazy_match","last_lit","W","prev_match","match_available","M","good_length","max_lazy","nice_length","max_chain","H","pending_buf_size","gzhead","gzindex","last_flush","w_bits","hash_bits","dyn_ltree","dyn_dtree","bl_tree","l_desc","d_desc","bl_desc","bl_count","heap","heap_len","heap_max","depth","l_buf","lit_bufsize","d_buf","opt_len","static_len","bi_buf","bi_valid","G","data_type","_tr_init","K","Y","deflateInit","deflateReset","deflateResetKeep","hcrc","extra","os","_tr_align","_tr_stored_block","deflateInfo","47","xflags","extra_len","48","dmax","wsize","whave","wnext","hold","bits","lencode","distcode","lenbits","distbits","sane","49","havedict","flags","wbits","ncode","nlen","ndist","have","work","lendyn","distdyn","back","was","inflateReset","inflateReset2","inflateResetKeep","inflateInit","inflateInfo","50","51","0","52","static_tree","extra_bits","extra_base","elems","max_length","has_stree","dyn_tree","max_code","stat_desc","X","V","J","53","54","once","off","descriptors","callable","listener","__ee__","__eeOnceListener__","candidate","tracked","dispatch","clientX","clientY","touches","contentDocument","_i","opts","bubbles","MouseEvent","createEvent","initMouseEvent","cancelable","detail","screenX","screenY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","rectContains","nameStartChar","nameChar","tagNamePattern","S_TAG","S_ATTR","S_ATTR_SPACE","S_EQ","S_ATTR_NOQUOT_VALUE","S_ATTR_END","S_TAG_SPACE","S_TAG_CLOSE","defaultNSMapCopy","fixedFromCharCode","surrogate1","surrogate2","entityReplacer","appendText","xt","lineEnd","linePattern","lineStart","parseStack","currentNSMap","closeMap","tagStart","localNSMap","endMatch","endIgnoreCaseMach","parseInstruction","parseDCC","ElementAttributes","parseElementStartPart","closed","fixSelfClosed","locator2","copyLocator","parseHtmlSpecialContent","attrName","setTagName","nsp","nsPrefix","_copy","elStartEnd","elEndStart","matchs","lastMatch","endDTD","_set_proto_","thiz","reg","getLocalName","IframeView","added","fixedWidth","fixedHeight","pane","flex","iframe","createContainer","scrolling","seamless","resizing","visibility","elementBounds","supportsSrcdoc","sectionRender","setAxis","addListeners","_textWidth","_contentWidth","_textHeight","_contentHeight","_needsReframe","iframeBorders","elBorders","lockedWidth","lockedHeight","force","reframe","prevBounds","event","onLoad","blobUrl","srcdoc","close","contentWindow","layoutFunc","transform","offsetWidth","stopExpanding","offsetTop","offsetLeft","emitter","addMark","removeMark","_options","hidden","wrapper","wordSpacing","lineHeight","verticalAlign","flexDirection","flexWrap","_element","getElement","resizeFunc","orientationChangeFunc","containerStyles","containerPadding","_windowBounds","bodyStyles","bodyPadding","rulesArray","getSheet","Views","_views","optsSettings","renditionQueue","getContainer","_stageSize","orientationTimeout","resizeTimeout","stageSize","winBounds","scrolledLocation","paginatedLocation","pageHeight","used","sections","startPos","endPos","currPage","endPage","startPage","tempStartPage","offsetPrev","offsetNext","_container","silent","calculate","setLayout","viewContents","opts1","isPlainFunction","normalizeOpts","dscr","gs","searchString","symbolTag"],"mappings":"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","file":"js/chunk-04670cc8.fc9ea973.js","sourcesContent":["var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","export const EPUBJS_VERSION = \"0.3\";\n\n// Dom events to listen for\nexport const DOM_EVENTS = [\"keydown\", \"keyup\", \"keypressed\", \"mouseup\", \"mousedown\", \"click\", \"touchend\", \"touchstart\"];\n\nexport const EVENTS = {\n  BOOK : {\n    OPEN_FAILED : \"openFailed\"\n  },\n  CONTENTS : {\n    EXPAND : \"expand\",\n    RESIZE : \"resize\",\n    SELECTED : \"selected\",\n    SELECTED_RANGE : \"selectedRange\",\n    LINK_CLICKED : \"linkClicked\"\n  },\n  LOCATIONS : {\n    CHANGED : \"changed\"\n  },\n  MANAGERS : {\n    RESIZE : \"resize\",\n    RESIZED : \"resized\",\n    ORIENTATION_CHANGE : \"orientationchange\",\n    ADDED : \"added\",\n    SCROLL : \"scroll\",\n    SCROLLED : \"scrolled\"\n  },\n  VIEWS : {\n    AXIS : \"axis\",\n    LOAD_ERROR : \"loaderror\",\n    RENDERED : \"rendered\",\n    RESIZED : \"resized\",\n    DISPLAYED : \"displayed\",\n    SHOWN : \"shown\",\n    HIDDEN : \"hidden\",\n    MARK_CLICKED : \"markClicked\"\n  },\n  RENDITION : {\n    STARTED : \"started\",\n    ATTACHED : \"attached\",\n    DISPLAYED : \"displayed\",\n    DISPLAY_ERROR : \"displayerror\",\n    RENDERED : \"rendered\",\n    REMOVED : \"removed\",\n    RESIZED : \"resized\",\n    ORIENTATION_CHANGE : \"orientationchange\",\n    LOCATION_CHANGED : \"locationChanged\",\n    RELOCATED : \"relocated\",\n    MARK_CLICKED : \"markClicked\",\n    SELECTED : \"selected\",\n    LAYOUT: \"layout\"\n  },\n  LAYOUT : {\n    UPDATED : \"updated\"\n  }\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Content.vue?vue&type=style&index=0&id=1743cea0&lang=scss&scoped=true&\"","/**\n * Core Utilities and Helpers\n * @module Core\n*/\n\n/**\n * Vendor prefixed requestAnimationFrame\n * @returns {function} requestAnimationFrame\n * @memberof Core\n */\nexport const requestAnimationFrame = (typeof window != \"undefined\") ? (window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame) : false;\nconst ELEMENT_NODE = 1;\nconst TEXT_NODE = 3;\nconst COMMENT_NODE = 8;\nconst DOCUMENT_NODE = 9;\nconst _URL = typeof URL != \"undefined\" ? URL : (typeof window != \"undefined\" ? (window.URL || window.webkitURL || window.mozURL) : undefined);\n\n/**\n * Generates a UUID\n * based on: http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript\n * @returns {string} uuid\n * @memberof Core\n */\nexport function uuid() {\n\tvar d = new Date().getTime();\n\tvar uuid = \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n\t\tvar r = (d + Math.random()*16)%16 | 0;\n\t\td = Math.floor(d/16);\n\t\treturn (c==\"x\" ? r : (r&0x7|0x8)).toString(16);\n\t});\n\treturn uuid;\n}\n\n/**\n * Gets the height of a document\n * @returns {number} height\n * @memberof Core\n */\nexport function documentHeight() {\n\treturn Math.max(\n\t\t\tdocument.documentElement.clientHeight,\n\t\t\tdocument.body.scrollHeight,\n\t\t\tdocument.documentElement.scrollHeight,\n\t\t\tdocument.body.offsetHeight,\n\t\t\tdocument.documentElement.offsetHeight\n\t);\n}\n\n/**\n * Checks if a node is an element\n * @param {object} obj\n * @returns {boolean}\n * @memberof Core\n */\nexport function isElement(obj) {\n\treturn !!(obj && obj.nodeType == 1);\n}\n\n/**\n * @param {any} n\n * @returns {boolean}\n * @memberof Core\n */\nexport function isNumber(n) {\n\treturn !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/**\n * @param {any} n\n * @returns {boolean}\n * @memberof Core\n */\nexport function isFloat(n) {\n\tlet f = parseFloat(n);\n\n\tif (isNumber(n) === false) {\n\t\treturn false;\n\t}\n\n\tif (typeof n === \"string\" && n.indexOf(\".\") > -1) {\n\t\treturn true;\n\t}\n\n\treturn Math.floor(f) !== f;\n}\n\n/**\n * Get a prefixed css property\n * @param {string} unprefixed\n * @returns {string}\n * @memberof Core\n */\nexport function prefixed(unprefixed) {\n\tvar vendors = [\"Webkit\", \"webkit\", \"Moz\", \"O\", \"ms\" ];\n\tvar prefixes = [\"-webkit-\", \"-webkit-\", \"-moz-\", \"-o-\", \"-ms-\"];\n\tvar upper = unprefixed[0].toUpperCase() + unprefixed.slice(1);\n\tvar length = vendors.length;\n\n\tif (typeof(document) === \"undefined\" || typeof(document.body.style[unprefixed]) != \"undefined\") {\n\t\treturn unprefixed;\n\t}\n\n\tfor ( var i=0; i < length; i++ ) {\n\t\tif (typeof(document.body.style[vendors[i] + upper]) != \"undefined\") {\n\t\t\treturn prefixes[i] + unprefixed;\n\t\t}\n\t}\n\n\treturn unprefixed;\n}\n\n/**\n * Apply defaults to an object\n * @param {object} obj\n * @returns {object}\n * @memberof Core\n */\nexport function defaults(obj) {\n\tfor (var i = 1, length = arguments.length; i < length; i++) {\n\t\tvar source = arguments[i];\n\t\tfor (var prop in source) {\n\t\t\tif (obj[prop] === void 0) obj[prop] = source[prop];\n\t\t}\n\t}\n\treturn obj;\n}\n\n/**\n * Extend properties of an object\n * @param {object} target\n * @returns {object}\n * @memberof Core\n */\nexport function extend(target) {\n\tvar sources = [].slice.call(arguments, 1);\n\tsources.forEach(function (source) {\n\t\tif(!source) return;\n\t\tObject.getOwnPropertyNames(source).forEach(function(propName) {\n\t\t\tObject.defineProperty(target, propName, Object.getOwnPropertyDescriptor(source, propName));\n\t\t});\n\t});\n\treturn target;\n}\n\n/**\n * Fast quicksort insert for sorted array -- based on:\n *  http://stackoverflow.com/questions/1344500/efficient-way-to-insert-a-number-into-a-sorted-array-of-numbers\n * @param {any} item\n * @param {array} array\n * @param {function} [compareFunction]\n * @returns {number} location (in array)\n * @memberof Core\n */\nexport function insert(item, array, compareFunction) {\n\tvar location = locationOf(item, array, compareFunction);\n\tarray.splice(location, 0, item);\n\n\treturn location;\n}\n\n/**\n * Finds where something would fit into a sorted array\n * @param {any} item\n * @param {array} array\n * @param {function} [compareFunction]\n * @param {function} [_start]\n * @param {function} [_end]\n * @returns {number} location (in array)\n * @memberof Core\n */\nexport function locationOf(item, array, compareFunction, _start, _end) {\n\tvar start = _start || 0;\n\tvar end = _end || array.length;\n\tvar pivot = parseInt(start + (end - start) / 2);\n\tvar compared;\n\tif(!compareFunction){\n\t\tcompareFunction = function(a, b) {\n\t\t\tif(a > b) return 1;\n\t\t\tif(a < b) return -1;\n\t\t\tif(a == b) return 0;\n\t\t};\n\t}\n\tif(end-start <= 0) {\n\t\treturn pivot;\n\t}\n\n\tcompared = compareFunction(array[pivot], item);\n\tif(end-start === 1) {\n\t\treturn compared >= 0 ? pivot : pivot + 1;\n\t}\n\tif(compared === 0) {\n\t\treturn pivot;\n\t}\n\tif(compared === -1) {\n\t\treturn locationOf(item, array, compareFunction, pivot, end);\n\t} else{\n\t\treturn locationOf(item, array, compareFunction, start, pivot);\n\t}\n}\n\n/**\n * Finds index of something in a sorted array\n * Returns -1 if not found\n * @param {any} item\n * @param {array} array\n * @param {function} [compareFunction]\n * @param {function} [_start]\n * @param {function} [_end]\n * @returns {number} index (in array) or -1\n * @memberof Core\n */\nexport function indexOfSorted(item, array, compareFunction, _start, _end) {\n\tvar start = _start || 0;\n\tvar end = _end || array.length;\n\tvar pivot = parseInt(start + (end - start) / 2);\n\tvar compared;\n\tif(!compareFunction){\n\t\tcompareFunction = function(a, b) {\n\t\t\tif(a > b) return 1;\n\t\t\tif(a < b) return -1;\n\t\t\tif(a == b) return 0;\n\t\t};\n\t}\n\tif(end-start <= 0) {\n\t\treturn -1; // Not found\n\t}\n\n\tcompared = compareFunction(array[pivot], item);\n\tif(end-start === 1) {\n\t\treturn compared === 0 ? pivot : -1;\n\t}\n\tif(compared === 0) {\n\t\treturn pivot; // Found\n\t}\n\tif(compared === -1) {\n\t\treturn indexOfSorted(item, array, compareFunction, pivot, end);\n\t} else{\n\t\treturn indexOfSorted(item, array, compareFunction, start, pivot);\n\t}\n}\n/**\n * Find the bounds of an element\n * taking padding and margin into account\n * @param {element} el\n * @returns {{ width: Number, height: Number}}\n * @memberof Core\n */\nexport function bounds(el) {\n\n\tvar style = window.getComputedStyle(el);\n\tvar widthProps = [\"width\", \"paddingRight\", \"paddingLeft\", \"marginRight\", \"marginLeft\", \"borderRightWidth\", \"borderLeftWidth\"];\n\tvar heightProps = [\"height\", \"paddingTop\", \"paddingBottom\", \"marginTop\", \"marginBottom\", \"borderTopWidth\", \"borderBottomWidth\"];\n\n\tvar width = 0;\n\tvar height = 0;\n\n\twidthProps.forEach(function(prop){\n\t\twidth += parseFloat(style[prop]) || 0;\n\t});\n\n\theightProps.forEach(function(prop){\n\t\theight += parseFloat(style[prop]) || 0;\n\t});\n\n\treturn {\n\t\theight: height,\n\t\twidth: width\n\t};\n\n}\n\n/**\n * Find the bounds of an element\n * taking padding, margin and borders into account\n * @param {element} el\n * @returns {{ width: Number, height: Number}}\n * @memberof Core\n */\nexport function borders(el) {\n\n\tvar style = window.getComputedStyle(el);\n\tvar widthProps = [\"paddingRight\", \"paddingLeft\", \"marginRight\", \"marginLeft\", \"borderRightWidth\", \"borderLeftWidth\"];\n\tvar heightProps = [\"paddingTop\", \"paddingBottom\", \"marginTop\", \"marginBottom\", \"borderTopWidth\", \"borderBottomWidth\"];\n\n\tvar width = 0;\n\tvar height = 0;\n\n\twidthProps.forEach(function(prop){\n\t\twidth += parseFloat(style[prop]) || 0;\n\t});\n\n\theightProps.forEach(function(prop){\n\t\theight += parseFloat(style[prop]) || 0;\n\t});\n\n\treturn {\n\t\theight: height,\n\t\twidth: width\n\t};\n\n}\n\n/**\n * Find the bounds of any node\n * allows for getting bounds of text nodes by wrapping them in a range\n * @param {node} node\n * @returns {BoundingClientRect}\n * @memberof Core\n */\nexport function nodeBounds(node) {\n\tlet elPos;\n\tlet doc = node.ownerDocument;\n\tif(node.nodeType == Node.TEXT_NODE){\n\t\tlet elRange = doc.createRange();\n\t\telRange.selectNodeContents(node);\n\t\telPos = elRange.getBoundingClientRect();\n\t} else {\n\t\telPos = node.getBoundingClientRect();\n\t}\n\treturn elPos;\n}\n\n/**\n * Find the equivelent of getBoundingClientRect of a browser window\n * @returns {{ width: Number, height: Number, top: Number, left: Number, right: Number, bottom: Number }}\n * @memberof Core\n */\nexport function windowBounds() {\n\n\tvar width = window.innerWidth;\n\tvar height = window.innerHeight;\n\n\treturn {\n\t\ttop: 0,\n\t\tleft: 0,\n\t\tright: width,\n\t\tbottom: height,\n\t\twidth: width,\n\t\theight: height\n\t};\n\n}\n\n/**\n * Gets the index of a node in its parent\n * @param {Node} node\n * @param {string} typeId\n * @return {number} index\n * @memberof Core\n */\nexport function indexOfNode(node, typeId) {\n\tvar parent = node.parentNode;\n\tvar children = parent.childNodes;\n\tvar sib;\n\tvar index = -1;\n\tfor (var i = 0; i < children.length; i++) {\n\t\tsib = children[i];\n\t\tif (sib.nodeType === typeId) {\n\t\t\tindex++;\n\t\t}\n\t\tif (sib == node) break;\n\t}\n\n\treturn index;\n}\n\n/**\n * Gets the index of a text node in its parent\n * @param {node} textNode\n * @returns {number} index\n * @memberof Core\n */\nexport function indexOfTextNode(textNode) {\n\treturn indexOfNode(textNode, TEXT_NODE);\n}\n\n/**\n * Gets the index of an element node in its parent\n * @param {element} elementNode\n * @returns {number} index\n * @memberof Core\n */\nexport function indexOfElementNode(elementNode) {\n\treturn indexOfNode(elementNode, ELEMENT_NODE);\n}\n\n/**\n * Check if extension is xml\n * @param {string} ext\n * @returns {boolean}\n * @memberof Core\n */\nexport function isXml(ext) {\n\treturn [\"xml\", \"opf\", \"ncx\"].indexOf(ext) > -1;\n}\n\n/**\n * Create a new blob\n * @param {any} content\n * @param {string} mime\n * @returns {Blob}\n * @memberof Core\n */\nexport function createBlob(content, mime){\n\treturn new Blob([content], {type : mime });\n}\n\n/**\n * Create a new blob url\n * @param {any} content\n * @param {string} mime\n * @returns {string} url\n * @memberof Core\n */\nexport function createBlobUrl(content, mime){\n\tvar tempUrl;\n\tvar blob = createBlob(content, mime);\n\n\ttempUrl = _URL.createObjectURL(blob);\n\n\treturn tempUrl;\n}\n\n/**\n * Remove a blob url\n * @param {string} url\n * @memberof Core\n */\nexport function revokeBlobUrl(url){\n\treturn _URL.revokeObjectURL(url);\n}\n\n/**\n * Create a new base64 encoded url\n * @param {any} content\n * @param {string} mime\n * @returns {string} url\n * @memberof Core\n */\nexport function createBase64Url(content, mime){\n\tvar data;\n\tvar datauri;\n\n\tif (typeof(content) !== \"string\") {\n\t\t// Only handles strings\n\t\treturn;\n\t}\n\n\tdata = btoa(encodeURIComponent(content));\n\n\tdatauri = \"data:\" + mime + \";base64,\" + data;\n\n\treturn datauri;\n}\n\n/**\n * Get type of an object\n * @param {object} obj\n * @returns {string} type\n * @memberof Core\n */\nexport function type(obj){\n\treturn Object.prototype.toString.call(obj).slice(8, -1);\n}\n\n/**\n * Parse xml (or html) markup\n * @param {string} markup\n * @param {string} mime\n * @param {boolean} forceXMLDom force using xmlDom to parse instead of native parser\n * @returns {document} document\n * @memberof Core\n */\nexport function parse(markup, mime, forceXMLDom) {\n\tvar doc;\n\tvar Parser;\n\n\tif (typeof DOMParser === \"undefined\" || forceXMLDom) {\n\t\tParser = require(\"xmldom\").DOMParser;\n\t} else {\n\t\tParser = DOMParser;\n\t}\n\n\t// Remove byte order mark before parsing\n\t// https://www.w3.org/International/questions/qa-byte-order-mark\n\tif(markup.charCodeAt(0) === 0xFEFF) {\n\t\tmarkup = markup.slice(1);\n\t}\n\n\tdoc = new Parser().parseFromString(markup, mime);\n\n\treturn doc;\n}\n\n/**\n * querySelector polyfill\n * @param {element} el\n * @param {string} sel selector string\n * @returns {element} element\n * @memberof Core\n */\nexport function qs(el, sel) {\n\tvar elements;\n\tif (!el) {\n\t\tthrow new Error(\"No Element Provided\");\n\t}\n\n\tif (typeof el.querySelector != \"undefined\") {\n\t\treturn el.querySelector(sel);\n\t} else {\n\t\telements = el.getElementsByTagName(sel);\n\t\tif (elements.length) {\n\t\t\treturn elements[0];\n\t\t}\n\t}\n}\n\n/**\n * querySelectorAll polyfill\n * @param {element} el\n * @param {string} sel selector string\n * @returns {element[]} elements\n * @memberof Core\n */\nexport function qsa(el, sel) {\n\n\tif (typeof el.querySelector != \"undefined\") {\n\t\treturn el.querySelectorAll(sel);\n\t} else {\n\t\treturn el.getElementsByTagName(sel);\n\t}\n}\n\n/**\n * querySelector by property\n * @param {element} el\n * @param {string} sel selector string\n * @param {object[]} props\n * @returns {element[]} elements\n * @memberof Core\n */\nexport function qsp(el, sel, props) {\n\tvar q, filtered;\n\tif (typeof el.querySelector != \"undefined\") {\n\t\tsel += \"[\";\n\t\tfor (var prop in props) {\n\t\t\tsel += prop + \"~='\" + props[prop] + \"'\";\n\t\t}\n\t\tsel += \"]\";\n\t\treturn el.querySelector(sel);\n\t} else {\n\t\tq = el.getElementsByTagName(sel);\n\t\tfiltered = Array.prototype.slice.call(q, 0).filter(function(el) {\n\t\t\tfor (var prop in props) {\n\t\t\t\tif(el.getAttribute(prop) === props[prop]){\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\n\t\tif (filtered) {\n\t\t\treturn filtered[0];\n\t\t}\n\t}\n}\n\n/**\n * Sprint through all text nodes in a document\n * @memberof Core\n * @param  {element} root element to start with\n * @param  {function} func function to run on each element\n */\nexport function sprint(root, func) {\n\tvar doc = root.ownerDocument || root;\n\tif (typeof(doc.createTreeWalker) !== \"undefined\") {\n\t\ttreeWalker(root, func, NodeFilter.SHOW_TEXT);\n\t} else {\n\t\twalk(root, function(node) {\n\t\t\tif (node && node.nodeType === 3) { // Node.TEXT_NODE\n\t\t\t\tfunc(node);\n\t\t\t}\n\t\t}, true);\n\t}\n}\n\n/**\n * Create a treeWalker\n * @memberof Core\n * @param  {element} root element to start with\n * @param  {function} func function to run on each element\n * @param  {function | object} filter funtion or object to filter with\n */\nexport function treeWalker(root, func, filter) {\n\tvar treeWalker = document.createTreeWalker(root, filter, null, false);\n\tlet node;\n\twhile ((node = treeWalker.nextNode())) {\n\t\tfunc(node);\n\t}\n}\n\n/**\n * @memberof Core\n * @param {node} node\n * @param {callback} return false for continue,true for break inside callback\n */\nexport function walk(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tnode = node.firstChild;\n\tif(node){\n\t\tdo{\n\t\t\tlet walked = walk(node,callback);\n\t\t\tif(walked){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tnode = node.nextSibling;\n\t\t} while(node);\n\t}\n}\n\n/**\n * Convert a blob to a base64 encoded string\n * @param {Blog} blob\n * @returns {string}\n * @memberof Core\n */\nexport function blob2base64(blob) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar reader = new FileReader();\n\t\treader.readAsDataURL(blob);\n\t\treader.onloadend = function() {\n\t\t\tresolve(reader.result);\n\t\t};\n\t});\n}\n\n\n/**\n * Creates a new pending promise and provides methods to resolve or reject it.\n * From: https://developer.mozilla.org/en-US/docs/Mozilla/JavaScript_code_modules/Promise.jsm/Deferred#backwards_forwards_compatible\n * @memberof Core\n */\nexport function defer() {\n\t/* A method to resolve the associated Promise with the value passed.\n\t * If the promise is already settled it does nothing.\n\t *\n\t * @param {anything} value : This value is used to resolve the promise\n\t * If the value is a Promise then the associated promise assumes the state\n\t * of Promise passed as value.\n\t */\n\tthis.resolve = null;\n\n\t/* A method to reject the assocaited Promise with the value passed.\n\t * If the promise is already settled it does nothing.\n\t *\n\t * @param {anything} reason: The reason for the rejection of the Promise.\n\t * Generally its an Error object. If however a Promise is passed, then the Promise\n\t * itself will be the reason for rejection no matter the state of the Promise.\n\t */\n\tthis.reject = null;\n\n\tthis.id = uuid();\n\n\t/* A newly created Pomise object.\n\t * Initially in pending state.\n\t */\n\tthis.promise = new Promise((resolve, reject) => {\n\t\tthis.resolve = resolve;\n\t\tthis.reject = reject;\n\t});\n\tObject.freeze(this);\n}\n\n/**\n * querySelector with filter by epub type\n * @param {element} html\n * @param {string} element element type to find\n * @param {string} type epub type to find\n * @returns {element[]} elements\n * @memberof Core\n */\nexport function querySelectorByType(html, element, type){\n\tvar query;\n\tif (typeof html.querySelector != \"undefined\") {\n\t\tquery = html.querySelector(`${element}[*|type=\"${type}\"]`);\n\t}\n\t// Handle IE not supporting namespaced epub:type in querySelector\n\tif(!query || query.length === 0) {\n\t\tquery = qsa(html, element);\n\t\tfor (var i = 0; i < query.length; i++) {\n\t\t\tif(query[i].getAttributeNS(\"http://www.idpf.org/2007/ops\", \"type\") === type ||\n\t\t\t\t query[i].getAttribute(\"epub:type\") === type) {\n\t\t\t\treturn query[i];\n\t\t\t}\n\t\t}\n\t} else {\n\t\treturn query;\n\t}\n}\n\n/**\n * Find direct decendents of an element\n * @param {element} el\n * @returns {element[]} children\n * @memberof Core\n */\nexport function findChildren(el) {\n\tvar result = [];\n\tvar childNodes = el.childNodes;\n\tfor (var i = 0; i < childNodes.length; i++) {\n\t\tlet node = childNodes[i];\n\t\tif (node.nodeType === 1) {\n\t\t\tresult.push(node);\n\t\t}\n\t}\n\treturn result;\n}\n\n/**\n * Find all parents (ancestors) of an element\n * @param {element} node\n * @returns {element[]} parents\n * @memberof Core\n */\nexport function parents(node) {\n\tvar nodes = [node];\n\tfor (; node; node = node.parentNode) {\n\t\tnodes.unshift(node);\n\t}\n\treturn nodes\n}\n\n/**\n * Find all direct decendents of a specific type\n * @param {element} el\n * @param {string} nodeName\n * @param {boolean} [single]\n * @returns {element[]} children\n * @memberof Core\n */\nexport function filterChildren(el, nodeName, single) {\n\tvar result = [];\n\tvar childNodes = el.childNodes;\n\tfor (var i = 0; i < childNodes.length; i++) {\n\t\tlet node = childNodes[i];\n\t\tif (node.nodeType === 1 && node.nodeName.toLowerCase() === nodeName) {\n\t\t\tif (single) {\n\t\t\t\treturn node;\n\t\t\t} else {\n\t\t\t\tresult.push(node);\n\t\t\t}\n\t\t}\n\t}\n\tif (!single) {\n\t\treturn result;\n\t}\n}\n\n/**\n * Filter all parents (ancestors) with tag name\n * @param {element} node\n * @param {string} tagname\n * @returns {element[]} parents\n * @memberof Core\n */\nexport function getParentByTagName(node, tagname) {\n\tlet parent;\n\tif (node === null || tagname === '') return;\n\tparent = node.parentNode;\n\twhile (parent.nodeType === 1) {\n\t\tif (parent.tagName.toLowerCase() === tagname) {\n\t\t\treturn parent;\n\t\t}\n\t\tparent = parent.parentNode;\n\t}\n}\n\n/**\n * Lightweight Polyfill for DOM Range\n * @class\n * @memberof Core\n */\nexport class RangeObject {\n\tconstructor() {\n\t\tthis.collapsed = false;\n\t\tthis.commonAncestorContainer = undefined;\n\t\tthis.endContainer = undefined;\n\t\tthis.endOffset = undefined;\n\t\tthis.startContainer = undefined;\n\t\tthis.startOffset = undefined;\n\t}\n\n\tsetStart(startNode, startOffset) {\n\t\tthis.startContainer = startNode;\n\t\tthis.startOffset = startOffset;\n\n\t\tif (!this.endContainer) {\n\t\t\tthis.collapse(true);\n\t\t} else {\n\t\t\tthis.commonAncestorContainer = this._commonAncestorContainer();\n\t\t}\n\n\t\tthis._checkCollapsed();\n\t}\n\n\tsetEnd(endNode, endOffset) {\n\t\tthis.endContainer = endNode;\n\t\tthis.endOffset = endOffset;\n\n\t\tif (!this.startContainer) {\n\t\t\tthis.collapse(false);\n\t\t} else {\n\t\t\tthis.collapsed = false;\n\t\t\tthis.commonAncestorContainer = this._commonAncestorContainer();\n\t\t}\n\n\t\tthis._checkCollapsed();\n\t}\n\n\tcollapse(toStart) {\n\t\tthis.collapsed = true;\n\t\tif (toStart) {\n\t\t\tthis.endContainer = this.startContainer;\n\t\t\tthis.endOffset = this.startOffset;\n\t\t\tthis.commonAncestorContainer = this.startContainer.parentNode;\n\t\t} else {\n\t\t\tthis.startContainer = this.endContainer;\n\t\t\tthis.startOffset = this.endOffset;\n\t\t\tthis.commonAncestorContainer = this.endOffset.parentNode;\n\t\t}\n\t}\n\n\tselectNode(referenceNode) {\n\t\tlet parent = referenceNode.parentNode;\n\t\tlet index = Array.prototype.indexOf.call(parent.childNodes, referenceNode);\n\t\tthis.setStart(parent, index);\n\t\tthis.setEnd(parent, index + 1);\n\t}\n\n\tselectNodeContents(referenceNode) {\n\t\tlet end = referenceNode.childNodes[referenceNode.childNodes - 1];\n\t\tlet endIndex = (referenceNode.nodeType === 3) ?\n\t\t\t\treferenceNode.textContent.length : parent.childNodes.length;\n\t\tthis.setStart(referenceNode, 0);\n\t\tthis.setEnd(referenceNode, endIndex);\n\t}\n\n\t_commonAncestorContainer(startContainer, endContainer) {\n\t\tvar startParents = parents(startContainer || this.startContainer);\n\t\tvar endParents = parents(endContainer || this.endContainer);\n\n\t\tif (startParents[0] != endParents[0]) return undefined;\n\n\t\tfor (var i = 0; i < startParents.length; i++) {\n\t\t\tif (startParents[i] != endParents[i]) {\n\t\t\t\treturn startParents[i - 1];\n\t\t\t}\n\t\t}\n\t}\n\n\t_checkCollapsed() {\n\t\tif (this.startContainer === this.endContainer &&\n\t\t\t\tthis.startOffset === this.endOffset) {\n\t\t\tthis.collapsed = true;\n\t\t} else {\n\t\t\tthis.collapsed = false;\n\t\t}\n\t}\n\n\ttoString() {\n\t\t// TODO: implement walking between start and end to find text\n\t}\n}\n","var isArray = require('../internals/is-array');\nvar isConstructor = require('../internals/is-constructor');\nvar isObject = require('../internals/is-object');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// a part of `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (isConstructor(C) && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","import Path from \"./path\";\nimport path from \"path-webpack\";\n\n/**\n * creates a Url object for parsing and manipulation of a url string\n * @param\t{string} urlString\ta url string (relative or absolute)\n * @param\t{string} [baseString] optional base for the url,\n * default to window.location.href\n */\nclass Url {\n\tconstructor(urlString, baseString) {\n\t\tvar absolute = (urlString.indexOf(\"://\") > -1);\n\t\tvar pathname = urlString;\n\t\tvar basePath;\n\n\t\tthis.Url = undefined;\n\t\tthis.href = urlString;\n\t\tthis.protocol = \"\";\n\t\tthis.origin = \"\";\n\t\tthis.hash = \"\";\n\t\tthis.hash = \"\";\n\t\tthis.search = \"\";\n\t\tthis.base = baseString;\n\n\t\tif (!absolute &&\n\t\t\t\tbaseString !== false &&\n\t\t\t\ttypeof(baseString) !== \"string\" &&\n\t\t\t\twindow && window.location) {\n\t\t\tthis.base = window.location.href;\n\t\t}\n\n\t\t// URL Polyfill doesn't throw an error if base is empty\n\t\tif (absolute || this.base) {\n\t\t\ttry {\n\t\t\t\tif (this.base) { // Safari doesn't like an undefined base\n\t\t\t\t\tthis.Url = new URL(urlString, this.base);\n\t\t\t\t} else {\n\t\t\t\t\tthis.Url = new URL(urlString);\n\t\t\t\t}\n\t\t\t\tthis.href = this.Url.href;\n\n\t\t\t\tthis.protocol = this.Url.protocol;\n\t\t\t\tthis.origin = this.Url.origin;\n\t\t\t\tthis.hash = this.Url.hash;\n\t\t\t\tthis.search = this.Url.search;\n\n\t\t\t\tpathname = this.Url.pathname;\n\t\t\t} catch (e) {\n\t\t\t\t// Skip URL parsing\n\t\t\t\tthis.Url = undefined;\n\t\t\t\t// resolve the pathname from the base\n\t\t\t\tif (this.base) {\n\t\t\t\t\tbasePath = new Path(this.base);\n\t\t\t\t\tpathname = basePath.resolve(pathname);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.Path = new Path(pathname);\n\n\t\tthis.directory = this.Path.directory;\n\t\tthis.filename = this.Path.filename;\n\t\tthis.extension = this.Path.extension;\n\n\t}\n\n\t/**\n\t * @returns {Path}\n\t */\n\tpath () {\n\t\treturn this.Path;\n\t}\n\n\t/**\n\t * Resolves a relative path to a absolute url\n\t * @param {string} what\n\t * @returns {string} url\n\t */\n\tresolve (what) {\n\t\tvar isAbsolute = (what.indexOf(\"://\") > -1);\n\t\tvar fullpath;\n\n\t\tif (isAbsolute) {\n\t\t\treturn what;\n\t\t}\n\n\t\tfullpath = path.resolve(this.directory, what);\n\t\treturn this.origin + fullpath;\n\t}\n\n\t/**\n\t * Resolve a path relative to the url\n\t * @param {string} what\n\t * @returns {string} path\n\t */\n\trelative (what) {\n\t\treturn path.relative(what, this.directory);\n\t}\n\n\t/**\n\t * @returns {string}\n\t */\n\ttoString () {\n\t\treturn this.href;\n\t}\n}\n\nexport default Url;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","\"use strict\";\n\nmodule.exports = function () {\n\tvar assign = Object.assign, obj;\n\tif (typeof assign !== \"function\") return false;\n\tobj = { foo: \"raz\" };\n\tassign(obj, { bar: \"dwa\" }, { trzy: \"trzy\" });\n\treturn obj.foo + obj.bar + obj.trzy === \"razdwatrzy\";\n};\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar DOMTokenListPrototype = require('../internals/dom-token-list-prototype');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar handlePrototype = function (CollectionPrototype) {\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n};\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  handlePrototype(global[COLLECTION_NAME] && global[COLLECTION_NAME].prototype);\n}\n\nhandlePrototype(DOMTokenListPrototype);\n","\"use strict\";\n\nvar isFunction = require(\"../function/is\");\n\nvar classRe = /^\\s*class[\\s{/}]/, functionToString = Function.prototype.toString;\n\nmodule.exports = function (value) {\n\tif (!isFunction(value)) return false;\n\tif (classRe.test(functionToString.call(value))) return false;\n\treturn true;\n};\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","import { qs, qsa } from \"./core\";\nimport Url from \"./url\";\nimport Path from \"./path\";\n\nexport function replaceBase(doc, section){\n\tvar base;\n\tvar head;\n\tvar url = section.url;\n\tvar absolute = (url.indexOf(\"://\") > -1);\n\n\tif(!doc){\n\t\treturn;\n\t}\n\n\thead = qs(doc, \"head\");\n\tbase = qs(head, \"base\");\n\n\tif(!base) {\n\t\tbase = doc.createElement(\"base\");\n\t\thead.insertBefore(base, head.firstChild);\n\t}\n\n\t// Fix for Safari crashing if the url doesn't have an origin\n\tif (!absolute && window && window.location) {\n\t\turl = window.location.origin + url;\n\t}\n\n\tbase.setAttribute(\"href\", url);\n}\n\nexport function replaceCanonical(doc, section){\n\tvar head;\n\tvar link;\n\tvar url = section.canonical;\n\n\tif(!doc){\n\t\treturn;\n\t}\n\n\thead = qs(doc, \"head\");\n\tlink = qs(head, \"link[rel='canonical']\");\n\n\tif (link) {\n\t\tlink.setAttribute(\"href\", url);\n\t} else {\n\t\tlink = doc.createElement(\"link\");\n\t\tlink.setAttribute(\"rel\", \"canonical\");\n\t\tlink.setAttribute(\"href\", url);\n\t\thead.appendChild(link);\n\t}\n}\n\nexport function replaceMeta(doc, section){\n\tvar head;\n\tvar meta;\n\tvar id = section.idref;\n\tif(!doc){\n\t\treturn;\n\t}\n\n\thead = qs(doc, \"head\");\n\tmeta = qs(head, \"link[property='dc.identifier']\");\n\n\tif (meta) {\n\t\tmeta.setAttribute(\"content\", id);\n\t} else {\n\t\tmeta = doc.createElement(\"meta\");\n\t\tmeta.setAttribute(\"name\", \"dc.identifier\");\n\t\tmeta.setAttribute(\"content\", id);\n\t\thead.appendChild(meta);\n\t}\n}\n\n// TODO: move me to Contents\nexport function replaceLinks(contents, fn) {\n\n\tvar links = contents.querySelectorAll(\"a[href]\");\n\n\tif (!links.length) {\n\t\treturn;\n\t}\n\n\tvar base = qs(contents.ownerDocument, \"base\");\n\tvar location = base ? base.getAttribute(\"href\") : undefined;\n\tvar replaceLink = function(link){\n\t\tvar href = link.getAttribute(\"href\");\n\n\t\tif(href.indexOf(\"mailto:\") === 0){\n\t\t\treturn;\n\t\t}\n\n\t\tvar absolute = (href.indexOf(\"://\") > -1);\n\t\tvar linkUrl = new Url(href, location);\n\n\t\tif(absolute){\n\n\t\t\tlink.setAttribute(\"target\", \"_blank\");\n\n\t\t}else{\n\t\t\tlink.onclick = function(){\n\n\t\t\t\tif(linkUrl && linkUrl.hash) {\n\t\t\t\t\tfn(linkUrl.Path.path + linkUrl.hash);\n\t\t\t\t} else if(linkUrl){\n\t\t\t\t\tfn(linkUrl.Path.path);\n\t\t\t\t} else {\n\t\t\t\t\tfn(href);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}\n\t}.bind(this);\n\n\tfor (var i = 0; i < links.length; i++) {\n\t\treplaceLink(links[i]);\n\t}\n\n\n}\n\nexport function substitute(content, urls, replacements) {\n\turls.forEach(function(url, i){\n\t\tif (url && replacements[i]) {\n\t\t\tcontent = content.replace(new RegExp(url, \"g\"), replacements[i]);\n\t\t}\n\t});\n\treturn content;\n}\n","\"use strict\";\n\nvar str = \"razdwatrzy\";\n\nmodule.exports = function () {\n\tif (typeof str.contains !== \"function\") return false;\n\treturn str.contains(\"dwa\") === true && str.contains(\"foo\") === false;\n};\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","\"use strict\";\n\nmodule.exports = function (fn) {\n\tif (typeof fn !== \"function\") throw new TypeError(fn + \" is not a function\");\n\treturn fn;\n};\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.assign : require(\"./shim\");\n","function DOMParser(options){\r\n\tthis.options = options ||{locator:{}};\r\n\t\r\n}\r\nDOMParser.prototype.parseFromString = function(source,mimeType){\r\n\tvar options = this.options;\r\n\tvar sax =  new XMLReader();\r\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\r\n\tvar errorHandler = options.errorHandler;\r\n\tvar locator = options.locator;\r\n\tvar defaultNSMap = options.xmlns||{};\r\n\tvar entityMap = {'lt':'<','gt':'>','amp':'&','quot':'\"','apos':\"'\"}\r\n\tif(locator){\r\n\t\tdomBuilder.setDocumentLocator(locator)\r\n\t}\r\n\t\r\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\r\n\tsax.domBuilder = options.domBuilder || domBuilder;\r\n\tif(/\\/x?html?$/.test(mimeType)){\r\n\t\tentityMap.nbsp = '\\xa0';\r\n\t\tentityMap.copy = '\\xa9';\r\n\t\tdefaultNSMap['']= 'http://www.w3.org/1999/xhtml';\r\n\t}\r\n\tdefaultNSMap.xml = defaultNSMap.xml || 'http://www.w3.org/XML/1998/namespace';\r\n\tif(source){\r\n\t\tsax.parse(source,defaultNSMap,entityMap);\r\n\t}else{\r\n\t\tsax.errorHandler.error(\"invalid doc source\");\r\n\t}\r\n\treturn domBuilder.doc;\r\n}\r\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\r\n\tif(!errorImpl){\r\n\t\tif(domBuilder instanceof DOMHandler){\r\n\t\t\treturn domBuilder;\r\n\t\t}\r\n\t\terrorImpl = domBuilder ;\r\n\t}\r\n\tvar errorHandler = {}\r\n\tvar isCallback = errorImpl instanceof Function;\r\n\tlocator = locator||{}\r\n\tfunction build(key){\r\n\t\tvar fn = errorImpl[key];\r\n\t\tif(!fn && isCallback){\r\n\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\r\n\t\t}\r\n\t\terrorHandler[key] = fn && function(msg){\r\n\t\t\tfn('[xmldom '+key+']\\t'+msg+_locator(locator));\r\n\t\t}||function(){};\r\n\t}\r\n\tbuild('warning');\r\n\tbuild('error');\r\n\tbuild('fatalError');\r\n\treturn errorHandler;\r\n}\r\n\r\n//console.log('#\\n\\n\\n\\n\\n\\n\\n####')\r\n/**\r\n * +ContentHandler+ErrorHandler\r\n * +LexicalHandler+EntityResolver2\r\n * -DeclHandler-DTDHandler \r\n * \r\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\r\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\r\n */\r\nfunction DOMHandler() {\r\n    this.cdata = false;\r\n}\r\nfunction position(locator,node){\r\n\tnode.lineNumber = locator.lineNumber;\r\n\tnode.columnNumber = locator.columnNumber;\r\n}\r\n/**\r\n * @see org.xml.sax.ContentHandler#startDocument\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\r\n */ \r\nDOMHandler.prototype = {\r\n\tstartDocument : function() {\r\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null);\r\n    \tif (this.locator) {\r\n        \tthis.doc.documentURI = this.locator.systemId;\r\n    \t}\r\n\t},\r\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\r\n\t\tvar doc = this.doc;\r\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\r\n\t    var len = attrs.length;\r\n\t    appendElement(this, el);\r\n\t    this.currentElement = el;\r\n\t    \r\n\t\tthis.locator && position(this.locator,el)\r\n\t    for (var i = 0 ; i < len; i++) {\r\n\t        var namespaceURI = attrs.getURI(i);\r\n\t        var value = attrs.getValue(i);\r\n\t        var qName = attrs.getQName(i);\r\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\r\n\t\t\tthis.locator &&position(attrs.getLocator(i),attr);\r\n\t\t\tattr.value = attr.nodeValue = value;\r\n\t\t\tel.setAttributeNode(attr)\r\n\t    }\r\n\t},\r\n\tendElement:function(namespaceURI, localName, qName) {\r\n\t\tvar current = this.currentElement\r\n\t\tvar tagName = current.tagName;\r\n\t\tthis.currentElement = current.parentNode;\r\n\t},\r\n\tstartPrefixMapping:function(prefix, uri) {\r\n\t},\r\n\tendPrefixMapping:function(prefix) {\r\n\t},\r\n\tprocessingInstruction:function(target, data) {\r\n\t    var ins = this.doc.createProcessingInstruction(target, data);\r\n\t    this.locator && position(this.locator,ins)\r\n\t    appendElement(this, ins);\r\n\t},\r\n\tignorableWhitespace:function(ch, start, length) {\r\n\t},\r\n\tcharacters:function(chars, start, length) {\r\n\t\tchars = _toString.apply(this,arguments)\r\n\t\t//console.log(chars)\r\n\t\tif(chars){\r\n\t\t\tif (this.cdata) {\r\n\t\t\t\tvar charNode = this.doc.createCDATASection(chars);\r\n\t\t\t} else {\r\n\t\t\t\tvar charNode = this.doc.createTextNode(chars);\r\n\t\t\t}\r\n\t\t\tif(this.currentElement){\r\n\t\t\t\tthis.currentElement.appendChild(charNode);\r\n\t\t\t}else if(/^\\s*$/.test(chars)){\r\n\t\t\t\tthis.doc.appendChild(charNode);\r\n\t\t\t\t//process xml\r\n\t\t\t}\r\n\t\t\tthis.locator && position(this.locator,charNode)\r\n\t\t}\r\n\t},\r\n\tskippedEntity:function(name) {\r\n\t},\r\n\tendDocument:function() {\r\n\t\tthis.doc.normalize();\r\n\t},\r\n\tsetDocumentLocator:function (locator) {\r\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\r\n\t    \tlocator.lineNumber = 0;\r\n\t    }\r\n\t},\r\n\t//LexicalHandler\r\n\tcomment:function(chars, start, length) {\r\n\t\tchars = _toString.apply(this,arguments)\r\n\t    var comm = this.doc.createComment(chars);\r\n\t    this.locator && position(this.locator,comm)\r\n\t    appendElement(this, comm);\r\n\t},\r\n\t\r\n\tstartCDATA:function() {\r\n\t    //used in characters() methods\r\n\t    this.cdata = true;\r\n\t},\r\n\tendCDATA:function() {\r\n\t    this.cdata = false;\r\n\t},\r\n\t\r\n\tstartDTD:function(name, publicId, systemId) {\r\n\t\tvar impl = this.doc.implementation;\r\n\t    if (impl && impl.createDocumentType) {\r\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\r\n\t        this.locator && position(this.locator,dt)\r\n\t        appendElement(this, dt);\r\n\t    }\r\n\t},\r\n\t/**\r\n\t * @see org.xml.sax.ErrorHandler\r\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\r\n\t */\r\n\twarning:function(error) {\r\n\t\tconsole.warn('[xmldom warning]\\t'+error,_locator(this.locator));\r\n\t},\r\n\terror:function(error) {\r\n\t\tconsole.error('[xmldom error]\\t'+error,_locator(this.locator));\r\n\t},\r\n\tfatalError:function(error) {\r\n\t\tconsole.error('[xmldom fatalError]\\t'+error,_locator(this.locator));\r\n\t    throw error;\r\n\t}\r\n}\r\nfunction _locator(l){\r\n\tif(l){\r\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\r\n\t}\r\n}\r\nfunction _toString(chars,start,length){\r\n\tif(typeof chars == 'string'){\r\n\t\treturn chars.substr(start,length)\r\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\r\n\t\tif(chars.length >= start+length || start){\r\n\t\t\treturn new java.lang.String(chars,start,length)+'';\r\n\t\t}\r\n\t\treturn chars;\r\n\t}\r\n}\r\n\r\n/*\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\r\n * used method of org.xml.sax.ext.LexicalHandler:\r\n *  #comment(chars, start, length)\r\n *  #startCDATA()\r\n *  #endCDATA()\r\n *  #startDTD(name, publicId, systemId)\r\n *\r\n *\r\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\r\n *  #endDTD()\r\n *  #startEntity(name)\r\n *  #endEntity(name)\r\n *\r\n *\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\r\n * IGNORED method of org.xml.sax.ext.DeclHandler\r\n * \t#attributeDecl(eName, aName, type, mode, value)\r\n *  #elementDecl(name, model)\r\n *  #externalEntityDecl(name, publicId, systemId)\r\n *  #internalEntityDecl(name, value)\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\r\n * IGNORED method of org.xml.sax.EntityResolver2\r\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\r\n *  #resolveEntity(publicId, systemId)\r\n *  #getExternalSubset(name, baseURI)\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\r\n * IGNORED method of org.xml.sax.DTDHandler\r\n *  #notationDecl(name, publicId, systemId) {};\r\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\r\n */\r\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\r\n\tDOMHandler.prototype[key] = function(){return null}\r\n})\r\n\r\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\r\nfunction appendElement (hander,node) {\r\n    if (!hander.currentElement) {\r\n        hander.doc.appendChild(node);\r\n    } else {\r\n        hander.currentElement.appendChild(node);\r\n    }\r\n}//appendChild and setAttributeNS are preformance key\r\n\r\n//if(typeof require == 'function'){\r\n\tvar XMLReader = require('./sax').XMLReader;\r\n\tvar DOMImplementation = exports.DOMImplementation = require('./dom').DOMImplementation;\r\n\texports.XMLSerializer = require('./dom').XMLSerializer ;\r\n\texports.DOMParser = DOMParser;\r\n//}\r\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","import EpubCFI from \"./epubcfi\";\nimport { nodeBounds } from \"./utils/core\";\n\n/**\n * Map text locations to CFI ranges\n * @class\n * @param {Layout} layout Layout to apply\n * @param {string} [direction=\"ltr\"] Text direction\n * @param {string} [axis=\"horizontal\"] vertical or horizontal axis\n * @param {boolean} [dev] toggle developer highlighting\n */\nclass Mapping {\n\tconstructor(layout, direction, axis, dev) {\n\t\tthis.layout = layout;\n\t\tthis.horizontal = (axis === \"horizontal\") ? true : false;\n\t\tthis.direction = direction || \"ltr\";\n\t\tthis._dev = dev;\n\t}\n\n\t/**\n\t * Find CFI pairs for entire section at once\n\t */\n\tsection(view) {\n\t\tvar ranges = this.findRanges(view);\n\t\tvar map = this.rangeListToCfiList(view.section.cfiBase, ranges);\n\n\t\treturn map;\n\t}\n\n\t/**\n\t * Find CFI pairs for a page\n\t * @param {Contents} contents Contents from view\n\t * @param {string} cfiBase string of the base for a cfi\n\t * @param {number} start position to start at\n\t * @param {number} end position to end at\n\t */\n\tpage(contents, cfiBase, start, end) {\n\t\tvar root = contents && contents.document ? contents.document.body : false;\n\t\tvar result;\n\n\t\tif (!root) {\n\t\t\treturn;\n\t\t}\n\n\t\tresult = this.rangePairToCfiPair(cfiBase, {\n\t\t\tstart: this.findStart(root, start, end),\n\t\t\tend: this.findEnd(root, start, end)\n\t\t});\n\n\t\tif (this._dev === true) {\n\t\t\tlet doc = contents.document;\n\t\t\tlet startRange = new EpubCFI(result.start).toRange(doc);\n\t\t\tlet endRange = new EpubCFI(result.end).toRange(doc);\n\n\t\t\tlet selection = doc.defaultView.getSelection();\n\t\t\tlet r = doc.createRange();\n\t\t\tselection.removeAllRanges();\n\t\t\tr.setStart(startRange.startContainer, startRange.startOffset);\n\t\t\tr.setEnd(endRange.endContainer, endRange.endOffset);\n\t\t\tselection.addRange(r);\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * Walk a node, preforming a function on each node it finds\n\t * @private\n\t * @param {Node} root Node to walkToNode\n\t * @param {function} func walk function\n\t * @return {*} returns the result of the walk function\n\t */\n\twalk(root, func) {\n\t\t// IE11 has strange issue, if root is text node IE throws exception on\n\t\t// calling treeWalker.nextNode(), saying\n\t\t// Unexpected call to method or property access instead of returing null value\n\t\tif(root && root.nodeType === Node.TEXT_NODE) {\n\t\t\treturn;\n\t\t}\n\t\t// safeFilter is required so that it can work in IE as filter is a function for IE\n\t\t// and for other browser filter is an object.\n\t\tvar filter = {\n\t\t\tacceptNode: function(node) {\n\t\t\t\tif (node.data.trim().length > 0) {\n\t\t\t\t\treturn NodeFilter.FILTER_ACCEPT;\n\t\t\t\t} else {\n\t\t\t\t\treturn NodeFilter.FILTER_REJECT;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tvar safeFilter = filter.acceptNode;\n\t\tsafeFilter.acceptNode = filter.acceptNode;\n\n\t\tvar treeWalker = document.createTreeWalker(root, NodeFilter.SHOW_TEXT, safeFilter, false);\n\t\tvar node;\n\t\tvar result;\n\t\twhile ((node = treeWalker.nextNode())) {\n\t\t\tresult = func(node);\n\t\t\tif(result) break;\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tfindRanges(view){\n\t\tvar columns = [];\n\t\tvar scrollWidth = view.contents.scrollWidth();\n\t\tvar spreads = Math.ceil( scrollWidth / this.layout.spreadWidth);\n\t\tvar count = spreads * this.layout.divisor;\n\t\tvar columnWidth = this.layout.columnWidth;\n\t\tvar gap = this.layout.gap;\n\t\tvar start, end;\n\n\t\tfor (var i = 0; i < count.pages; i++) {\n\t\t\tstart = (columnWidth + gap) * i;\n\t\t\tend = (columnWidth * (i+1)) + (gap * i);\n\t\t\tcolumns.push({\n\t\t\t\tstart: this.findStart(view.document.body, start, end),\n\t\t\t\tend: this.findEnd(view.document.body, start, end)\n\t\t\t});\n\t\t}\n\n\t\treturn columns;\n\t}\n\n\t/**\n\t * Find Start Range\n\t * @private\n\t * @param {Node} root root node\n\t * @param {number} start position to start at\n\t * @param {number} end position to end at\n\t * @return {Range}\n\t */\n\tfindStart(root, start, end){\n\t\tvar stack = [root];\n\t\tvar $el;\n\t\tvar found;\n\t\tvar $prev = root;\n\n\t\twhile (stack.length) {\n\n\t\t\t$el = stack.shift();\n\n\t\t\tfound = this.walk($el, (node) => {\n\t\t\t\tvar left, right, top, bottom;\n\t\t\t\tvar elPos;\n\t\t\t\tvar elRange;\n\n\n\t\t\t\telPos = nodeBounds(node);\n\n\t\t\t\tif (this.horizontal && this.direction === \"ltr\") {\n\n\t\t\t\t\tleft = this.horizontal ? elPos.left : elPos.top;\n\t\t\t\t\tright = this.horizontal ? elPos.right : elPos.bottom;\n\n\t\t\t\t\tif( left >= start && left <= end ) {\n\t\t\t\t\t\treturn node;\n\t\t\t\t\t} else if (right > start) {\n\t\t\t\t\t\treturn node;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$prev = node;\n\t\t\t\t\t\tstack.push(node);\n\t\t\t\t\t}\n\n\t\t\t\t} else if (this.horizontal && this.direction === \"rtl\") {\n\n\t\t\t\t\tleft = elPos.left;\n\t\t\t\t\tright = elPos.right;\n\n\t\t\t\t\tif( right <= end && right >= start ) {\n\t\t\t\t\t\treturn node;\n\t\t\t\t\t} else if (left < end) {\n\t\t\t\t\t\treturn node;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$prev = node;\n\t\t\t\t\t\tstack.push(node);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttop = elPos.top;\n\t\t\t\t\tbottom = elPos.bottom;\n\n\t\t\t\t\tif( top >= start && top <= end ) {\n\t\t\t\t\t\treturn node;\n\t\t\t\t\t} else if (bottom > start) {\n\t\t\t\t\t\treturn node;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$prev = node;\n\t\t\t\t\t\tstack.push(node);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t});\n\n\t\t\tif(found) {\n\t\t\t\treturn this.findTextStartRange(found, start, end);\n\t\t\t}\n\n\t\t}\n\n\t\t// Return last element\n\t\treturn this.findTextStartRange($prev, start, end);\n\t}\n\n\t/**\n\t * Find End Range\n\t * @private\n\t * @param {Node} root root node\n\t * @param {number} start position to start at\n\t * @param {number} end position to end at\n\t * @return {Range}\n\t */\n\tfindEnd(root, start, end){\n\t\tvar stack = [root];\n\t\tvar $el;\n\t\tvar $prev = root;\n\t\tvar found;\n\n\t\twhile (stack.length) {\n\n\t\t\t$el = stack.shift();\n\n\t\t\tfound = this.walk($el, (node) => {\n\n\t\t\t\tvar left, right, top, bottom;\n\t\t\t\tvar elPos;\n\t\t\t\tvar elRange;\n\n\t\t\t\telPos = nodeBounds(node);\n\n\t\t\t\tif (this.horizontal && this.direction === \"ltr\") {\n\n\t\t\t\t\tleft = Math.round(elPos.left);\n\t\t\t\t\tright = Math.round(elPos.right);\n\n\t\t\t\t\tif(left > end && $prev) {\n\t\t\t\t\t\treturn $prev;\n\t\t\t\t\t} else if(right > end) {\n\t\t\t\t\t\treturn node;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$prev = node;\n\t\t\t\t\t\tstack.push(node);\n\t\t\t\t\t}\n\n\t\t\t\t} else if (this.horizontal && this.direction === \"rtl\") {\n\n\t\t\t\t\tleft = Math.round(this.horizontal ? elPos.left : elPos.top);\n\t\t\t\t\tright = Math.round(this.horizontal ? elPos.right : elPos.bottom);\n\n\t\t\t\t\tif(right < start && $prev) {\n\t\t\t\t\t\treturn $prev;\n\t\t\t\t\t} else if(left < start) {\n\t\t\t\t\t\treturn node;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$prev = node;\n\t\t\t\t\t\tstack.push(node);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttop = Math.round(elPos.top);\n\t\t\t\t\tbottom = Math.round(elPos.bottom);\n\n\t\t\t\t\tif(top > end && $prev) {\n\t\t\t\t\t\treturn $prev;\n\t\t\t\t\t} else if(bottom > end) {\n\t\t\t\t\t\treturn node;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$prev = node;\n\t\t\t\t\t\tstack.push(node);\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t});\n\n\n\t\t\tif(found){\n\t\t\t\treturn this.findTextEndRange(found, start, end);\n\t\t\t}\n\n\t\t}\n\n\t\t// end of chapter\n\t\treturn this.findTextEndRange($prev, start, end);\n\t}\n\n\t/**\n\t * Find Text Start Range\n\t * @private\n\t * @param {Node} root root node\n\t * @param {number} start position to start at\n\t * @param {number} end position to end at\n\t * @return {Range}\n\t */\n\tfindTextStartRange(node, start, end){\n\t\tvar ranges = this.splitTextNodeIntoRanges(node);\n\t\tvar range;\n\t\tvar pos;\n\t\tvar left, top, right;\n\n\t\tfor (var i = 0; i < ranges.length; i++) {\n\t\t\trange = ranges[i];\n\n\t\t\tpos = range.getBoundingClientRect();\n\n\t\t\tif (this.horizontal && this.direction === \"ltr\") {\n\n\t\t\t\tleft = pos.left;\n\t\t\t\tif( left >= start ) {\n\t\t\t\t\treturn range;\n\t\t\t\t}\n\n\t\t\t} else if (this.horizontal && this.direction === \"rtl\") {\n\n\t\t\t\tright = pos.right;\n\t\t\t\tif( right <= end ) {\n\t\t\t\t\treturn range;\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\ttop = pos.top;\n\t\t\t\tif( top >= start ) {\n\t\t\t\t\treturn range;\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// prev = range;\n\n\t\t}\n\n\t\treturn ranges[0];\n\t}\n\n\t/**\n\t * Find Text End Range\n\t * @private\n\t * @param {Node} root root node\n\t * @param {number} start position to start at\n\t * @param {number} end position to end at\n\t * @return {Range}\n\t */\n\tfindTextEndRange(node, start, end){\n\t\tvar ranges = this.splitTextNodeIntoRanges(node);\n\t\tvar prev;\n\t\tvar range;\n\t\tvar pos;\n\t\tvar left, right, top, bottom;\n\n\t\tfor (var i = 0; i < ranges.length; i++) {\n\t\t\trange = ranges[i];\n\n\t\t\tpos = range.getBoundingClientRect();\n\n\t\t\tif (this.horizontal && this.direction === \"ltr\") {\n\n\t\t\t\tleft = pos.left;\n\t\t\t\tright = pos.right;\n\n\t\t\t\tif(left > end && prev) {\n\t\t\t\t\treturn prev;\n\t\t\t\t} else if(right > end) {\n\t\t\t\t\treturn range;\n\t\t\t\t}\n\n\t\t\t} else if (this.horizontal && this.direction === \"rtl\") {\n\n\t\t\t\tleft = pos.left\n\t\t\t\tright = pos.right;\n\n\t\t\t\tif(right < start && prev) {\n\t\t\t\t\treturn prev;\n\t\t\t\t} else if(left < start) {\n\t\t\t\t\treturn range;\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\ttop = pos.top;\n\t\t\t\tbottom = pos.bottom;\n\n\t\t\t\tif(top > end && prev) {\n\t\t\t\t\treturn prev;\n\t\t\t\t} else if(bottom > end) {\n\t\t\t\t\treturn range;\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tprev = range;\n\n\t\t}\n\n\t\t// Ends before limit\n\t\treturn ranges[ranges.length-1];\n\n\t}\n\n\t/**\n\t * Split up a text node into ranges for each word\n\t * @private\n\t * @param {Node} root root node\n\t * @param {string} [_splitter] what to split on\n\t * @return {Range[]}\n\t */\n\tsplitTextNodeIntoRanges(node, _splitter){\n\t\tvar ranges = [];\n\t\tvar textContent = node.textContent || \"\";\n\t\tvar text = textContent.trim();\n\t\tvar range;\n\t\tvar doc = node.ownerDocument;\n\t\tvar splitter = _splitter || \" \";\n\n\t\tvar pos = text.indexOf(splitter);\n\n\t\tif(pos === -1 || node.nodeType != Node.TEXT_NODE) {\n\t\t\trange = doc.createRange();\n\t\t\trange.selectNodeContents(node);\n\t\t\treturn [range];\n\t\t}\n\n\t\trange = doc.createRange();\n\t\trange.setStart(node, 0);\n\t\trange.setEnd(node, pos);\n\t\tranges.push(range);\n\t\trange = false;\n\n\t\twhile ( pos != -1 ) {\n\n\t\t\tpos = text.indexOf(splitter, pos + 1);\n\t\t\tif(pos > 0) {\n\n\t\t\t\tif(range) {\n\t\t\t\t\trange.setEnd(node, pos);\n\t\t\t\t\tranges.push(range);\n\t\t\t\t}\n\n\t\t\t\trange = doc.createRange();\n\t\t\t\trange.setStart(node, pos+1);\n\t\t\t}\n\t\t}\n\n\t\tif(range) {\n\t\t\trange.setEnd(node, text.length);\n\t\t\tranges.push(range);\n\t\t}\n\n\t\treturn ranges;\n\t}\n\n\n\t/**\n\t * Turn a pair of ranges into a pair of CFIs\n\t * @private\n\t * @param {string} cfiBase base string for an EpubCFI\n\t * @param {object} rangePair { start: Range, end: Range }\n\t * @return {object} { start: \"epubcfi(...)\", end: \"epubcfi(...)\" }\n\t */\n\trangePairToCfiPair(cfiBase, rangePair){\n\n\t\tvar startRange = rangePair.start;\n\t\tvar endRange = rangePair.end;\n\n\t\tstartRange.collapse(true);\n\t\tendRange.collapse(false);\n\n\t\tlet startCfi = new EpubCFI(startRange, cfiBase).toString();\n\t\tlet endCfi = new EpubCFI(endRange, cfiBase).toString();\n\n\t\treturn {\n\t\t\tstart: startCfi,\n\t\t\tend: endCfi\n\t\t};\n\n\t}\n\n\trangeListToCfiList(cfiBase, columns){\n\t\tvar map = [];\n\t\tvar cifPair;\n\n\t\tfor (var i = 0; i < columns.length; i++) {\n\t\t\tcifPair = this.rangePairToCfiPair(cfiBase, columns[i]);\n\n\t\t\tmap.push(cifPair);\n\n\t\t}\n\n\t\treturn map;\n\t}\n\n\t/**\n\t * Set the axis for mapping\n\t * @param {string} axis horizontal | vertical\n\t * @return {boolean} is it horizontal?\n\t */\n\taxis(axis) {\n\t\tif (axis) {\n\t\t\tthis.horizontal = (axis === \"horizontal\") ? true : false;\n\t\t}\n\t\treturn this.horizontal;\n\t}\n}\n\nexport default Mapping;\n","import Book from \"./book\";\nimport Rendition from \"./rendition\";\nimport CFI from \"./epubcfi\";\nimport Contents from \"./contents\";\nimport * as utils from \"./utils/core\";\nimport { EPUBJS_VERSION } from \"./utils/constants\";\nimport '../libs/url/url-polyfill'\n\nimport IframeView from \"./managers/views/iframe\";\nimport DefaultViewManager from \"./managers/default\";\nimport ContinuousViewManager from \"./managers/continuous\";\n\n/**\n * Creates a new Book\n * @param {string|ArrayBuffer} url URL, Path or ArrayBuffer\n * @param {object} options to pass to the book\n * @returns {Book} a new Book object\n * @example ePub(\"/path/to/book.epub\", {})\n */\nfunction ePub(url, options) {\n\treturn new Book(url, options);\n}\n\nePub.VERSION = EPUBJS_VERSION;\n\nif (typeof(global) !== \"undefined\") {\n\tglobal.EPUBJS_VERSION = EPUBJS_VERSION;\n}\n\nePub.Book = Book;\nePub.Rendition = Rendition;\nePub.Contents = Contents;\nePub.CFI = CFI;\nePub.utils = utils;\n\nexport default ePub;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","'use strict';\n\nif (!process) {\n  var process = {\n    \"cwd\" : function () { return '/' }\n  };\n}\n\nfunction assertPath(path) {\n  if (typeof path !== 'string') {\n    throw new TypeError('Path must be a string. Received ' + path);\n  }\n}\n\n// Resolves . and .. elements in a path with directory names\nfunction normalizeStringPosix(path, allowAboveRoot) {\n  var res = '';\n  var lastSlash = -1;\n  var dots = 0;\n  var code;\n  for (var i = 0; i <= path.length; ++i) {\n    if (i < path.length)\n      code = path.charCodeAt(i);\n    else if (code === 47/*/*/)\n      break;\n    else\n      code = 47/*/*/;\n    if (code === 47/*/*/) {\n      if (lastSlash === i - 1 || dots === 1) {\n        // NOOP\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 ||\n            res.charCodeAt(res.length - 1) !== 46/*.*/ ||\n            res.charCodeAt(res.length - 2) !== 46/*.*/) {\n          if (res.length > 2) {\n            var start = res.length - 1;\n            var j = start;\n            for (; j >= 0; --j) {\n              if (res.charCodeAt(j) === 47/*/*/)\n                break;\n            }\n            if (j !== start) {\n              if (j === -1)\n                res = '';\n              else\n                res = res.slice(0, j);\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = '';\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0)\n            res += '/..';\n          else\n            res = '..';\n        }\n      } else {\n        if (res.length > 0)\n          res += '/' + path.slice(lastSlash + 1, i);\n        else\n          res = path.slice(lastSlash + 1, i);\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46/*.*/ && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\n\nfunction _format(sep, pathObject) {\n  var dir = pathObject.dir || pathObject.root;\n  var base = pathObject.base ||\n    ((pathObject.name || '') + (pathObject.ext || ''));\n  if (!dir) {\n    return base;\n  }\n  if (dir === pathObject.root) {\n    return dir + base;\n  }\n  return dir + sep + base;\n}\n\nvar posix = {\n  // path.resolve([from ...], to)\n  resolve: function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n    var cwd;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path;\n      if (i >= 0)\n        path = arguments[i];\n      else {\n        if (cwd === undefined)\n          cwd = process.cwd();\n        path = cwd;\n      }\n\n      assertPath(path);\n\n      // Skip empty entries\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === 47/*/*/;\n    }\n\n    // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n\n    // Normalize the path\n    resolvedPath = normalizeStringPosix(resolvedPath, !resolvedAbsolute);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0)\n        return '/' + resolvedPath;\n      else\n        return '/';\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  },\n\n\n  normalize: function normalize(path) {\n    assertPath(path);\n\n    if (path.length === 0)\n      return '.';\n\n    var isAbsolute = path.charCodeAt(0) === 47/*/*/;\n    var trailingSeparator = path.charCodeAt(path.length - 1) === 47/*/*/;\n\n    // Normalize the path\n    path = normalizeStringPosix(path, !isAbsolute);\n\n    if (path.length === 0 && !isAbsolute)\n      path = '.';\n    if (path.length > 0 && trailingSeparator)\n      path += '/';\n\n    if (isAbsolute)\n      return '/' + path;\n    return path;\n  },\n\n\n  isAbsolute: function isAbsolute(path) {\n    assertPath(path);\n    return path.length > 0 && path.charCodeAt(0) === 47/*/*/;\n  },\n\n\n  join: function join() {\n    if (arguments.length === 0)\n      return '.';\n    var joined;\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === undefined)\n          joined = arg;\n        else\n          joined += '/' + arg;\n      }\n    }\n    if (joined === undefined)\n      return '.';\n    return posix.normalize(joined);\n  },\n\n\n  relative: function relative(from, to) {\n    assertPath(from);\n    assertPath(to);\n\n    if (from === to)\n      return '';\n\n    from = posix.resolve(from);\n    to = posix.resolve(to);\n\n    if (from === to)\n      return '';\n\n    // Trim any leading backslashes\n    var fromStart = 1;\n    for (; fromStart < from.length; ++fromStart) {\n      if (from.charCodeAt(fromStart) !== 47/*/*/)\n        break;\n    }\n    var fromEnd = from.length;\n    var fromLen = (fromEnd - fromStart);\n\n    // Trim any leading backslashes\n    var toStart = 1;\n    for (; toStart < to.length; ++toStart) {\n      if (to.charCodeAt(toStart) !== 47/*/*/)\n        break;\n    }\n    var toEnd = to.length;\n    var toLen = (toEnd - toStart);\n\n    // Compare paths to find the longest common path from root\n    var length = (fromLen < toLen ? fromLen : toLen);\n    var lastCommonSep = -1;\n    var i = 0;\n    for (; i <= length; ++i) {\n      if (i === length) {\n        if (toLen > length) {\n          if (to.charCodeAt(toStart + i) === 47/*/*/) {\n            // We get here if `from` is the exact base path for `to`.\n            // For example: from='/foo/bar'; to='/foo/bar/baz'\n            return to.slice(toStart + i + 1);\n          } else if (i === 0) {\n            // We get here if `from` is the root\n            // For example: from='/'; to='/foo'\n            return to.slice(toStart + i);\n          }\n        } else if (fromLen > length) {\n          if (from.charCodeAt(fromStart + i) === 47/*/*/) {\n            // We get here if `to` is the exact base path for `from`.\n            // For example: from='/foo/bar/baz'; to='/foo/bar'\n            lastCommonSep = i;\n          } else if (i === 0) {\n            // We get here if `to` is the root.\n            // For example: from='/foo'; to='/'\n            lastCommonSep = 0;\n          }\n        }\n        break;\n      }\n      var fromCode = from.charCodeAt(fromStart + i);\n      var toCode = to.charCodeAt(toStart + i);\n      if (fromCode !== toCode)\n        break;\n      else if (fromCode === 47/*/*/)\n        lastCommonSep = i;\n    }\n\n    var out = '';\n    // Generate the relative path based on the path difference between `to`\n    // and `from`\n    for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {\n      if (i === fromEnd || from.charCodeAt(i) === 47/*/*/) {\n        if (out.length === 0)\n          out += '..';\n        else\n          out += '/..';\n      }\n    }\n\n    // Lastly, append the rest of the destination (`to`) path that comes after\n    // the common path parts\n    if (out.length > 0)\n      return out + to.slice(toStart + lastCommonSep);\n    else {\n      toStart += lastCommonSep;\n      if (to.charCodeAt(toStart) === 47/*/*/)\n        ++toStart;\n      return to.slice(toStart);\n    }\n  },\n\n\n  _makeLong: function _makeLong(path) {\n    return path;\n  },\n\n\n  dirname: function dirname(path) {\n    assertPath(path);\n    if (path.length === 0)\n      return '.';\n    var code = path.charCodeAt(0);\n    var hasRoot = (code === 47/*/*/);\n    var end = -1;\n    var matchedSlash = true;\n    for (var i = path.length - 1; i >= 1; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47/*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1)\n      return hasRoot ? '/' : '.';\n    if (hasRoot && end === 1)\n      return '//';\n    return path.slice(0, end);\n  },\n\n\n  basename: function basename(path, ext) {\n    if (ext !== undefined && typeof ext !== 'string')\n      throw new TypeError('\"ext\" argument must be a string');\n    assertPath(path);\n\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path)\n        return '';\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n      for (i = path.length - 1; i >= 0; --i) {\n        var code = path.charCodeAt(i);\n        if (code === 47/*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            start = i + 1;\n            break;\n          }\n        } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end)\n        end = firstNonSlashEnd;\n      else if (end === -1)\n        end = path.length;\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= 0; --i) {\n        if (path.charCodeAt(i) === 47/*/*/) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            start = i + 1;\n            break;\n          }\n        } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1)\n        return '';\n      return path.slice(start, end);\n    }\n  },\n\n\n  extname: function extname(path) {\n    assertPath(path);\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n    for (var i = path.length - 1; i >= 0; --i) {\n      var code = path.charCodeAt(i);\n      if (code === 47/*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46/*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 ||\n        end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        (preDotState === 1 &&\n         startDot === end - 1 &&\n         startDot === startPart + 1)) {\n      return '';\n    }\n    return path.slice(startDot, end);\n  },\n\n\n  format: function format(pathObject) {\n    if (pathObject === null || typeof pathObject !== 'object') {\n      throw new TypeError(\n        'Parameter \"pathObject\" must be an object, not ' + typeof(pathObject)\n      );\n    }\n    return _format('/', pathObject);\n  },\n\n\n  parse: function parse(path) {\n    assertPath(path);\n\n    var ret = { root: '', dir: '', base: '', ext: '', name: '' };\n    if (path.length === 0)\n      return ret;\n    var code = path.charCodeAt(0);\n    var isAbsolute = (code === 47/*/*/);\n    var start;\n    if (isAbsolute) {\n      ret.root = '/';\n      start = 1;\n    } else {\n      start = 0;\n    }\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i = path.length - 1;\n\n    // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n    var preDotState = 0;\n\n    // Get non-dir info\n    for (; i >= start; --i) {\n      code = path.charCodeAt(i);\n      if (code === 47/*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46/*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 ||\n        end === -1 ||\n        // We saw a non-dot character immediately before the dot\n        preDotState === 0 ||\n        // The (right-most) trimmed path component is exactly '..'\n        (preDotState === 1 &&\n         startDot === end - 1 &&\n         startDot === startPart + 1)) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute)\n          ret.base = ret.name = path.slice(1, end);\n        else\n          ret.base = ret.name = path.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path.slice(1, startDot);\n        ret.base = path.slice(1, end);\n      } else {\n        ret.name = path.slice(startPart, startDot);\n        ret.base = path.slice(startPart, end);\n      }\n      ret.ext = path.slice(startDot, end);\n    }\n\n    if (startPart > 0)\n      ret.dir = path.slice(0, startPart - 1);\n    else if (isAbsolute)\n      ret.dir = '/';\n\n    return ret;\n  },\n\n\n  sep: '/',\n  delimiter: ':',\n  posix: null\n};\n\n\nmodule.exports = posix;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","/**\n * Hooks allow for injecting functions that must all complete in order before finishing\n * They will execute in parallel but all must finish before continuing\n * Functions may return a promise if they are asycn.\n * @param {any} context scope of this\n * @example this.content = new EPUBJS.Hook(this);\n */\nclass Hook {\n\tconstructor(context){\n\t\tthis.context = context || this;\n\t\tthis.hooks = [];\n\t}\n\n\t/**\n\t * Adds a function to be run before a hook completes\n\t * @example this.content.register(function(){...});\n\t */\n\tregister(){\n\t\tfor(var i = 0; i < arguments.length; ++i) {\n\t\t\tif (typeof arguments[i]  === \"function\") {\n\t\t\t\tthis.hooks.push(arguments[i]);\n\t\t\t} else {\n\t\t\t\t// unpack array\n\t\t\t\tfor(var j = 0; j < arguments[i].length; ++j) {\n\t\t\t\t\tthis.hooks.push(arguments[i][j]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Triggers a hook to run all functions\n\t * @example this.content.trigger(args).then(function(){...});\n\t */\n\ttrigger(){\n\t\tvar args = arguments;\n\t\tvar context = this.context;\n\t\tvar promises = [];\n\n\t\tthis.hooks.forEach(function(task) {\n\t\t\tvar executing = task.apply(context, args);\n\n\t\t\tif(executing && typeof executing[\"then\"] === \"function\") {\n\t\t\t\t// Task is a function that returns a promise\n\t\t\t\tpromises.push(executing);\n\t\t\t}\n\t\t\t// Otherwise Task resolves immediately, continue\n\t\t});\n\n\n\t\treturn Promise.all(promises);\n\t}\n\n\t// Adds a function to be run before a hook completes\n\tlist(){\n\t\treturn this.hooks;\n\t}\n\n\tclear(){\n\t\treturn this.hooks = [];\n\t}\n}\nexport default Hook;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","import EventEmitter from \"event-emitter\";\nimport {isNumber, prefixed, borders, defaults} from \"./utils/core\";\nimport EpubCFI from \"./epubcfi\";\nimport Mapping from \"./mapping\";\nimport {replaceLinks} from \"./utils/replacements\";\nimport { EPUBJS_VERSION, EVENTS, DOM_EVENTS } from \"./utils/constants\";\n\nconst hasNavigator = typeof (navigator) !== \"undefined\";\n\nconst isChrome = hasNavigator && /Chrome/.test(navigator.userAgent);\nconst isWebkit = hasNavigator && !isChrome && /AppleWebKit/.test(navigator.userAgent);\n\nconst ELEMENT_NODE = 1;\nconst TEXT_NODE = 3;\n\n/**\n\t* Handles DOM manipulation, queries and events for View contents\n\t* @class\n\t* @param {document} doc Document\n\t* @param {element} content Parent Element (typically Body)\n\t* @param {string} cfiBase Section component of CFIs\n\t* @param {number} sectionIndex Index in Spine of Conntent's Section\n\t*/\nclass Contents {\n\tconstructor(doc, content, cfiBase, sectionIndex) {\n\t\t// Blank Cfi for Parsing\n\t\tthis.epubcfi = new EpubCFI();\n\n\t\tthis.document = doc;\n\t\tthis.documentElement =  this.document.documentElement;\n\t\tthis.content = content || this.document.body;\n\t\tthis.window = this.document.defaultView;\n\n\t\tthis._size = {\n\t\t\twidth: 0,\n\t\t\theight: 0\n\t\t};\n\n\t\tthis.sectionIndex = sectionIndex || 0;\n\t\tthis.cfiBase = cfiBase || \"\";\n\n\t\tthis.epubReadingSystem(\"epub.js\", EPUBJS_VERSION);\n\n\t\tthis.listeners();\n\t}\n\n\t/**\n\t\t* Get DOM events that are listened for and passed along\n\t\t*/\n\tstatic get listenedEvents() {\n\t\treturn DOM_EVENTS;\n\t}\n\n\t/**\n\t\t* Get or Set width\n\t\t* @param {number} [w]\n\t\t* @returns {number} width\n\t\t*/\n\twidth(w) {\n\t\t// var frame = this.documentElement;\n\t\tvar frame = this.content;\n\n\t\tif (w && isNumber(w)) {\n\t\t\tw = w + \"px\";\n\t\t}\n\n\t\tif (w) {\n\t\t\tframe.style.width = w;\n\t\t\t// this.content.style.width = w;\n\t\t}\n\n\t\treturn this.window.getComputedStyle(frame)[\"width\"];\n\n\n\t}\n\n\t/**\n\t\t* Get or Set height\n\t\t* @param {number} [h]\n\t\t* @returns {number} height\n\t\t*/\n\theight(h) {\n\t\t// var frame = this.documentElement;\n\t\tvar frame = this.content;\n\n\t\tif (h && isNumber(h)) {\n\t\t\th = h + \"px\";\n\t\t}\n\n\t\tif (h) {\n\t\t\tframe.style.height = h;\n\t\t\t// this.content.style.height = h;\n\t\t}\n\n\t\treturn this.window.getComputedStyle(frame)[\"height\"];\n\n\t}\n\n\t/**\n\t\t* Get or Set width of the contents\n\t\t* @param {number} [w]\n\t\t* @returns {number} width\n\t\t*/\n\tcontentWidth(w) {\n\n\t\tvar content = this.content || this.document.body;\n\n\t\tif (w && isNumber(w)) {\n\t\t\tw = w + \"px\";\n\t\t}\n\n\t\tif (w) {\n\t\t\tcontent.style.width = w;\n\t\t}\n\n\t\treturn this.window.getComputedStyle(content)[\"width\"];\n\n\n\t}\n\n\t/**\n\t\t* Get or Set height of the contents\n\t\t* @param {number} [h]\n\t\t* @returns {number} height\n\t\t*/\n\tcontentHeight(h) {\n\n\t\tvar content = this.content || this.document.body;\n\n\t\tif (h && isNumber(h)) {\n\t\t\th = h + \"px\";\n\t\t}\n\n\t\tif (h) {\n\t\t\tcontent.style.height = h;\n\t\t}\n\n\t\treturn this.window.getComputedStyle(content)[\"height\"];\n\n\t}\n\n\t/**\n\t\t* Get the width of the text using Range\n\t\t* @returns {number} width\n\t\t*/\n\ttextWidth() {\n\t\tlet rect;\n\t\tlet width;\n\t\tlet range = this.document.createRange();\n\t\tlet content = this.content || this.document.body;\n\t\tlet border = borders(content);\n\n\t\t// Select the contents of frame\n\t\trange.selectNodeContents(content);\n\n\t\t// get the width of the text content\n\t\trect = range.getBoundingClientRect();\n\t\twidth = rect.width;\n\n\t\tif (this.content === this.document.body && rect.left) {\n\t\t\twidth += rect.left;\n\t\t}\n\n\t\tif (border && border.width) {\n\t\t\twidth += border.width;\n\t\t}\n\n\t\treturn Math.round(width);\n\t}\n\n\t/**\n\t\t* Get the height of the text using Range\n\t\t* @returns {number} height\n\t\t*/\n\ttextHeight() {\n\t\tlet rect;\n\t\tlet height;\n\t\tlet range = this.document.createRange();\n\t\tlet content = this.content || this.document.body;\n\t\tlet border = borders(content);\n\n\t\trange.selectNodeContents(content);\n\n\t\trect = range.getBoundingClientRect();\n\t\theight = rect.height;\n\n\t\tif (this.content === this.document.body && rect.top) {\n\t\t\theight += rect.top;\n\t\t}\n\n\t\tif (height && border.height) {\n\t\t\theight += border.height;\n\t\t}\n\n\t\treturn Math.round(height);\n\t}\n\n\t/**\n\t\t* Get documentElement scrollWidth\n\t\t* @returns {number} width\n\t\t*/\n\tscrollWidth() {\n\t\tvar width = this.documentElement.scrollWidth;\n\n\t\treturn width;\n\t}\n\n\t/**\n\t\t* Get documentElement scrollHeight\n\t\t* @returns {number} height\n\t\t*/\n\tscrollHeight() {\n\t\tvar height = this.documentElement.scrollHeight;\n\n\t\treturn height;\n\t}\n\n\t/**\n\t\t* Set overflow css style of the contents\n\t\t* @param {string} [overflow]\n\t\t*/\n\toverflow(overflow) {\n\n\t\tif (overflow) {\n\t\t\tthis.documentElement.style.overflow = overflow;\n\t\t}\n\n\t\treturn this.window.getComputedStyle(this.documentElement)[\"overflow\"];\n\t}\n\n\t/**\n\t\t* Set overflowX css style of the documentElement\n\t\t* @param {string} [overflow]\n\t\t*/\n\toverflowX(overflow) {\n\n\t\tif (overflow) {\n\t\t\tthis.documentElement.style.overflowX = overflow;\n\t\t}\n\n\t\treturn this.window.getComputedStyle(this.documentElement)[\"overflowX\"];\n\t}\n\n\t/**\n\t\t* Set overflowY css style of the documentElement\n\t\t* @param {string} [overflow]\n\t\t*/\n\toverflowY(overflow) {\n\n\t\tif (overflow) {\n\t\t\tthis.documentElement.style.overflowY = overflow;\n\t\t}\n\n\t\treturn this.window.getComputedStyle(this.documentElement)[\"overflowY\"];\n\t}\n\n\t/**\n\t\t* Set Css styles on the contents element (typically Body)\n\t\t* @param {string} property\n\t\t* @param {string} value\n\t\t* @param {boolean} [priority] set as \"important\"\n\t\t*/\n\tcss(property, value, priority) {\n\t\tvar content = this.content || this.document.body;\n\n\t\tif (value) {\n\t\t\tcontent.style.setProperty(property, value, priority ? \"important\" : \"\");\n\t\t}\n\n\t\treturn this.window.getComputedStyle(content)[property];\n\t}\n\n\t/**\n\t\t* Get or Set the viewport element\n\t\t* @param {object} [options]\n\t\t* @param {string} [options.width]\n\t\t* @param {string} [options.height]\n\t\t* @param {string} [options.scale]\n\t\t* @param {string} [options.minimum]\n\t\t* @param {string} [options.maximum]\n\t\t* @param {string} [options.scalable]\n\t\t*/\n\tviewport(options) {\n\t\tvar _width, _height, _scale, _minimum, _maximum, _scalable;\n\t\t// var width, height, scale, minimum, maximum, scalable;\n\t\tvar $viewport = this.document.querySelector(\"meta[name='viewport']\");\n\t\tvar parsed = {\n\t\t\t\"width\": undefined,\n\t\t\t\"height\": undefined,\n\t\t\t\"scale\": undefined,\n\t\t\t\"minimum\": undefined,\n\t\t\t\"maximum\": undefined,\n\t\t\t\"scalable\": undefined\n\t\t};\n\t\tvar newContent = [];\n\t\tvar settings = {};\n\n\t\t/*\n\t\t* check for the viewport size\n\t\t* <meta name=\"viewport\" content=\"width=1024,height=697\" />\n\t\t*/\n\t\tif($viewport && $viewport.hasAttribute(\"content\")) {\n\t\t\tlet content = $viewport.getAttribute(\"content\");\n\t\t\tlet _width = content.match(/width\\s*=\\s*([^,]*)/);\n\t\t\tlet _height = content.match(/height\\s*=\\s*([^,]*)/);\n\t\t\tlet _scale = content.match(/initial-scale\\s*=\\s*([^,]*)/);\n\t\t\tlet _minimum = content.match(/minimum-scale\\s*=\\s*([^,]*)/);\n\t\t\tlet _maximum = content.match(/maximum-scale\\s*=\\s*([^,]*)/);\n\t\t\tlet _scalable = content.match(/user-scalable\\s*=\\s*([^,]*)/);\n\n\t\t\tif(_width && _width.length && typeof _width[1] !== \"undefined\"){\n\t\t\t\tparsed.width = _width[1];\n\t\t\t}\n\t\t\tif(_height && _height.length && typeof _height[1] !== \"undefined\"){\n\t\t\t\tparsed.height = _height[1];\n\t\t\t}\n\t\t\tif(_scale && _scale.length && typeof _scale[1] !== \"undefined\"){\n\t\t\t\tparsed.scale = _scale[1];\n\t\t\t}\n\t\t\tif(_minimum && _minimum.length && typeof _minimum[1] !== \"undefined\"){\n\t\t\t\tparsed.minimum = _minimum[1];\n\t\t\t}\n\t\t\tif(_maximum && _maximum.length && typeof _maximum[1] !== \"undefined\"){\n\t\t\t\tparsed.maximum = _maximum[1];\n\t\t\t}\n\t\t\tif(_scalable && _scalable.length && typeof _scalable[1] !== \"undefined\"){\n\t\t\t\tparsed.scalable = _scalable[1];\n\t\t\t}\n\t\t}\n\n\t\tsettings = defaults(options || {}, parsed);\n\n\t\tif (options) {\n\t\t\tif (settings.width) {\n\t\t\t\tnewContent.push(\"width=\" + settings.width);\n\t\t\t}\n\n\t\t\tif (settings.height) {\n\t\t\t\tnewContent.push(\"height=\" + settings.height);\n\t\t\t}\n\n\t\t\tif (settings.scale) {\n\t\t\t\tnewContent.push(\"initial-scale=\" + settings.scale);\n\t\t\t}\n\n\t\t\tif (settings.scalable === \"no\") {\n\t\t\t\tnewContent.push(\"minimum-scale=\" + settings.scale);\n\t\t\t\tnewContent.push(\"maximum-scale=\" + settings.scale);\n\t\t\t\tnewContent.push(\"user-scalable=\" + settings.scalable);\n\t\t\t} else {\n\n\t\t\t\tif (settings.scalable) {\n\t\t\t\t\tnewContent.push(\"user-scalable=\" + settings.scalable);\n\t\t\t\t}\n\n\t\t\t\tif (settings.minimum) {\n\t\t\t\t\tnewContent.push(\"minimum-scale=\" + settings.minimum);\n\t\t\t\t}\n\n\t\t\t\tif (settings.maximum) {\n\t\t\t\t\tnewContent.push(\"minimum-scale=\" + settings.maximum);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!$viewport) {\n\t\t\t\t$viewport = this.document.createElement(\"meta\");\n\t\t\t\t$viewport.setAttribute(\"name\", \"viewport\");\n\t\t\t\tthis.document.querySelector(\"head\").appendChild($viewport);\n\t\t\t}\n\n\t\t\t$viewport.setAttribute(\"content\", newContent.join(\", \"));\n\n\t\t\tthis.window.scrollTo(0, 0);\n\t\t}\n\n\n\t\treturn settings;\n\t}\n\n\t/**\n\t * Event emitter for when the contents has expanded\n\t * @private\n\t */\n\texpand() {\n\t\tthis.emit(EVENTS.CONTENTS.EXPAND);\n\t}\n\n\t/**\n\t * Add DOM listeners\n\t * @private\n\t */\n\tlisteners() {\n\n\t\tthis.imageLoadListeners();\n\n\t\tthis.mediaQueryListeners();\n\n\t\t// this.fontLoadListeners();\n\n\t\tthis.addEventListeners();\n\n\t\tthis.addSelectionListeners();\n\n\t\t// this.transitionListeners();\n\n\t\tthis.resizeListeners();\n\n\t\t// this.resizeObservers();\n\n\t\tthis.linksHandler();\n\t}\n\n\t/**\n\t * Remove DOM listeners\n\t * @private\n\t */\n\tremoveListeners() {\n\n\t\tthis.removeEventListeners();\n\n\t\tthis.removeSelectionListeners();\n\n\t\tclearTimeout(this.expanding);\n\t}\n\n\t/**\n\t * Check if size of contents has changed and\n\t * emit 'resize' event if it has.\n\t * @private\n\t */\n\tresizeCheck() {\n\t\tlet width = this.textWidth();\n\t\tlet height = this.textHeight();\n\n\t\tif (width != this._size.width || height != this._size.height) {\n\n\t\t\tthis._size = {\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t};\n\n\t\t\tthis.onResize && this.onResize(this._size);\n\t\t\tthis.emit(EVENTS.CONTENTS.RESIZE, this._size);\n\t\t}\n\t}\n\n\t/**\n\t * Poll for resize detection\n\t * @private\n\t */\n\tresizeListeners() {\n\t\tvar width, height;\n\t\t// Test size again\n\t\tclearTimeout(this.expanding);\n\n\t\trequestAnimationFrame(this.resizeCheck.bind(this));\n\n\t\tthis.expanding = setTimeout(this.resizeListeners.bind(this), 350);\n\t}\n\n\t/**\n\t * Use css transitions to detect resize\n\t * @private\n\t */\n\ttransitionListeners() {\n\t\tlet body = this.content;\n\n\t\tbody.style['transitionProperty'] = \"font, font-size, font-size-adjust, font-stretch, font-variation-settings, font-weight, width, height\";\n\t\tbody.style['transitionDuration'] = \"0.001ms\";\n\t\tbody.style['transitionTimingFunction'] = \"linear\";\n\t\tbody.style['transitionDelay'] = \"0\";\n\n\t\tthis.document.addEventListener('transitionend', this.resizeCheck.bind(this));\n\t}\n\n\t/**\n\t * Listen for media query changes and emit 'expand' event\n\t * Adapted from: https://github.com/tylergaw/media-query-events/blob/master/js/mq-events.js\n\t * @private\n\t */\n\tmediaQueryListeners() {\n\t\tvar sheets = this.document.styleSheets;\n\t\tvar mediaChangeHandler = function(m){\n\t\t\tif(m.matches && !this._expanding) {\n\t\t\t\tsetTimeout(this.expand.bind(this), 1);\n\t\t\t}\n\t\t}.bind(this);\n\n\t\tfor (var i = 0; i < sheets.length; i += 1) {\n\t\t\tvar rules;\n\t\t\t// Firefox errors if we access cssRules cross-domain\n\t\t\ttry {\n\t\t\t\trules = sheets[i].cssRules;\n\t\t\t} catch (e) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(!rules) return; // Stylesheets changed\n\t\t\tfor (var j = 0; j < rules.length; j += 1) {\n\t\t\t\t//if (rules[j].constructor === CSSMediaRule) {\n\t\t\t\tif(rules[j].media){\n\t\t\t\t\tvar mql = this.window.matchMedia(rules[j].media.mediaText);\n\t\t\t\t\tmql.addListener(mediaChangeHandler);\n\t\t\t\t\t//mql.onchange = mediaChangeHandler;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Use MutationObserver to listen for changes in the DOM and check for resize\n\t * @private\n\t */\n\tresizeObservers() {\n\t\t// create an observer instance\n\t\tthis.observer = new MutationObserver((mutations) => {\n\t\t\tthis.resizeCheck();\n\t\t});\n\n\t\t// configuration of the observer:\n\t\tlet config = { attributes: true, childList: true, characterData: true, subtree: true };\n\n\t\t// pass in the target node, as well as the observer options\n\t\tthis.observer.observe(this.document, config);\n\t}\n\n\t/**\n\t * Test if images are loaded or add listener for when they load\n\t * @private\n\t */\n\timageLoadListeners() {\n\t\tvar images = this.document.querySelectorAll(\"img\");\n\t\tvar img;\n\t\tfor (var i = 0; i < images.length; i++) {\n\t\t\timg = images[i];\n\n\t\t\tif (typeof img.naturalWidth !== \"undefined\" &&\n\t\t\t\t\timg.naturalWidth === 0) {\n\t\t\t\timg.onload = this.expand.bind(this);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Listen for font load and check for resize when loaded\n\t * @private\n\t */\n\tfontLoadListeners() {\n\t\tif (!this.document || !this.document.fonts) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.document.fonts.ready.then(function () {\n\t\t\tthis.resizeCheck();\n\t\t}.bind(this));\n\n\t}\n\n\t/**\n\t * Get the documentElement\n\t * @returns {element} documentElement\n\t */\n\troot() {\n\t\tif(!this.document) return null;\n\t\treturn this.document.documentElement;\n\t}\n\n\t/**\n\t * Get the location offset of a EpubCFI or an #id\n\t * @param {string | EpubCFI} target\n\t * @param {string} [ignoreClass] for the cfi\n\t * @returns { {left: Number, top: Number }\n\t */\n\tlocationOf(target, ignoreClass) {\n\t\tvar position;\n\t\tvar targetPos = {\"left\": 0, \"top\": 0};\n\n\t\tif(!this.document) return targetPos;\n\n\t\tif(this.epubcfi.isCfiString(target)) {\n\t\t\tlet range = new EpubCFI(target).toRange(this.document, ignoreClass);\n\n\t\t\tif(range) {\n\t\t\t\tif (range.startContainer.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\tposition = range.startContainer.getBoundingClientRect();\n\t\t\t\t\ttargetPos.left = position.left;\n\t\t\t\t\ttargetPos.top = position.top;\n\t\t\t\t} else {\n\t\t\t\t\t// Webkit does not handle collapsed range bounds correctly\n\t\t\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=138949\n\n\t\t\t\t\t// Construct a new non-collapsed range\n\t\t\t\t\tif (isWebkit) {\n\t\t\t\t\t\tlet container = range.startContainer;\n\t\t\t\t\t\tlet newRange = new Range();\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tif (container.nodeType === ELEMENT_NODE) {\n\t\t\t\t\t\t\t\tposition = container.getBoundingClientRect();\n\t\t\t\t\t\t\t} else if (range.startOffset + 2 < container.length) {\n\t\t\t\t\t\t\t\tnewRange.setStart(container, range.startOffset);\n\t\t\t\t\t\t\t\tnewRange.setEnd(container, range.startOffset + 2);\n\t\t\t\t\t\t\t\tposition = newRange.getBoundingClientRect();\n\t\t\t\t\t\t\t} else if (range.startOffset - 2 > 0) {\n\t\t\t\t\t\t\t\tnewRange.setStart(container, range.startOffset - 2);\n\t\t\t\t\t\t\t\tnewRange.setEnd(container, range.startOffset);\n\t\t\t\t\t\t\t\tposition = newRange.getBoundingClientRect();\n\t\t\t\t\t\t\t} else { // empty, return the parent element\n\t\t\t\t\t\t\t\tposition = container.parentNode.getBoundingClientRect();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\tconsole.error(e, e.stack);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tposition = range.getBoundingClientRect();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else if(typeof target === \"string\" &&\n\t\t\ttarget.indexOf(\"#\") > -1) {\n\n\t\t\tlet id = target.substring(target.indexOf(\"#\")+1);\n\t\t\tlet el = this.document.getElementById(id);\n\n\t\t\tif(el) {\n\t\t\t\tposition = el.getBoundingClientRect();\n\t\t\t}\n\t\t}\n\n\t\tif (position) {\n\t\t\ttargetPos.left = position.left;\n\t\t\ttargetPos.top = position.top;\n\t\t}\n\n\t\treturn targetPos;\n\t}\n\n\t/**\n\t * Append a stylesheet link to the document head\n\t * @param {string} src url\n\t */\n\taddStylesheet(src) {\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tvar $stylesheet;\n\t\t\tvar ready = false;\n\n\t\t\tif(!this.document) {\n\t\t\t\tresolve(false);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Check if link already exists\n\t\t\t$stylesheet = this.document.querySelector(\"link[href='\"+src+\"']\");\n\t\t\tif ($stylesheet) {\n\t\t\t\tresolve(true);\n\t\t\t\treturn; // already present\n\t\t\t}\n\n\t\t\t$stylesheet = this.document.createElement(\"link\");\n\t\t\t$stylesheet.type = \"text/css\";\n\t\t\t$stylesheet.rel = \"stylesheet\";\n\t\t\t$stylesheet.href = src;\n\t\t\t$stylesheet.onload = $stylesheet.onreadystatechange = function() {\n\t\t\t\tif ( !ready && (!this.readyState || this.readyState == \"complete\") ) {\n\t\t\t\t\tready = true;\n\t\t\t\t\t// Let apply\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t}, 1);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.document.head.appendChild($stylesheet);\n\n\t\t}.bind(this));\n\t}\n\n\t/**\n\t * Append stylesheet rules to a generate stylesheet\n\t * Array: https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleSheet/insertRule\n\t * Object: https://github.com/desirable-objects/json-to-css\n\t * @param {array | object} rules\n\t */\n\taddStylesheetRules(rules) {\n\t\tvar styleEl;\n\t\tvar styleSheet;\n\t\tvar key = \"epubjs-inserted-css\";\n\n\t\tif(!this.document || !rules || rules.length === 0) return;\n\n\t\t// Check if link already exists\n\t\tstyleEl = this.document.getElementById(\"#\"+key);\n\t\tif (!styleEl) {\n\t\t\tstyleEl = this.document.createElement(\"style\");\n\t\t\tstyleEl.id = key;\n\t\t}\n\n\t\t// Append style element to head\n\t\tthis.document.head.appendChild(styleEl);\n\n\t\t// Grab style sheet\n\t\tstyleSheet = styleEl.sheet;\n\n\t\tif (Object.prototype.toString.call(rules) === \"[object Array]\") {\n\t\t\tfor (var i = 0, rl = rules.length; i < rl; i++) {\n\t\t\t\tvar j = 1, rule = rules[i], selector = rules[i][0], propStr = \"\";\n\t\t\t\t// If the second argument of a rule is an array of arrays, correct our variables.\n\t\t\t\tif (Object.prototype.toString.call(rule[1][0]) === \"[object Array]\") {\n\t\t\t\t\trule = rule[1];\n\t\t\t\t\tj = 0;\n\t\t\t\t}\n\n\t\t\t\tfor (var pl = rule.length; j < pl; j++) {\n\t\t\t\t\tvar prop = rule[j];\n\t\t\t\t\tpropStr += prop[0] + \":\" + prop[1] + (prop[2] ? \" !important\" : \"\") + \";\\n\";\n\t\t\t\t}\n\n\t\t\t\t// Insert CSS Rule\n\t\t\t\tstyleSheet.insertRule(selector + \"{\" + propStr + \"}\", styleSheet.cssRules.length);\n\t\t\t}\n\t\t} else {\n\t\t\tconst selectors = Object.keys(rules);\n\t\t\tselectors.forEach((selector) => {\n\t\t\t\tconst definition = rules[selector];\n\t\t\t\tif (Array.isArray(definition)) {\n\t\t\t\t\tdefinition.forEach((item) => {\n\t\t\t\t\t\tconst _rules = Object.keys(item);\n\t\t\t\t\t\tconst result = _rules.map((rule) => {\n\t\t\t\t\t\t\treturn `${rule}:${item[rule]}`;\n\t\t\t\t\t\t}).join(';');\n\t\t\t\t\t\tstyleSheet.insertRule(`${selector}{${result}}`, styleSheet.cssRules.length);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tconst _rules = Object.keys(definition);\n\t\t\t\t\tconst result = _rules.map((rule) => {\n\t\t\t\t\t\treturn `${rule}:${definition[rule]}`;\n\t\t\t\t\t}).join(';');\n\t\t\t\t\tstyleSheet.insertRule(`${selector}{${result}}`, styleSheet.cssRules.length);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Append a script tag to the document head\n\t * @param {string} src url\n\t * @returns {Promise} loaded\n\t */\n\taddScript(src) {\n\n\t\treturn new Promise(function(resolve, reject){\n\t\t\tvar $script;\n\t\t\tvar ready = false;\n\n\t\t\tif(!this.document) {\n\t\t\t\tresolve(false);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$script = this.document.createElement(\"script\");\n\t\t\t$script.type = \"text/javascript\";\n\t\t\t$script.async = true;\n\t\t\t$script.src = src;\n\t\t\t$script.onload = $script.onreadystatechange = function() {\n\t\t\t\tif ( !ready && (!this.readyState || this.readyState == \"complete\") ) {\n\t\t\t\t\tready = true;\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t}, 1);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.document.head.appendChild($script);\n\n\t\t}.bind(this));\n\t}\n\n\t/**\n\t * Add a class to the contents container\n\t * @param {string} className\n\t */\n\taddClass(className) {\n\t\tvar content;\n\n\t\tif(!this.document) return;\n\n\t\tcontent = this.content || this.document.body;\n\n\t\tif (content) {\n\t\t\tcontent.classList.add(className);\n\t\t}\n\n\t}\n\n\t/**\n\t * Remove a class from the contents container\n\t * @param {string} removeClass\n\t */\n\tremoveClass(className) {\n\t\tvar content;\n\n\t\tif(!this.document) return;\n\n\t\tcontent = this.content || this.document.body;\n\n\t\tif (content) {\n\t\t\tcontent.classList.remove(className);\n\t\t}\n\n\t}\n\n\t/**\n\t * Add DOM event listeners\n\t * @private\n\t */\n\taddEventListeners(){\n\t\tif(!this.document) {\n\t\t\treturn;\n\t\t}\n\n\t\tDOM_EVENTS.forEach(function(eventName){\n\t\t\tthis.document.addEventListener(eventName, this.triggerEvent.bind(this), false);\n\t\t}, this);\n\n\t}\n\n\t/**\n\t * Remove DOM event listeners\n\t * @private\n\t */\n\tremoveEventListeners(){\n\t\tif(!this.document) {\n\t\t\treturn;\n\t\t}\n\t\tDOM_EVENTS.forEach(function(eventName){\n\t\t\tthis.document.removeEventListener(eventName, this.triggerEvent, false);\n\t\t}, this);\n\n\t}\n\n\t/**\n\t * Emit passed browser events\n\t * @private\n\t */\n\ttriggerEvent(e){\n\t\tthis.emit(e.type, e);\n\t}\n\n\t/**\n\t * Add listener for text selection\n\t * @private\n\t */\n\taddSelectionListeners(){\n\t\tif(!this.document) {\n\t\t\treturn;\n\t\t}\n\t\tthis.document.addEventListener(\"selectionchange\", this.onSelectionChange.bind(this), false);\n\t}\n\n\t/**\n\t * Remove listener for text selection\n\t * @private\n\t */\n\tremoveSelectionListeners(){\n\t\tif(!this.document) {\n\t\t\treturn;\n\t\t}\n\t\tthis.document.removeEventListener(\"selectionchange\", this.onSelectionChange, false);\n\t}\n\n\t/**\n\t * Handle getting text on selection\n\t * @private\n\t */\n\tonSelectionChange(e){\n\t\tif (this.selectionEndTimeout) {\n\t\t\tclearTimeout(this.selectionEndTimeout);\n\t\t}\n\t\tthis.selectionEndTimeout = setTimeout(function() {\n\t\t\tvar selection = this.window.getSelection();\n\t\t\tthis.triggerSelectedEvent(selection);\n\t\t}.bind(this), 250);\n\t}\n\n\t/**\n\t * Emit event on text selection\n\t * @private\n\t */\n\ttriggerSelectedEvent(selection){\n\t\tvar range, cfirange;\n\n\t\tif (selection && selection.rangeCount > 0) {\n\t\t\trange = selection.getRangeAt(0);\n\t\t\tif(!range.collapsed) {\n\t\t\t\t// cfirange = this.section.cfiFromRange(range);\n\t\t\t\tcfirange = new EpubCFI(range, this.cfiBase).toString();\n\t\t\t\tthis.emit(EVENTS.CONTENTS.SELECTED, cfirange);\n\t\t\t\tthis.emit(EVENTS.CONTENTS.SELECTED_RANGE, range);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Get a Dom Range from EpubCFI\n\t * @param {EpubCFI} _cfi\n\t * @param {string} [ignoreClass]\n\t * @returns {Range} range\n\t */\n\trange(_cfi, ignoreClass){\n\t\tvar cfi = new EpubCFI(_cfi);\n\t\treturn cfi.toRange(this.document, ignoreClass);\n\t}\n\n\t/**\n\t * Get an EpubCFI from a Dom Range\n\t * @param {Range} range\n\t * @param {string} [ignoreClass]\n\t * @returns {EpubCFI} cfi\n\t */\n\tcfiFromRange(range, ignoreClass){\n\t\treturn new EpubCFI(range, this.cfiBase, ignoreClass).toString();\n\t}\n\n\t/**\n\t * Get an EpubCFI from a Dom node\n\t * @param {node} node\n\t * @param {string} [ignoreClass]\n\t * @returns {EpubCFI} cfi\n\t */\n\tcfiFromNode(node, ignoreClass){\n\t\treturn new EpubCFI(node, this.cfiBase, ignoreClass).toString();\n\t}\n\n\t// TODO: find where this is used - remove?\n\tmap(layout){\n\t\tvar map = new Mapping(layout);\n\t\treturn map.section();\n\t}\n\n\t/**\n\t * Size the contents to a given width and height\n\t * @param {number} [width]\n\t * @param {number} [height]\n\t */\n\tsize(width, height){\n\t\tvar viewport = { scale: 1.0, scalable: \"no\" };\n\n\t\tthis.layoutStyle(\"scrolling\");\n\n\t\tif (width >= 0) {\n\t\t\tthis.width(width);\n\t\t\tviewport.width = width;\n\t\t\tthis.css(\"padding\", \"0 \"+(width/12)+\"px\");\n\t\t}\n\n\t\tif (height >= 0) {\n\t\t\tthis.height(height);\n\t\t\tviewport.height = height;\n\t\t}\n\n\t\tthis.css(\"margin\", \"0\");\n\t\tthis.css(\"box-sizing\", \"border-box\");\n\n\n\t\tthis.viewport(viewport);\n\t}\n\n\t/**\n\t * Apply columns to the contents for pagination\n\t * @param {number} width\n\t * @param {number} height\n\t * @param {number} columnWidth\n\t * @param {number} gap\n\t */\n\tcolumns(width, height, columnWidth, gap){\n\t\tlet COLUMN_AXIS = prefixed(\"column-axis\");\n\t\tlet COLUMN_GAP = prefixed(\"column-gap\");\n\t\tlet COLUMN_WIDTH = prefixed(\"column-width\");\n\t\tlet COLUMN_FILL = prefixed(\"column-fill\");\n\n\t\tlet writingMode = this.writingMode();\n\t\tlet axis = (writingMode.indexOf(\"vertical\") === 0) ? \"vertical\" : \"horizontal\";\n\n\t\tthis.layoutStyle(\"paginated\");\n\n\t\t// Fix body width issues if rtl is only set on body element\n\t\tif (this.content.dir === \"rtl\") {\n\t\t\tthis.direction(\"rtl\");\n\t\t}\n\n\t\tthis.width(width);\n\t\tthis.height(height);\n\n\t\t// Deal with Mobile trying to scale to viewport\n\t\tthis.viewport({ width: width, height: height, scale: 1.0, scalable: \"no\" });\n\n\t\t// TODO: inline-block needs more testing\n\t\t// Fixes Safari column cut offs, but causes RTL issues\n\t\t// this.css(\"display\", \"inline-block\");\n\n\t\tthis.css(\"overflow-y\", \"hidden\");\n\t\tthis.css(\"margin\", \"0\", true);\n\n\t\tif (axis === \"vertical\") {\n\t\t\tthis.css(\"padding-top\", (gap / 2) + \"px\", true);\n\t\t\tthis.css(\"padding-bottom\", (gap / 2) + \"px\", true);\n\t\t\tthis.css(\"padding-left\", \"20px\");\n\t\t\tthis.css(\"padding-right\", \"20px\");\n\t\t} else {\n\t\t\tthis.css(\"padding-top\", \"20px\");\n\t\t\tthis.css(\"padding-bottom\", \"20px\");\n\t\t\tthis.css(\"padding-left\", (gap / 2) + \"px\", true);\n\t\t\tthis.css(\"padding-right\", (gap / 2) + \"px\", true);\n\t\t}\n\n\t\tthis.css(\"box-sizing\", \"border-box\");\n\t\tthis.css(\"max-width\", \"inherit\");\n\n\t\tthis.css(COLUMN_AXIS, \"horizontal\");\n\t\tthis.css(COLUMN_FILL, \"auto\");\n\n\t\tthis.css(COLUMN_GAP, gap+\"px\");\n\t\tthis.css(COLUMN_WIDTH, columnWidth+\"px\");\n\t}\n\n\t/**\n\t * Scale contents from center\n\t * @param {number} scale\n\t * @param {number} offsetX\n\t * @param {number} offsetY\n\t */\n\tscaler(scale, offsetX, offsetY){\n\t\tvar scaleStr = \"scale(\" + scale + \")\";\n\t\tvar translateStr = \"\";\n\t\t// this.css(\"position\", \"absolute\"));\n\t\tthis.css(\"transform-origin\", \"top left\");\n\n\t\tif (offsetX >= 0 || offsetY >= 0) {\n\t\t\ttranslateStr = \" translate(\" + (offsetX || 0 )+ \"px, \" + (offsetY || 0 )+ \"px )\";\n\t\t}\n\n\t\tthis.css(\"transform\", scaleStr + translateStr);\n\t}\n\n\t/**\n\t * Fit contents into a fixed width and height\n\t * @param {number} width\n\t * @param {number} height\n\t */\n\tfit(width, height){\n\t\tvar viewport = this.viewport();\n\t\tvar widthScale = width / parseInt(viewport.width);\n\t\tvar heightScale = height / parseInt(viewport.height);\n\t\tvar scale = widthScale < heightScale ? widthScale : heightScale;\n\n\t\tvar offsetY = (height - (viewport.height * scale)) / 2;\n\n\t\tthis.layoutStyle(\"paginated\");\n\n\t\tthis.width(width);\n\t\tthis.height(height);\n\t\tthis.overflow(\"hidden\");\n\n\t\t// Scale to the correct size\n\t\tthis.scaler(scale, 0, offsetY);\n\n\t\tthis.css(\"background-color\", \"transparent\");\n\t}\n\n\t/**\n\t * Set the direction of the text\n\t * @param {string} [dir=\"ltr\"] \"rtl\" | \"ltr\"\n\t */\n\tdirection(dir) {\n\t\tif (this.documentElement) {\n\t\t\tthis.documentElement.style[\"direction\"] = dir;\n\t\t}\n\t}\n\n\tmapPage(cfiBase, layout, start, end, dev) {\n\t\tvar mapping = new Mapping(layout, dev);\n\n\t\treturn mapping.page(this, cfiBase, start, end);\n\t}\n\n\t/**\n\t * Emit event when link in content is clicked\n\t * @private\n\t */\n\tlinksHandler() {\n\t\treplaceLinks(this.content, (href) => {\n\t\t\tthis.emit(EVENTS.CONTENTS.LINK_CLICKED, href);\n\t\t});\n\t}\n\n\t/**\n\t * Set the writingMode of the text\n\t * @param {string} [mode=\"horizontal-tb\"] \"horizontal-tb\" | \"vertical-rl\" | \"vertical-lr\"\n\t */\n\twritingMode(mode) {\n\t\tlet WRITING_MODE = prefixed(\"writing-mode\");\n\n\t\tif (mode && this.documentElement) {\n\t\t\tthis.documentElement.style[WRITING_MODE] = mode;\n\t\t}\n\n\t\treturn this.window.getComputedStyle(this.documentElement)[WRITING_MODE] || '';\n\t}\n\n\t/**\n\t * Set the layoutStyle of the content\n\t * @param {string} [style=\"paginated\"] \"scrolling\" | \"paginated\"\n\t * @private\n\t */\n\tlayoutStyle(style) {\n\n\t\tif (style) {\n\t\t\tthis._layoutStyle = style;\n\t\t\tnavigator.epubReadingSystem.layoutStyle = this._layoutStyle;\n\t\t}\n\n\t\treturn this._layoutStyle || \"paginated\";\n\t}\n\n\t/**\n\t * Add the epubReadingSystem object to the navigator\n\t * @param {string} name\n\t * @param {string} version\n\t * @private\n\t */\n\tepubReadingSystem(name, version) {\n\t\tnavigator.epubReadingSystem = {\n\t\t\tname: name,\n\t\t\tversion: version,\n\t\t\tlayoutStyle: this.layoutStyle(),\n\t\t\thasFeature: function (feature) {\n\t\t\t\tswitch (feature) {\n\t\t\t\t\tcase \"dom-manipulation\":\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tcase \"layout-changes\":\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tcase \"touch-events\":\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tcase \"mouse-events\":\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tcase \"keyboard-events\":\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tcase \"spine-scripting\":\n\t\t\t\t\t\treturn false;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\treturn navigator.epubReadingSystem;\n\t}\n\n\tdestroy() {\n\t\t// Stop observing\n\t\tif(this.observer) {\n\t\t\tthis.observer.disconnect();\n\t\t}\n\n\t\tthis.document.removeEventListener('transitionend', this.resizeCheck);\n\n\t\tthis.removeListeners();\n\n\t}\n}\n\nEventEmitter(Contents.prototype);\n\nexport default Contents;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar toString = require('../internals/to-string');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = toString(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","import path from \"path-webpack\";\n\n/**\n * Creates a Path object for parsing and manipulation of a path strings\n *\n * Uses a polyfill for Nodejs path: https://nodejs.org/api/path.html\n * @param\t{string} pathString\ta url string (relative or absolute)\n * @class\n */\nclass Path {\n\tconstructor(pathString) {\n\t\tvar protocol;\n\t\tvar parsed;\n\n\t\tprotocol = pathString.indexOf(\"://\");\n\t\tif (protocol > -1) {\n\t\t\tpathString = new URL(pathString).pathname;\n\t\t}\n\n\t\tparsed = this.parse(pathString);\n\n\t\tthis.path = pathString;\n\n\t\tif (this.isDirectory(pathString)) {\n\t\t\tthis.directory = pathString;\n\t\t} else {\n\t\t\tthis.directory = parsed.dir + \"/\";\n\t\t}\n\n\t\tthis.filename = parsed.base;\n\t\tthis.extension = parsed.ext.slice(1);\n\n\t}\n\n\t/**\n\t * Parse the path: https://nodejs.org/api/path.html#path_path_parse_path\n\t * @param\t{string} what\n\t * @returns {object}\n\t */\n\tparse (what) {\n\t\treturn path.parse(what);\n\t}\n\n\t/**\n\t * @param\t{string} what\n\t * @returns {boolean}\n\t */\n\tisAbsolute (what) {\n\t\treturn path.isAbsolute(what || this.path);\n\t}\n\n\t/**\n\t * Check if path ends with a directory\n\t * @param\t{string} what\n\t * @returns {boolean}\n\t */\n\tisDirectory (what) {\n\t\treturn (what.charAt(what.length-1) === \"/\");\n\t}\n\n\t/**\n\t * Resolve a path against the directory of the Path\n\t *\n\t * https://nodejs.org/api/path.html#path_path_resolve_paths\n\t * @param\t{string} what\n\t * @returns {string} resolved\n\t */\n\tresolve (what) {\n\t\treturn path.resolve(this.directory, what);\n\t}\n\n\t/**\n\t * Resolve a path relative to the directory of the Path\n\t *\n\t * https://nodejs.org/api/path.html#path_path_relative_from_to\n\t * @param\t{string} what\n\t * @returns {string} relative\n\t */\n\trelative (what) {\n\t\treturn path.relative(this.directory, what);\n\t}\n\n\tsplitPath(filename) {\n\t\treturn this.splitPathRe.exec(filename).slice(1);\n\t}\n\n\t/**\n\t * Return the path string\n\t * @returns {string} path\n\t */\n\ttoString () {\n\t\treturn this.path;\n\t}\n}\n\nexport default Path;\n","import {defer, isXml, parse} from \"./core\";\nimport Path from \"./path\";\n\nfunction request(url, type, withCredentials, headers) {\n\tvar supportsURL = (typeof window != \"undefined\") ? window.URL : false; // TODO: fallback for url if window isn't defined\n\tvar BLOB_RESPONSE = supportsURL ? \"blob\" : \"arraybuffer\";\n\n\tvar deferred = new defer();\n\n\tvar xhr = new XMLHttpRequest();\n\n\t//-- Check from PDF.js:\n\t//   https://github.com/mozilla/pdf.js/blob/master/web/compatibility.js\n\tvar xhrPrototype = XMLHttpRequest.prototype;\n\n\tvar header;\n\n\tif (!(\"overrideMimeType\" in xhrPrototype)) {\n\t\t// IE10 might have response, but not overrideMimeType\n\t\tObject.defineProperty(xhrPrototype, \"overrideMimeType\", {\n\t\t\tvalue: function xmlHttpRequestOverrideMimeType() {}\n\t\t});\n\t}\n\n\tif(withCredentials) {\n\t\txhr.withCredentials = true;\n\t}\n\n\txhr.onreadystatechange = handler;\n\txhr.onerror = err;\n\n\txhr.open(\"GET\", url, true);\n\n\tfor(header in headers) {\n\t\txhr.setRequestHeader(header, headers[header]);\n\t}\n\n\tif(type == \"json\") {\n\t\txhr.setRequestHeader(\"Accept\", \"application/json\");\n\t}\n\n\t// If type isn\"t set, determine it from the file extension\n\tif(!type) {\n\t\ttype = new Path(url).extension;\n\t}\n\n\tif(type == \"blob\"){\n\t\txhr.responseType = BLOB_RESPONSE;\n\t}\n\n\n\tif(isXml(type)) {\n\t\t// xhr.responseType = \"document\";\n\t\txhr.overrideMimeType(\"text/xml\"); // for OPF parsing\n\t}\n\n\tif(type == \"xhtml\") {\n\t\t// xhr.responseType = \"document\";\n\t}\n\n\tif(type == \"html\" || type == \"htm\") {\n\t\t// xhr.responseType = \"document\";\n\t}\n\n\tif(type == \"binary\") {\n\t\txhr.responseType = \"arraybuffer\";\n\t}\n\n\txhr.send();\n\n\tfunction err(e) {\n\t\tdeferred.reject(e);\n\t}\n\n\tfunction handler() {\n\t\tif (this.readyState === XMLHttpRequest.DONE) {\n\t\t\tvar responseXML = false;\n\n\t\t\tif(this.responseType === \"\" || this.responseType === \"document\") {\n\t\t\t\tresponseXML = this.responseXML;\n\t\t\t}\n\n\t\t\tif (this.status === 200 || this.status === 0 || responseXML) { //-- Firefox is reporting 0 for blob urls\n\t\t\t\tvar r;\n\n\t\t\t\tif (!this.response && !responseXML) {\n\t\t\t\t\tdeferred.reject({\n\t\t\t\t\t\tstatus: this.status,\n\t\t\t\t\t\tmessage : \"Empty Response\",\n\t\t\t\t\t\tstack : new Error().stack\n\t\t\t\t\t});\n\t\t\t\t\treturn deferred.promise;\n\t\t\t\t}\n\n\t\t\t\tif (this.status === 403) {\n\t\t\t\t\tdeferred.reject({\n\t\t\t\t\t\tstatus: this.status,\n\t\t\t\t\t\tresponse: this.response,\n\t\t\t\t\t\tmessage : \"Forbidden\",\n\t\t\t\t\t\tstack : new Error().stack\n\t\t\t\t\t});\n\t\t\t\t\treturn deferred.promise;\n\t\t\t\t}\n\t\t\t\tif(responseXML){\n\t\t\t\t\tr = this.responseXML;\n\t\t\t\t} else\n\t\t\t\tif(isXml(type)){\n\t\t\t\t\t// xhr.overrideMimeType(\"text/xml\"); // for OPF parsing\n\t\t\t\t\t// If this.responseXML wasn't set, try to parse using a DOMParser from text\n\t\t\t\t\tr = parse(this.response, \"text/xml\");\n\t\t\t\t}else\n\t\t\t\tif(type == \"xhtml\"){\n\t\t\t\t\tr = parse(this.response, \"application/xhtml+xml\");\n\t\t\t\t}else\n\t\t\t\tif(type == \"html\" || type == \"htm\"){\n\t\t\t\t\tr = parse(this.response, \"text/html\");\n\t\t\t\t}else\n\t\t\t\tif(type == \"json\"){\n\t\t\t\t\tr = JSON.parse(this.response);\n\t\t\t\t}else\n\t\t\t\tif(type == \"blob\"){\n\n\t\t\t\t\tif(supportsURL) {\n\t\t\t\t\t\tr = this.response;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//-- Safari doesn't support responseType blob, so create a blob from arraybuffer\n\t\t\t\t\t\tr = new Blob([this.response]);\n\t\t\t\t\t}\n\n\t\t\t\t}else{\n\t\t\t\t\tr = this.response;\n\t\t\t\t}\n\n\t\t\t\tdeferred.resolve(r);\n\t\t\t} else {\n\n\t\t\t\tdeferred.reject({\n\t\t\t\t\tstatus: this.status,\n\t\t\t\t\tmessage : this.response,\n\t\t\t\t\tstack : new Error().stack\n\t\t\t\t});\n\n\t\t\t}\n\t\t}\n\t}\n\n\treturn deferred.promise;\n}\n\nexport default request;\n","\"use strict\";\n\nvar isValue = require(\"../value/is\");\n\n// prettier-ignore\nvar possibleTypes = { \"object\": true, \"function\": true, \"undefined\": true /* document.all */ };\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) return false;\n\treturn hasOwnProperty.call(possibleTypes, typeof value);\n};\n","\"use strict\";\n\nvar _undefined = require(\"../function/noop\")(); // Support ES3 engines\n\nmodule.exports = function (val) { return val !== _undefined && val !== null; };\n","\"use strict\";\n\nvar isPrototype = require(\"../prototype/is\");\n\nmodule.exports = function (value) {\n\tif (typeof value !== \"function\") return false;\n\n\tif (!hasOwnProperty.call(value, \"length\")) return false;\n\n\ttry {\n\t\tif (typeof value.length !== \"number\") return false;\n\t\tif (typeof value.call !== \"function\") return false;\n\t\tif (typeof value.apply !== \"function\") return false;\n\t} catch (error) {\n\t\treturn false;\n\t}\n\n\treturn !isPrototype(value);\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TitleBar.vue?vue&type=style&index=0&id=0727a918&lang=scss&scoped=true&\"","var arraySpeciesConstructor = require('../internals/array-species-constructor');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  return new (arraySpeciesConstructor(originalArray))(length === 0 ? 0 : length);\n};\n","var isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","\"use strict\";\n\nvar isValue = require(\"../is-value\");\n\nvar keys = Object.keys;\n\nmodule.exports = function (object) { return keys(isValue(object) ? Object(object) : object); };\n","/*\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n */\n\nfunction copy(src,dest){\n\tfor(var p in src){\n\t\tdest[p] = src[p];\n\t}\n}\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\nfunction _extends(Class,Super){\n\tvar pt = Class.prototype;\n\tif(Object.create){\n\t\tvar ppt = Object.create(Super.prototype)\n\t\tpt.__proto__ = ppt;\n\t}\n\tif(!(pt instanceof Super)){\n\t\tfunction t(){};\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknow Class:\"+Class)\n\t\t}\n\t\tpt.constructor = Class\n\t}\n}\nvar htmlns = 'http://www.w3.org/1999/xhtml' ;\n// Node Types\nvar NodeType = {}\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\n\n// ExceptionCode\nvar ExceptionCode = {}\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\n//level2\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\nfunction NodeList() {\n};\nNodeList.prototype = {\n\t/**\n\t * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n\t * @standard level1\n\t */\n\tlength:0, \n\t/**\n\t * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n\t * @standard level1\n\t * @param index  unsigned long \n\t *   Index into the collection.\n\t * @return Node\n\t * \tThe node at the indexth position in the NodeList, or null if that is not a valid index. \n\t */\n\titem: function(index) {\n\t\treturn this[index] || null;\n\t},\n\ttoString:function(isHTML,nodeFilter){\n\t\tfor(var buf = [], i = 0;i<this.length;i++){\n\t\t\tserializeToString(this[i],buf,isHTML,nodeFilter);\n\t\t}\n\t\treturn buf.join('');\n\t}\n};\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif(list._inc != inc){\n\t\tvar ls = list._refresh(list._node);\n\t\t//console.log(ls.length)\n\t\t__set__(list,'length',ls.length);\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i];\n}\n\n_extends(LiveNodeList,NodeList);\n/**\n * \n * Objects implementing the NamedNodeMap interface are used to represent collections of nodes that can be accessed by name. Note that NamedNodeMap does not inherit from NodeList; NamedNodeMaps are not maintained in any particular order. Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index, but this is simply to allow convenient enumeration of the contents of a NamedNodeMap, and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities \n */\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\t//console.log('remove attr:'+attr)\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i]\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow DOMException(NOT_FOUND_ERR,new Error(el.tagName+'@'+attr))\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n//\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n//\t\t\treturn null;\n//\t\t}\n\t\t//console.log()\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\t//console.log(attr.nodeName,key)\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\t/* returns Node */\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\n\t/* returns Node */\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t\t\n\t\t\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\t\n\t//for level2\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\n/**\n * @see http://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490\n */\nfunction DOMImplementation(/* Object */ features) {\n\tthis._features = {};\n\tif (features) {\n\t\tfor (var feature in features) {\n\t\t\t this._features = features[feature];\n\t\t}\n\t}\n};\n\nDOMImplementation.prototype = {\n\thasFeature: function(/* string */ feature, /* string */ version) {\n\t\tvar versions = this._features[feature.toLowerCase()];\n\t\tif (versions && (!version || version in versions)) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateDocument:function(namespaceURI,  qualifiedName, doctype){// raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR,WRONG_DOCUMENT_ERR\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype;\n\t\tif(doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif(qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI,qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateDocumentType:function(qualifiedName, publicId, systemId){// raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId;\n\t\tnode.systemId = systemId;\n\t\t// Introduced in DOM Level 2:\n\t\t//readonly attribute DOMString        internalSubset;\n\t\t\n\t\t//TODO:..\n\t\t//  readonly attribute NamedNodeMap     entities;\n\t\t//  readonly attribute NamedNodeMap     notations;\n\t\treturn node;\n\t}\n};\n\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\t// Modified in DOM Level 2:\n\tinsertBefore:function(newChild, refChild){//raises \n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises \n\t\tthis.insertBefore(newChild,oldChild);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\t// Modified in DOM Level 2:\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n  \t// Introduced in DOM Level 2:\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    // Introduced in DOM Level 2:\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n    \t\t\t\tif(map[n] == namespaceURI){\n    \t\t\t\t\treturn n;\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tif(prefix in map){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';'\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\n\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n}\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns == 'http://www.w3.org/2000/xmlns/'){\n\t\t//update namespace\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns == 'http://www.w3.org/2000/xmlns/'){\n\t\t//update namespace\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:'']\n\t}\n}\nfunction _onUpdateChild(doc,el,newChild){\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\t//update childNodes\n\t\tvar cs = el.childNodes;\n\t\tif(newChild){\n\t\t\tcs[cs.length++] = newChild;\n\t\t}else{\n\t\t\t//console.log(1)\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile(child){\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild =child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t}\n\t}\n}\n\n/**\n * attributes;\n * children;\n * \n * writeable properties:\n * nodeValue,Attr:value,CharacterData:data\n * prefix\n */\nfunction _removeChild(parentNode,child){\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif(previous){\n\t\tprevious.nextSibling = next;\n\t}else{\n\t\tparentNode.firstChild = next\n\t}\n\tif(next){\n\t\tnext.previousSibling = previous;\n\t}else{\n\t\tparentNode.lastChild = previous;\n\t}\n\t_onUpdateChild(parentNode.ownerDocument,parentNode);\n\treturn child;\n}\n/**\n * preformance key(refChild == null)\n */\nfunction _insertBefore(parentNode,newChild,nextChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tcp.removeChild(newChild);//remove and update\n\t}\n\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = newChild.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn newChild;\n\t\t}\n\t\tvar newLast = newChild.lastChild;\n\t}else{\n\t\tnewFirst = newLast = newChild;\n\t}\n\tvar pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = nextChild;\n\t\n\t\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparentNode.firstChild = newFirst;\n\t}\n\tif(nextChild == null){\n\t\tparentNode.lastChild = newLast;\n\t}else{\n\t\tnextChild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parentNode;\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parentNode.ownerDocument||parentNode,parentNode);\n\t//console.log(parentNode.lastChild.nextSibling == null)\n\tif (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnewChild.firstChild = newChild.lastChild = null;\n\t}\n\treturn newChild;\n}\nfunction _appendSingleChild(parentNode,newChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tvar pre = parentNode.lastChild;\n\t\tcp.removeChild(newChild);//remove and update\n\t\tvar pre = parentNode.lastChild;\n\t}\n\tvar pre = parentNode.lastChild;\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = pre;\n\tnewChild.nextSibling = null;\n\tif(pre){\n\t\tpre.nextSibling = newChild;\n\t}else{\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument,parentNode,newChild);\n\treturn newChild;\n\t//console.log(\"__aa\",parentNode.lastChild.nextSibling == null)\n}\nDocument.prototype = {\n\t//implementation : null,\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\t\n\tinsertBefore :  function(newChild, refChild){//raises \n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\tif(this.documentElement == null && newChild.nodeType == ELEMENT_NODE){\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\t\t\n\t\treturn _insertBefore(this,newChild,refChild),(newChild.ownerDocument = this),newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\t// Introduced in DOM Level 2:\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\t// Introduced in DOM Level 2:\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == ELEMENT_NODE){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn rtv;\n\t},\n\t\n\t//document factory method:\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.target = target;\n\t\tnode.nodeValue= node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name)\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\t\n\t//four real opeartion method\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\t//console.log(this == oldAttr.ownerElement)\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\t//get real attribute name,and remove it by removeAttributeNode\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\t\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\t\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t\t\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\t\n\t},\n\tappendChild:function(newChild){\n\t\tthrow new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n};\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n};\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n};\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n};\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n};\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node,isHtml,nodeFilter){\n\treturn nodeSerializeToString.call(node,isHtml,nodeFilter);\n}\nNode.prototype.toString = nodeSerializeToString;\nfunction nodeSerializeToString(isHtml,nodeFilter){\n\tvar buf = [];\n\tvar refNode = this.nodeType == 9?this.documentElement:this;\n\tvar prefix = refNode.prefix;\n\tvar uri = refNode.namespaceURI;\n\t\n\tif(uri && prefix == null){\n\t\t//console.log(prefix)\n\t\tvar prefix = refNode.lookupPrefix(uri);\n\t\tif(prefix == null){\n\t\t\t//isHTML = true;\n\t\t\tvar visibleNamespaces=[\n\t\t\t{namespace:uri,prefix:null}\n\t\t\t//{namespace:uri,prefix:''}\n\t\t\t]\n\t\t}\n\t}\n\tserializeToString(this,buf,isHtml,nodeFilter,visibleNamespaces);\n\t//console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\treturn buf.join('');\n}\nfunction needNamespaceDefine(node,isHTML, visibleNamespaces) {\n\tvar prefix = node.prefix||'';\n\tvar uri = node.namespaceURI;\n\tif (!prefix && !uri){\n\t\treturn false;\n\t}\n\tif (prefix === \"xml\" && uri === \"http://www.w3.org/XML/1998/namespace\" \n\t\t|| uri == 'http://www.w3.org/2000/xmlns/'){\n\t\treturn false;\n\t}\n\t\n\tvar i = visibleNamespaces.length \n\t//console.log('@@@@',node.tagName,prefix,uri,visibleNamespaces)\n\twhile (i--) {\n\t\tvar ns = visibleNamespaces[i];\n\t\t// get namespace prefix\n\t\t//console.log(node.nodeType,node.tagName,ns.prefix,prefix)\n\t\tif (ns.prefix == prefix){\n\t\t\treturn ns.namespace != uri;\n\t\t}\n\t}\n\t//console.log(isHTML,uri,prefix=='')\n\t//if(isHTML && prefix ==null && uri == 'http://www.w3.org/1999/xhtml'){\n\t//\treturn false;\n\t//}\n\t//node.flag = '11111'\n\t//console.error(3,true,node.flag,node.prefix,node.namespaceURI)\n\treturn true;\n}\nfunction serializeToString(node,buf,isHTML,nodeFilter,visibleNamespaces){\n\tif(nodeFilter){\n\t\tnode = nodeFilter(node);\n\t\tif(node){\n\t\t\tif(typeof node == 'string'){\n\t\t\t\tbuf.push(node);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}else{\n\t\t\treturn;\n\t\t}\n\t\t//buf.sort.apply(attrs, attributeSorter);\n\t}\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tif (!visibleNamespaces) visibleNamespaces = [];\n\t\tvar startVisibleNamespaces = visibleNamespaces.length;\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\t\t\n\t\tisHTML =  (htmlns === node.namespaceURI) ||isHTML \n\t\tbuf.push('<',nodeName);\n\t\t\n\t\t\n\t\t\n\t\tfor(var i=0;i<len;i++){\n\t\t\t// add namespaces for attributes\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (attr.prefix == 'xmlns') {\n\t\t\t\tvisibleNamespaces.push({ prefix: attr.localName, namespace: attr.value });\n\t\t\t}else if(attr.nodeName == 'xmlns'){\n\t\t\t\tvisibleNamespaces.push({ prefix: '', namespace: attr.value });\n\t\t\t}\n\t\t}\n\t\tfor(var i=0;i<len;i++){\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (needNamespaceDefine(attr,isHTML, visibleNamespaces)) {\n\t\t\t\tvar prefix = attr.prefix||'';\n\t\t\t\tvar uri = attr.namespaceURI;\n\t\t\t\tvar ns = prefix ? ' xmlns:' + prefix : \" xmlns\";\n\t\t\t\tbuf.push(ns, '=\"' , uri , '\"');\n\t\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t\t}\n\t\t\tserializeToString(attr,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t}\n\t\t// add namespace for current node\t\t\n\t\tif (needNamespaceDefine(node,isHTML, visibleNamespaces)) {\n\t\t\tvar prefix = node.prefix||'';\n\t\t\tvar uri = node.namespaceURI;\n\t\t\tvar ns = prefix ? ' xmlns:' + prefix : \" xmlns\";\n\t\t\tbuf.push(ns, '=\"' , uri , '\"');\n\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t}\n\t\t\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\t//if is cdata child node\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\twhile(child){\n\t\t\t\t\tif(child.data){\n\t\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t\t\t\t}\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}else\n\t\t\t{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',nodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\t// remove added visible namespaces\n\t\t//visibleNamespaces.length = startVisibleNamespaces;\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\treturn buf.push(' ',node.name,'=\"',node.value.replace(/[<&\"]/g,_xmlEncoder),'\"');\n\tcase TEXT_NODE:\n\t\treturn buf.push(node.data.replace(/[<&]/g,_xmlEncoder));\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"<!--\",node.data,\"-->\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC \"',pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push( '\" \"',sysid);\n\t\t\t}\n\t\t\tbuf.push('\">');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM \"',sysid,'\">');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE:\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\t\t//var attrs = node2.attributes;\n\t\t//var len = attrs.length;\n\t\t//for(var i=0;i<len;i++){\n\t\t\t//node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n\t\t//}\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t//case ENTITY_REFERENCE_NODE:\n\t//case PROCESSING_INSTRUCTION_NODE:\n\t////case TEXT_NODE:\n\t//case CDATA_SECTION_NODE:\n\t//case COMMENT_NODE:\n\t//\tdeep = false;\n\t//\tbreak;\n\t//case DOCUMENT_NODE:\n\t//case DOCUMENT_TYPE_NODE:\n\t//cannot be imported.\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE\n\t//can not hit in level3\n\t//default:throw e;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n//\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor(var n in node){\n\t\tvar v = node[n];\n\t\tif(typeof v != 'object' ){\n\t\t\tif(v != node2[n]){\n\t\t\t\tnode2[n] = v;\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value\n}\n//do dynamic\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase ELEMENT_NODE:\n\t\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t//TODO:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = data;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t\n\t\tfunction getTextContent(node){\n\t\t\tswitch(node.nodeType){\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\tvar buf = [];\n\t\t\t\tnode = node.firstChild;\n\t\t\t\twhile(node){\n\t\t\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t\t\t}\n\t\t\t\t\tnode = node.nextSibling;\n\t\t\t\t}\n\t\t\t\treturn buf.join('');\n\t\t\tdefault:\n\t\t\t\treturn node.nodeValue;\n\t\t\t}\n\t\t}\n\t\t__set__ = function(object,key,value){\n\t\t\t//console.log(value)\n\t\t\tobject['$$'+key] = value\n\t\t}\n\t}\n}catch(e){//ie8\n}\n\n//if(typeof require == 'function'){\n\texports.DOMImplementation = DOMImplementation;\n\texports.XMLSerializer = XMLSerializer;\n//}\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? Object.keys : require(\"./shim\");\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.createElement = createElement;\nfunction createElement(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\nexports.default = {\n    createElement: createElement\n};\n","import { extend } from \"./utils/core\";\nimport { EVENTS } from \"./utils/constants\";\nimport EventEmitter from \"event-emitter\";\n\n/**\n * Figures out the CSS values to apply for a layout\n * @class\n * @param {object} settings\n * @param {string} [settings.layout='reflowable']\n * @param {string} [settings.spread]\n * @param {number} [settings.minSpreadWidth=800]\n * @param {boolean} [settings.evenSpreads=false]\n */\nclass Layout {\n\tconstructor(settings) {\n\t\tthis.settings = settings;\n\t\tthis.name = settings.layout || \"reflowable\";\n\t\tthis._spread = (settings.spread === \"none\") ? false : true;\n\t\tthis._minSpreadWidth = settings.minSpreadWidth || 800;\n\t\tthis._evenSpreads = settings.evenSpreads || false;\n\n\t\tif (settings.flow === \"scrolled\" ||\n\t\t\t\tsettings.flow === \"scrolled-continuous\" ||\n\t\t\t\tsettings.flow === \"scrolled-doc\") {\n\t\t\tthis._flow = \"scrolled\";\n\t\t} else {\n\t\t\tthis._flow = \"paginated\";\n\t\t}\n\n\n\t\tthis.width = 0;\n\t\tthis.height = 0;\n\t\tthis.spreadWidth = 0;\n\t\tthis.delta = 0;\n\n\t\tthis.columnWidth = 0;\n\t\tthis.gap = 0;\n\t\tthis.divisor = 1;\n\n\t\tthis.props = {\n\t\t\tname: this.name,\n\t\t\tspread: this._spread,\n\t\t\tflow: this._flow,\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t\tspreadWidth: 0,\n\t\t\tdelta: 0,\n\t\t\tcolumnWidth: 0,\n\t\t\tgap: 0,\n\t\t\tdivisor: 1\n\t\t};\n\n\t}\n\n\t/**\n\t * Switch the flow between paginated and scrolled\n\t * @param  {string} flow paginated | scrolled\n\t * @return {string} simplified flow\n\t */\n\tflow(flow) {\n\t\tif (typeof(flow) != \"undefined\") {\n\t\t\tif (flow === \"scrolled\" ||\n\t\t\t\t\tflow === \"scrolled-continuous\" ||\n\t\t\t\t\tflow === \"scrolled-doc\") {\n\t\t\t\tthis._flow = \"scrolled\";\n\t\t\t} else {\n\t\t\t\tthis._flow = \"paginated\";\n\t\t\t}\n\t\t\t// this.props.flow = this._flow;\n\t\t\tthis.update({flow: this._flow});\n\t\t}\n\t\treturn this._flow;\n\t}\n\n\t/**\n\t * Switch between using spreads or not, and set the\n\t * width at which they switch to single.\n\t * @param  {string} spread \"none\" | \"always\" | \"auto\"\n\t * @param  {number} min integer in pixels\n\t * @return {boolean} spread true | false\n\t */\n\tspread(spread, min) {\n\n\t\tif (spread) {\n\t\t\tthis._spread = (spread === \"none\") ? false : true;\n\t\t\t// this.props.spread = this._spread;\n\t\t\tthis.update({spread: this._spread});\n\t\t}\n\n\t\tif (min >= 0) {\n\t\t\tthis._minSpreadWidth = min;\n\t\t}\n\n\t\treturn this._spread;\n\t}\n\n\t/**\n\t * Calculate the dimensions of the pagination\n\t * @param  {number} _width  width of the rendering\n\t * @param  {number} _height height of the rendering\n\t * @param  {number} _gap    width of the gap between columns\n\t */\n\tcalculate(_width, _height, _gap){\n\n\t\tvar divisor = 1;\n\t\tvar gap = _gap || 0;\n\n\t\t//-- Check the width and create even width columns\n\t\t// var fullWidth = Math.floor(_width);\n\t\tvar width = _width;\n\t\tvar height = _height;\n\n\t\tvar section = Math.floor(width / 12);\n\n\t\tvar columnWidth;\n\t\tvar spreadWidth;\n\t\tvar pageWidth;\n\t\tvar delta;\n\n\t\tif (this._spread && width >= this._minSpreadWidth) {\n\t\t\tdivisor = 2;\n\t\t} else {\n\t\t\tdivisor = 1;\n\t\t}\n\n\t\tif (this.name === \"reflowable\" && this._flow === \"paginated\" && !(_gap >= 0)) {\n\t\t\tgap = ((section % 2 === 0) ? section : section - 1);\n\t\t}\n\n\t\tif (this.name === \"pre-paginated\" ) {\n\t\t\tgap = 0;\n\t\t}\n\n\t\t//-- Double Page\n\t\tif(divisor > 1) {\n\t\t\t// width = width - gap;\n\t\t\t// columnWidth = (width - gap) / divisor;\n\t\t\t// gap = gap / divisor;\n\t\t\tcolumnWidth = (width / divisor) - gap;\n\t\t\tpageWidth = columnWidth + gap;\n\t\t} else {\n\t\t\tcolumnWidth = width;\n\t\t\tpageWidth = width;\n\t\t}\n\n\t\tif (this.name === \"pre-paginated\" && divisor > 1) {\n\t\t\twidth = columnWidth;\n\t\t}\n\n\t\tspreadWidth = (columnWidth * divisor) + gap;\n\n\t\tdelta = width;\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.spreadWidth = spreadWidth;\n\t\tthis.pageWidth = pageWidth;\n\t\tthis.delta = delta;\n\n\t\tthis.columnWidth = columnWidth;\n\t\tthis.gap = gap;\n\t\tthis.divisor = divisor;\n\n\t\t// this.props.width = width;\n\t\t// this.props.height = _height;\n\t\t// this.props.spreadWidth = spreadWidth;\n\t\t// this.props.pageWidth = pageWidth;\n\t\t// this.props.delta = delta;\n\t\t//\n\t\t// this.props.columnWidth = colWidth;\n\t\t// this.props.gap = gap;\n\t\t// this.props.divisor = divisor;\n\n\t\tthis.update({\n\t\t\twidth,\n\t\t\theight,\n\t\t\tspreadWidth,\n\t\t\tpageWidth,\n\t\t\tdelta,\n\t\t\tcolumnWidth,\n\t\t\tgap,\n\t\t\tdivisor\n\t\t});\n\n\t}\n\n\t/**\n\t * Apply Css to a Document\n\t * @param  {Contents} contents\n\t * @return {Promise}\n\t */\n\tformat(contents){\n\t\tvar formating;\n\n\t\tif (this.name === \"pre-paginated\") {\n\t\t\tformating = contents.fit(this.columnWidth, this.height);\n\t\t} else if (this._flow === \"paginated\") {\n\t\t\tformating = contents.columns(this.width, this.height, this.columnWidth, this.gap);\n\t\t} else { // scrolled\n\t\t\tformating = contents.size(this.width, null);\n\t\t}\n\n\t\treturn formating; // might be a promise in some View Managers\n\t}\n\n\t/**\n\t * Count number of pages\n\t * @param  {number} totalLength\n\t * @param  {number} pageLength\n\t * @return {{spreads: Number, pages: Number}}\n\t */\n\tcount(totalLength, pageLength) {\n\n\t\tlet spreads, pages;\n\n\t\tif (this.name === \"pre-paginated\") {\n\t\t\tspreads = 1;\n\t\t\tpages = 1;\n\t\t} else if (this._flow === \"paginated\") {\n\t\t\tpageLength = pageLength || this.delta;\n\t\t\tspreads = Math.ceil( totalLength / pageLength);\n\t\t\tpages = spreads * this.divisor;\n\t\t} else { // scrolled\n\t\t\tpageLength = pageLength || this.height;\n\t\t\tspreads = Math.ceil( totalLength / pageLength);\n\t\t\tpages = spreads;\n\t\t}\n\n\t\treturn {\n\t\t\tspreads,\n\t\t\tpages\n\t\t};\n\n\t}\n\n\t/**\n\t * Update props that have changed\n\t * @private\n\t * @param  {object} props\n\t */\n\tupdate(props) {\n\t\t// Remove props that haven't changed\n\t\tObject.keys(props).forEach((propName) => {\n\t\t\tif (this.props[propName] === props[propName]) {\n\t\t\t\tdelete props[propName];\n\t\t\t}\n\t\t});\n\n\t\tif(Object.keys(props).length > 0) {\n\t\t\tlet newProps = extend(this.props, props);\n\t\t\tthis.emit(EVENTS.LAYOUT.UPDATED, newProps, props);\n\t\t}\n\t}\n}\n\nEventEmitter(Layout.prototype);\n\nexport default Layout;\n","import {extend, defer, requestAnimationFrame} from \"../../utils/core\";\nimport DefaultViewManager from \"../default\";\nimport { EVENTS } from \"../../utils/constants\";\nimport debounce from \"lodash/debounce\";\n\nclass ContinuousViewManager extends DefaultViewManager {\n\tconstructor(options) {\n\t\tsuper(options);\n\n\t\tthis.name = \"continuous\";\n\n\t\tthis.settings = extend(this.settings || {}, {\n\t\t\tinfinite: true,\n\t\t\toverflow: undefined,\n\t\t\taxis: undefined,\n\t\t\tflow: \"scrolled\",\n\t\t\toffset: 500,\n\t\t\toffsetDelta: 250,\n\t\t\twidth: undefined,\n\t\t\theight: undefined\n\t\t});\n\n\t\textend(this.settings, options.settings || {});\n\n\t\t// Gap can be 0, but defaults doesn't handle that\n\t\tif (options.settings.gap != \"undefined\" && options.settings.gap === 0) {\n\t\t\tthis.settings.gap = options.settings.gap;\n\t\t}\n\n\t\tthis.viewSettings = {\n\t\t\tignoreClass: this.settings.ignoreClass,\n\t\t\taxis: this.settings.axis,\n\t\t\tflow: this.settings.flow,\n\t\t\tlayout: this.layout,\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t\tforceEvenPages: false\n\t\t};\n\n\t\tthis.scrollTop = 0;\n\t\tthis.scrollLeft = 0;\n\t}\n\n\tdisplay(section, target){\n\t\treturn DefaultViewManager.prototype.display.call(this, section, target)\n\t\t\t.then(function () {\n\t\t\t\treturn this.fill();\n\t\t\t}.bind(this));\n\t}\n\n\tfill(_full){\n\t\tvar full = _full || new defer();\n\n\t\tthis.q.enqueue(() => {\n\t\t\treturn this.check();\n\t\t}).then((result) => {\n\t\t\tif (result) {\n\t\t\t\tthis.fill(full);\n\t\t\t} else {\n\t\t\t\tfull.resolve();\n\t\t\t}\n\t\t});\n\n\t\treturn full.promise;\n\t}\n\n\tmoveTo(offset){\n\t\t// var bounds = this.stage.bounds();\n\t\t// var dist = Math.floor(offset.top / bounds.height) * bounds.height;\n\t\tvar distX = 0,\n\t\t\t\tdistY = 0;\n\n\t\tvar offsetX = 0,\n\t\t\t\toffsetY = 0;\n\n\t\tif(!this.isPaginated) {\n\t\t\tdistY = offset.top;\n\t\t\toffsetY = offset.top+this.settings.offset;\n\t\t} else {\n\t\t\tdistX = Math.floor(offset.left / this.layout.delta) * this.layout.delta;\n\t\t\toffsetX = distX+this.settings.offset;\n\t\t}\n\n\t\tif (distX > 0 || distY > 0) {\n\t\t\tthis.scrollBy(distX, distY, true);\n\t\t}\n\t}\n\n\tafterResized(view){\n\t\tthis.emit(EVENTS.MANAGERS.RESIZE, view.section);\n\t}\n\n\t// Remove Previous Listeners if present\n\tremoveShownListeners(view){\n\n\t\t// view.off(\"shown\", this.afterDisplayed);\n\t\t// view.off(\"shown\", this.afterDisplayedAbove);\n\t\tview.onDisplayed = function(){};\n\n\t}\n\n\tadd(section){\n\t\tvar view = this.createView(section);\n\n\t\tthis.views.append(view);\n\n\t\tview.on(EVENTS.VIEWS.RESIZED, (bounds) => {\n\t\t\tview.expanded = true;\n\t\t});\n\n\t\tview.on(EVENTS.VIEWS.AXIS, (axis) => {\n\t\t\tthis.updateAxis(axis);\n\t\t});\n\n\t\t// view.on(EVENTS.VIEWS.SHOWN, this.afterDisplayed.bind(this));\n\t\tview.onDisplayed = this.afterDisplayed.bind(this);\n\t\tview.onResize = this.afterResized.bind(this);\n\n\t\treturn view.display(this.request);\n\t}\n\n\tappend(section){\n\t\tvar view = this.createView(section);\n\n\t\tview.on(EVENTS.VIEWS.RESIZED, (bounds) => {\n\t\t\tview.expanded = true;\n\t\t});\n\n\t\t/*\n\t\tview.on(EVENTS.VIEWS.AXIS, (axis) => {\n\t\t\tthis.updateAxis(axis);\n\t\t});\n\t\t*/\n\n\t\tthis.views.append(view);\n\n\t\tview.onDisplayed = this.afterDisplayed.bind(this);\n\n\t\treturn view;\n\t}\n\n\tprepend(section){\n\t\tvar view = this.createView(section);\n\n\t\tview.on(EVENTS.VIEWS.RESIZED, (bounds) => {\n\t\t\tthis.counter(bounds);\n\t\t\tview.expanded = true;\n\t\t});\n\n\t\t/*\n\t\tview.on(EVENTS.VIEWS.AXIS, (axis) => {\n\t\t\tthis.updateAxis(axis);\n\t\t});\n\t\t*/\n\n\t\tthis.views.prepend(view);\n\n\t\tview.onDisplayed = this.afterDisplayed.bind(this);\n\n\t\treturn view;\n\t}\n\n\tcounter(bounds){\n\t\tif(this.settings.axis === \"vertical\") {\n\t\t\tthis.scrollBy(0, bounds.heightDelta, true);\n\t\t} else {\n\t\t\tthis.scrollBy(bounds.widthDelta, 0, true);\n\t\t}\n\n\t}\n\n\tupdate(_offset){\n\t\tvar container = this.bounds();\n\t\tvar views = this.views.all();\n\t\tvar viewsLength = views.length;\n\t\tvar visible = [];\n\t\tvar offset = typeof _offset != \"undefined\" ? _offset : (this.settings.offset || 0);\n\t\tvar isVisible;\n\t\tvar view;\n\n\t\tvar updating = new defer();\n\t\tvar promises = [];\n\t\tfor (var i = 0; i < viewsLength; i++) {\n\t\t\tview = views[i];\n\n\t\t\tisVisible = this.isVisible(view, offset, offset, container);\n\n\t\t\tif(isVisible === true) {\n\t\t\t\t// console.log(\"visible \" + view.index);\n\n\t\t\t\tif (!view.displayed) {\n\t\t\t\t\tlet displayed = view.display(this.request)\n\t\t\t\t\t\t.then(function (view) {\n\t\t\t\t\t\t\tview.show();\n\t\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\t\tview.hide();\n\t\t\t\t\t\t});\n\t\t\t\t\tpromises.push(displayed);\n\t\t\t\t} else {\n\t\t\t\t\tview.show();\n\t\t\t\t}\n\t\t\t\tvisible.push(view);\n\t\t\t} else {\n\t\t\t\tthis.q.enqueue(view.destroy.bind(view));\n\t\t\t\t// console.log(\"hidden \" + view.index);\n\n\t\t\t\tclearTimeout(this.trimTimeout);\n\t\t\t\tthis.trimTimeout = setTimeout(function(){\n\t\t\t\t\tthis.q.enqueue(this.trim.bind(this));\n\t\t\t\t}.bind(this), 250);\n\t\t\t}\n\n\t\t}\n\n\t\tif(promises.length){\n\t\t\treturn Promise.all(promises)\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tupdating.reject(err);\n\t\t\t\t});\n\t\t} else {\n\t\t\tupdating.resolve();\n\t\t\treturn updating.promise;\n\t\t}\n\n\t}\n\n\tcheck(_offsetLeft, _offsetTop){\n\t\tvar checking = new defer();\n\t\tvar newViews = [];\n\n\t\tvar horizontal = (this.settings.axis === \"horizontal\");\n\t\tvar delta = this.settings.offset || 0;\n\n\t\tif (_offsetLeft && horizontal) {\n\t\t\tdelta = _offsetLeft;\n\t\t}\n\n\t\tif (_offsetTop && !horizontal) {\n\t\t\tdelta = _offsetTop;\n\t\t}\n\n\t\tvar bounds = this._bounds; // bounds saved this until resize\n\n\t\tlet rtl = this.settings.direction === \"rtl\";\n\t\tlet dir = horizontal && rtl ? -1 : 1; //RTL reverses scrollTop\n\n\t\tvar offset = horizontal ? this.scrollLeft : this.scrollTop * dir;\n\t\tvar visibleLength = horizontal ? Math.floor(bounds.width) : bounds.height;\n\t\tvar contentLength = horizontal ? this.container.scrollWidth : this.container.scrollHeight;\n\n\t\tlet prepend = () => {\n\t\t\tlet first = this.views.first();\n\t\t\tlet prev = first && first.section.prev();\n\n\t\t\tif(prev) {\n\t\t\t\tnewViews.push(this.prepend(prev));\n\t\t\t}\n\t\t};\n\n\t\tlet append = () => {\n\t\t\tlet last = this.views.last();\n\t\t\tlet next = last && last.section.next();\n\n\t\t\tif(next) {\n\t\t\t\tnewViews.push(this.append(next));\n\t\t\t}\n\n\t\t};\n\n\t\tif (offset + visibleLength + delta >= contentLength) {\n\t\t\tif (horizontal && rtl) {\n\t\t\t\tprepend();\n\t\t\t} else {\n\t\t\t\tappend();\n\t\t\t}\n\t\t}\n\n\t\tif (offset - delta < 0 ) {\n\t\t\tif (horizontal && rtl) {\n\t\t\t\tappend();\n\t\t\t} else {\n\t\t\t\tprepend();\n\t\t\t}\n\t\t}\n\n\t\tlet promises = newViews.map((view) => {\n\t\t\treturn view.displayed;\n\t\t});\n\n\t\tif(newViews.length){\n\t\t\treturn Promise.all(promises)\n\t\t\t\t.then(() => {\n\t\t\t\t\tif (this.layout.name === \"pre-paginated\" && this.layout.props.spread) {\n\t\t\t\t\t\treturn this.check();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\t// Check to see if anything new is on screen after rendering\n\t\t\t\t\treturn this.update(delta);\n\t\t\t\t}, (err) => {\n\t\t\t\t\treturn err;\n\t\t\t\t});\n\t\t} else {\n\t\t\tthis.q.enqueue(function(){\n\t\t\t\tthis.update();\n\t\t\t}.bind(this));\n\t\t\tchecking.resolve(false);\n\t\t\treturn checking.promise;\n\t\t}\n\n\n\t}\n\n\ttrim(){\n\t\tvar task = new defer();\n\t\tvar displayed = this.views.displayed();\n\t\tvar first = displayed[0];\n\t\tvar last = displayed[displayed.length-1];\n\t\tvar firstIndex = this.views.indexOf(first);\n\t\tvar lastIndex = this.views.indexOf(last);\n\t\tvar above = this.views.slice(0, firstIndex);\n\t\tvar below = this.views.slice(lastIndex+1);\n\n\t\t// Erase all but last above\n\t\tfor (var i = 0; i < above.length-1; i++) {\n\t\t\tthis.erase(above[i], above);\n\t\t}\n\n\t\t// Erase all except first below\n\t\tfor (var j = 1; j < below.length; j++) {\n\t\t\tthis.erase(below[j]);\n\t\t}\n\n\t\ttask.resolve();\n\t\treturn task.promise;\n\t}\n\n\terase(view, above){ //Trim\n\n\t\tvar prevTop;\n\t\tvar prevLeft;\n\n\t\tif(!this.settings.fullsize) {\n\t\t\tprevTop = this.container.scrollTop;\n\t\t\tprevLeft = this.container.scrollLeft;\n\t\t} else {\n\t\t\tprevTop = window.scrollY;\n\t\t\tprevLeft = window.scrollX;\n\t\t}\n\n\t\tvar bounds = view.bounds();\n\n\t\tthis.views.remove(view);\n\n\t\tif(above) {\n\t\t\tif(this.settings.axis === \"vertical\") {\n\t\t\t\tthis.scrollTo(0, prevTop - bounds.height, true);\n\t\t\t} else {\n\t\t\t\tthis.scrollTo(prevLeft - Math.floor(bounds.width), 0, true);\n\t\t\t}\n\t\t}\n\n\t}\n\n\taddEventListeners(stage){\n\n\t\twindow.addEventListener(\"unload\", function(e){\n\t\t\tthis.ignore = true;\n\t\t\t// this.scrollTo(0,0);\n\t\t\tthis.destroy();\n\t\t}.bind(this));\n\n\t\tthis.addScrollListeners();\n\t}\n\n\taddScrollListeners() {\n\t\tvar scroller;\n\n\t\tthis.tick = requestAnimationFrame;\n\n\t\tif(!this.settings.fullsize) {\n\t\t\tthis.prevScrollTop = this.container.scrollTop;\n\t\t\tthis.prevScrollLeft = this.container.scrollLeft;\n\t\t} else {\n\t\t\tthis.prevScrollTop = window.scrollY;\n\t\t\tthis.prevScrollLeft = window.scrollX;\n\t\t}\n\n\t\tthis.scrollDeltaVert = 0;\n\t\tthis.scrollDeltaHorz = 0;\n\n\t\tif(!this.settings.fullsize) {\n\t\t\tscroller = this.container;\n\t\t\tthis.scrollTop = this.container.scrollTop;\n\t\t\tthis.scrollLeft = this.container.scrollLeft;\n\t\t} else {\n\t\t\tscroller = window;\n\t\t\tthis.scrollTop = window.scrollY;\n\t\t\tthis.scrollLeft = window.scrollX;\n\t\t}\n\n\t\tscroller.addEventListener(\"scroll\", this.onScroll.bind(this));\n\t\tthis._scrolled = debounce(this.scrolled.bind(this), 30);\n\t\t// this.tick.call(window, this.onScroll.bind(this));\n\n\t\tthis.didScroll = false;\n\n\t}\n\n\tremoveEventListeners(){\n\t\tvar scroller;\n\n\t\tif(!this.settings.fullsize) {\n\t\t\tscroller = this.container;\n\t\t} else {\n\t\t\tscroller = window;\n\t\t}\n\n\t\tscroller.removeEventListener(\"scroll\", this.onScroll.bind(this));\n\t}\n\n\tonScroll(){\n\t\tlet scrollTop;\n\t\tlet scrollLeft;\n\t\tlet dir = this.settings.direction === \"rtl\" ? -1 : 1;\n\n\t\tif(!this.settings.fullsize) {\n\t\t\tscrollTop = this.container.scrollTop;\n\t\t\tscrollLeft = this.container.scrollLeft;\n\t\t} else {\n\t\t\tscrollTop = window.scrollY * dir;\n\t\t\tscrollLeft = window.scrollX * dir;\n\t\t}\n\n\t\tthis.scrollTop = scrollTop;\n\t\tthis.scrollLeft = scrollLeft;\n\n\t\tif(!this.ignore) {\n\n\t\t\tthis._scrolled();\n\n\t\t} else {\n\t\t\tthis.ignore = false;\n\t\t}\n\n\t\tthis.scrollDeltaVert += Math.abs(scrollTop-this.prevScrollTop);\n\t\tthis.scrollDeltaHorz += Math.abs(scrollLeft-this.prevScrollLeft);\n\n\t\tthis.prevScrollTop = scrollTop;\n\t\tthis.prevScrollLeft = scrollLeft;\n\n\t\tclearTimeout(this.scrollTimeout);\n\t\tthis.scrollTimeout = setTimeout(function(){\n\t\t\tthis.scrollDeltaVert = 0;\n\t\t\tthis.scrollDeltaHorz = 0;\n\t\t}.bind(this), 150);\n\n\n\t\tthis.didScroll = false;\n\n\t}\n\n\tscrolled() {\n\t\tthis.q.enqueue(function() {\n\t\t\tthis.check();\n\t\t}.bind(this));\n\n\t\tthis.emit(EVENTS.MANAGERS.SCROLL, {\n\t\t\ttop: this.scrollTop,\n\t\t\tleft: this.scrollLeft\n\t\t});\n\n\t\tclearTimeout(this.afterScrolled);\n\t\tthis.afterScrolled = setTimeout(function () {\n\t\t\tthis.emit(EVENTS.MANAGERS.SCROLLED, {\n\t\t\t\ttop: this.scrollTop,\n\t\t\t\tleft: this.scrollLeft\n\t\t\t});\n\t\t}.bind(this));\n\t}\n\n\tnext(){\n\n\t\tlet dir = this.settings.direction;\n\t\tlet delta = this.layout.props.name === \"pre-paginated\" &&\n\t\t\t\t\t\t\t\tthis.layout.props.spread ? this.layout.props.delta * 2 : this.layout.props.delta;\n\n\t\tif(!this.views.length) return;\n\n\t\tif(this.isPaginated && this.settings.axis === \"horizontal\") {\n\n\t\t\tthis.scrollBy(delta, 0, true);\n\n\t\t} else {\n\n\t\t\tthis.scrollBy(0, this.layout.height, true);\n\n\t\t}\n\n\t\tthis.q.enqueue(function() {\n\t\t\tthis.check();\n\t\t}.bind(this));\n\t}\n\n\tprev(){\n\n\t\tlet dir = this.settings.direction;\n\t\tlet delta = this.layout.props.name === \"pre-paginated\" &&\n\t\t\t\t\t\t\t\tthis.layout.props.spread ? this.layout.props.delta * 2 : this.layout.props.delta;\n\n\t\tif(!this.views.length) return;\n\n\t\tif(this.isPaginated && this.settings.axis === \"horizontal\") {\n\n\t\t\tthis.scrollBy(-delta, 0, true);\n\n\t\t} else {\n\n\t\t\tthis.scrollBy(0, -this.layout.height, true);\n\n\t\t}\n\n\t\tthis.q.enqueue(function() {\n\t\t\tthis.check();\n\t\t}.bind(this));\n\t}\n\n\tupdateAxis(axis, forceUpdate){\n\n\t\tif (!this.isPaginated) {\n\t\t\taxis = \"vertical\";\n\t\t}\n\n\t\tif (!forceUpdate && axis === this.settings.axis) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.settings.axis = axis;\n\n\t\tthis.stage && this.stage.axis(axis);\n\n\t\tthis.viewSettings.axis = axis;\n\n\t\tif (this.mapping) {\n\t\t\tthis.mapping.axis(axis);\n\t\t}\n\n\t\tif (this.layout) {\n\t\t\tif (axis === \"vertical\") {\n\t\t\t\tthis.layout.spread(\"none\");\n\t\t\t} else {\n\t\t\t\tthis.layout.spread(this.layout.settings.spread);\n\t\t\t}\n\t\t}\n\n\t\tif (axis === \"vertical\") {\n\t\t\tthis.settings.infinite = true;\n\t\t} else {\n\t\t\tthis.settings.infinite = false;\n\t\t}\n\t}\n\n}\n\nexport default ContinuousViewManager;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","import {extend, type, findChildren, RangeObject, isNumber} from \"./utils/core\";\n\nconst ELEMENT_NODE = 1;\nconst TEXT_NODE = 3;\nconst COMMENT_NODE = 8;\nconst DOCUMENT_NODE = 9;\n\n/**\n\t* Parsing and creation of EpubCFIs: http://www.idpf.org/epub/linking/cfi/epub-cfi.html\n\n\t* Implements:\n\t* - Character Offset: epubcfi(/6/4[chap01ref]!/4[body01]/10[para05]/2/1:3)\n\t* - Simple Ranges : epubcfi(/6/4[chap01ref]!/4[body01]/10[para05],/2/1:1,/3:4)\n\n\t* Does Not Implement:\n\t* - Temporal Offset (~)\n\t* - Spatial Offset (@)\n\t* - Temporal-Spatial Offset (~ + @)\n\t* - Text Location Assertion ([)\n\t* @class\n\t@param {string | Range | Node } [cfiFrom]\n\t@param {string | object} [base]\n\t@param {string} [ignoreClass] class to ignore when parsing DOM\n*/\nclass EpubCFI {\n\tconstructor(cfiFrom, base, ignoreClass){\n\t\tvar type;\n\n\t\tthis.str = \"\";\n\n\t\tthis.base = {};\n\t\tthis.spinePos = 0; // For compatibility\n\n\t\tthis.range = false; // true || false;\n\n\t\tthis.path = {};\n\t\tthis.start = null;\n\t\tthis.end = null;\n\n\t\t// Allow instantiation without the \"new\" keyword\n\t\tif (!(this instanceof EpubCFI)) {\n\t\t\treturn new EpubCFI(cfiFrom, base, ignoreClass);\n\t\t}\n\n\t\tif(typeof base === \"string\") {\n\t\t\tthis.base = this.parseComponent(base);\n\t\t} else if(typeof base === \"object\" && base.steps) {\n\t\t\tthis.base = base;\n\t\t}\n\n\t\ttype = this.checkType(cfiFrom);\n\n\n\t\tif(type === \"string\") {\n\t\t\tthis.str = cfiFrom;\n\t\t\treturn extend(this, this.parse(cfiFrom));\n\t\t} else if (type === \"range\") {\n\t\t\treturn extend(this, this.fromRange(cfiFrom, this.base, ignoreClass));\n\t\t} else if (type === \"node\") {\n\t\t\treturn extend(this, this.fromNode(cfiFrom, this.base, ignoreClass));\n\t\t} else if (type === \"EpubCFI\" && cfiFrom.path) {\n\t\t\treturn cfiFrom;\n\t\t} else if (!cfiFrom) {\n\t\t\treturn this;\n\t\t} else {\n\t\t\tthrow new TypeError(\"not a valid argument for EpubCFI\");\n\t\t}\n\n\t}\n\n\t/**\n\t * Check the type of constructor input\n\t * @private\n\t */\n\tcheckType(cfi) {\n\n\t\tif (this.isCfiString(cfi)) {\n\t\t\treturn \"string\";\n\t\t// Is a range object\n\t\t} else if (typeof cfi === \"object\" && (type(cfi) === \"Range\" || typeof(cfi.startContainer) != \"undefined\")){\n\t\t\treturn \"range\";\n\t\t} else if (typeof cfi === \"object\" && typeof(cfi.nodeType) != \"undefined\" ){ // || typeof cfi === \"function\"\n\t\t\treturn \"node\";\n\t\t} else if (typeof cfi === \"object\" && cfi instanceof EpubCFI){\n\t\t\treturn \"EpubCFI\";\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t/**\n\t * Parse a cfi string to a CFI object representation\n\t * @param {string} cfiStr\n\t * @returns {object} cfi\n\t */\n\tparse(cfiStr) {\n\t\tvar cfi = {\n\t\t\tspinePos: -1,\n\t\t\trange: false,\n\t\t\tbase: {},\n\t\t\tpath: {},\n\t\t\tstart: null,\n\t\t\tend: null\n\t\t};\n\t\tvar baseComponent, pathComponent, range;\n\n\t\tif(typeof cfiStr !== \"string\") {\n\t\t\treturn {spinePos: -1};\n\t\t}\n\n\t\tif(cfiStr.indexOf(\"epubcfi(\") === 0 && cfiStr[cfiStr.length-1] === \")\") {\n\t\t\t// Remove intial epubcfi( and ending )\n\t\t\tcfiStr = cfiStr.slice(8, cfiStr.length-1);\n\t\t}\n\n\t\tbaseComponent = this.getChapterComponent(cfiStr);\n\n\t\t// Make sure this is a valid cfi or return\n\t\tif(!baseComponent) {\n\t\t\treturn {spinePos: -1};\n\t\t}\n\n\t\tcfi.base = this.parseComponent(baseComponent);\n\n\t\tpathComponent = this.getPathComponent(cfiStr);\n\t\tcfi.path = this.parseComponent(pathComponent);\n\n\t\trange = this.getRange(cfiStr);\n\n\t\tif(range) {\n\t\t\tcfi.range = true;\n\t\t\tcfi.start = this.parseComponent(range[0]);\n\t\t\tcfi.end = this.parseComponent(range[1]);\n\t\t}\n\n\t\t// Get spine node position\n\t\t// cfi.spineSegment = cfi.base.steps[1];\n\n\t\t// Chapter segment is always the second step\n\t\tcfi.spinePos = cfi.base.steps[1].index;\n\n\t\treturn cfi;\n\t}\n\n\tparseComponent(componentStr){\n\t\tvar component = {\n\t\t\tsteps: [],\n\t\t\tterminal: {\n\t\t\t\toffset: null,\n\t\t\t\tassertion: null\n\t\t\t}\n\t\t};\n\t\tvar parts = componentStr.split(\":\");\n\t\tvar steps = parts[0].split(\"/\");\n\t\tvar terminal;\n\n\t\tif(parts.length > 1) {\n\t\t\tterminal = parts[1];\n\t\t\tcomponent.terminal = this.parseTerminal(terminal);\n\t\t}\n\n\t\tif (steps[0] === \"\") {\n\t\t\tsteps.shift(); // Ignore the first slash\n\t\t}\n\n\t\tcomponent.steps = steps.map(function(step){\n\t\t\treturn this.parseStep(step);\n\t\t}.bind(this));\n\n\t\treturn component;\n\t}\n\n\tparseStep(stepStr){\n\t\tvar type, num, index, has_brackets, id;\n\n\t\thas_brackets = stepStr.match(/\\[(.*)\\]/);\n\t\tif(has_brackets && has_brackets[1]){\n\t\t\tid = has_brackets[1];\n\t\t}\n\n\t\t//-- Check if step is a text node or element\n\t\tnum = parseInt(stepStr);\n\n\t\tif(isNaN(num)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(num % 2 === 0) { // Even = is an element\n\t\t\ttype = \"element\";\n\t\t\tindex = num / 2 - 1;\n\t\t} else {\n\t\t\ttype = \"text\";\n\t\t\tindex = (num - 1 ) / 2;\n\t\t}\n\n\t\treturn {\n\t\t\t\"type\" : type,\n\t\t\t\"index\" : index,\n\t\t\t\"id\" : id || null\n\t\t};\n\t}\n\n\tparseTerminal(termialStr){\n\t\tvar characterOffset, textLocationAssertion;\n\t\tvar assertion = termialStr.match(/\\[(.*)\\]/);\n\n\t\tif(assertion && assertion[1]){\n\t\t\tcharacterOffset = parseInt(termialStr.split(\"[\")[0]);\n\t\t\ttextLocationAssertion = assertion[1];\n\t\t} else {\n\t\t\tcharacterOffset = parseInt(termialStr);\n\t\t}\n\n\t\tif (!isNumber(characterOffset)) {\n\t\t\tcharacterOffset = null;\n\t\t}\n\n\t\treturn {\n\t\t\t\"offset\": characterOffset,\n\t\t\t\"assertion\": textLocationAssertion\n\t\t};\n\n\t}\n\n\tgetChapterComponent(cfiStr) {\n\n\t\tvar indirection = cfiStr.split(\"!\");\n\n\t\treturn indirection[0];\n\t}\n\n\tgetPathComponent(cfiStr) {\n\n\t\tvar indirection = cfiStr.split(\"!\");\n\n\t\tif(indirection[1]) {\n\t\t\tlet ranges = indirection[1].split(\",\");\n\t\t\treturn ranges[0];\n\t\t}\n\n\t}\n\n\tgetRange(cfiStr) {\n\n\t\tvar ranges = cfiStr.split(\",\");\n\n\t\tif(ranges.length === 3){\n\t\t\treturn [\n\t\t\t\tranges[1],\n\t\t\t\tranges[2]\n\t\t\t];\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tgetCharecterOffsetComponent(cfiStr) {\n\t\tvar splitStr = cfiStr.split(\":\");\n\t\treturn splitStr[1] || \"\";\n\t}\n\n\tjoinSteps(steps) {\n\t\tif(!steps) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\treturn steps.map(function(part){\n\t\t\tvar segment = \"\";\n\n\t\t\tif(part.type === \"element\") {\n\t\t\t\tsegment += (part.index + 1) * 2;\n\t\t\t}\n\n\t\t\tif(part.type === \"text\") {\n\t\t\t\tsegment += 1 + (2 * part.index); // TODO: double check that this is odd\n\t\t\t}\n\n\t\t\tif(part.id) {\n\t\t\t\tsegment += \"[\" + part.id + \"]\";\n\t\t\t}\n\n\t\t\treturn segment;\n\n\t\t}).join(\"/\");\n\n\t}\n\n\tsegmentString(segment) {\n\t\tvar segmentString = \"/\";\n\n\t\tsegmentString += this.joinSteps(segment.steps);\n\n\t\tif(segment.terminal && segment.terminal.offset != null){\n\t\t\tsegmentString += \":\" + segment.terminal.offset;\n\t\t}\n\n\t\tif(segment.terminal && segment.terminal.assertion != null){\n\t\t\tsegmentString += \"[\" + segment.terminal.assertion + \"]\";\n\t\t}\n\n\t\treturn segmentString;\n\t}\n\n\t/**\n\t * Convert CFI to a epubcfi(...) string\n\t * @returns {string} epubcfi\n\t */\n\ttoString() {\n\t\tvar cfiString = \"epubcfi(\";\n\n\t\tcfiString += this.segmentString(this.base);\n\n\t\tcfiString += \"!\";\n\t\tcfiString += this.segmentString(this.path);\n\n\t\t// Add Range, if present\n\t\tif(this.range && this.start) {\n\t\t\tcfiString += \",\";\n\t\t\tcfiString += this.segmentString(this.start);\n\t\t}\n\n\t\tif(this.range && this.end) {\n\t\t\tcfiString += \",\";\n\t\t\tcfiString += this.segmentString(this.end);\n\t\t}\n\n\t\tcfiString += \")\";\n\n\t\treturn cfiString;\n\t}\n\n\n\t/**\n\t * Compare which of two CFIs is earlier in the text\n\t * @returns {number} First is earlier = 1, Second is earlier = -1, They are equal = 0\n\t */\n\tcompare(cfiOne, cfiTwo) {\n\t\tvar stepsA, stepsB;\n\t\tvar terminalA, terminalB;\n\n\t\tvar rangeAStartSteps, rangeAEndSteps;\n\t\tvar rangeBEndSteps, rangeBEndSteps;\n\t\tvar rangeAStartTerminal, rangeAEndTerminal;\n\t\tvar rangeBStartTerminal, rangeBEndTerminal;\n\n\t\tif(typeof cfiOne === \"string\") {\n\t\t\tcfiOne = new EpubCFI(cfiOne);\n\t\t}\n\t\tif(typeof cfiTwo === \"string\") {\n\t\t\tcfiTwo = new EpubCFI(cfiTwo);\n\t\t}\n\t\t// Compare Spine Positions\n\t\tif(cfiOne.spinePos > cfiTwo.spinePos) {\n\t\t\treturn 1;\n\t\t}\n\t\tif(cfiOne.spinePos < cfiTwo.spinePos) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tif (cfiOne.range) {\n\t\t\tstepsA = cfiOne.path.steps.concat(cfiOne.start.steps);\n\t\t\tterminalA = cfiOne.start.terminal;\n\t\t} else {\n\t\t\tstepsA = cfiOne.path.steps;\n\t\t\tterminalA = cfiOne.path.terminal;\n\t\t}\n\n\t\tif (cfiTwo.range) {\n\t\t\tstepsB = cfiTwo.path.steps.concat(cfiTwo.start.steps);\n\t\t\tterminalB = cfiTwo.start.terminal;\n\t\t} else {\n\t\t\tstepsB = cfiTwo.path.steps;\n\t\t\tterminalB = cfiTwo.path.terminal;\n\t\t}\n\n\t\t// Compare Each Step in the First item\n\t\tfor (var i = 0; i < stepsA.length; i++) {\n\t\t\tif(!stepsA[i]) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif(!stepsB[i]) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif(stepsA[i].index > stepsB[i].index) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\tif(stepsA[i].index < stepsB[i].index) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\t// Otherwise continue checking\n\t\t}\n\n\t\t// All steps in First equal to Second and First is Less Specific\n\t\tif(stepsA.length < stepsB.length) {\n\t\t\treturn 1;\n\t\t}\n\n\t\t// Compare the charecter offset of the text node\n\t\tif(terminalA.offset > terminalB.offset) {\n\t\t\treturn 1;\n\t\t}\n\t\tif(terminalA.offset < terminalB.offset) {\n\t\t\treturn -1;\n\t\t}\n\n\t\t// CFI's are equal\n\t\treturn 0;\n\t}\n\n\tstep(node) {\n\t\tvar nodeType = (node.nodeType === TEXT_NODE) ? \"text\" : \"element\";\n\n\t\treturn {\n\t\t\t\"id\" : node.id,\n\t\t\t\"tagName\" : node.tagName,\n\t\t\t\"type\" : nodeType,\n\t\t\t\"index\" : this.position(node)\n\t\t};\n\t}\n\n\tfilteredStep(node, ignoreClass) {\n\t\tvar filteredNode = this.filter(node, ignoreClass);\n\t\tvar nodeType;\n\n\t\t// Node filtered, so ignore\n\t\tif (!filteredNode) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Otherwise add the filter node in\n\t\tnodeType = (filteredNode.nodeType === TEXT_NODE) ? \"text\" : \"element\";\n\n\t\treturn {\n\t\t\t\"id\" : filteredNode.id,\n\t\t\t\"tagName\" : filteredNode.tagName,\n\t\t\t\"type\" : nodeType,\n\t\t\t\"index\" : this.filteredPosition(filteredNode, ignoreClass)\n\t\t};\n\t}\n\n\tpathTo(node, offset, ignoreClass) {\n\t\tvar segment = {\n\t\t\tsteps: [],\n\t\t\tterminal: {\n\t\t\t\toffset: null,\n\t\t\t\tassertion: null\n\t\t\t}\n\t\t};\n\t\tvar currentNode = node;\n\t\tvar step;\n\n\t\twhile(currentNode && currentNode.parentNode &&\n\t\t\t\t\tcurrentNode.parentNode.nodeType != DOCUMENT_NODE) {\n\n\t\t\tif (ignoreClass) {\n\t\t\t\tstep = this.filteredStep(currentNode, ignoreClass);\n\t\t\t} else {\n\t\t\t\tstep = this.step(currentNode);\n\t\t\t}\n\n\t\t\tif (step) {\n\t\t\t\tsegment.steps.unshift(step);\n\t\t\t}\n\n\t\t\tcurrentNode = currentNode.parentNode;\n\n\t\t}\n\n\t\tif (offset != null && offset >= 0) {\n\n\t\t\tsegment.terminal.offset = offset;\n\n\t\t\t// Make sure we are getting to a textNode if there is an offset\n\t\t\tif(segment.steps[segment.steps.length-1].type != \"text\") {\n\t\t\t\tsegment.steps.push({\n\t\t\t\t\t\"type\" : \"text\",\n\t\t\t\t\t\"index\" : 0\n\t\t\t\t});\n\t\t\t}\n\n\t\t}\n\n\n\t\treturn segment;\n\t}\n\n\tequalStep(stepA, stepB) {\n\t\tif (!stepA || !stepB) {\n\t\t\treturn false;\n\t\t}\n\n\t\tif(stepA.index === stepB.index &&\n\t\t\t stepA.id === stepB.id &&\n\t\t\t stepA.type === stepB.type) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t * Create a CFI object from a Range\n\t * @param {Range} range\n\t * @param {string | object} base\n\t * @param {string} [ignoreClass]\n\t * @returns {object} cfi\n\t */\n\tfromRange(range, base, ignoreClass) {\n\t\tvar cfi = {\n\t\t\trange: false,\n\t\t\tbase: {},\n\t\t\tpath: {},\n\t\t\tstart: null,\n\t\t\tend: null\n\t\t};\n\n\t\tvar start = range.startContainer;\n\t\tvar end = range.endContainer;\n\n\t\tvar startOffset = range.startOffset;\n\t\tvar endOffset = range.endOffset;\n\n\t\tvar needsIgnoring = false;\n\n\t\tif (ignoreClass) {\n\t\t\t// Tell pathTo if / what to ignore\n\t\t\tneedsIgnoring = (start.ownerDocument.querySelector(\".\" + ignoreClass) != null);\n\t\t}\n\n\n\t\tif (typeof base === \"string\") {\n\t\t\tcfi.base = this.parseComponent(base);\n\t\t\tcfi.spinePos = cfi.base.steps[1].index;\n\t\t} else if (typeof base === \"object\") {\n\t\t\tcfi.base = base;\n\t\t}\n\n\t\tif (range.collapsed) {\n\t\t\tif (needsIgnoring) {\n\t\t\t\tstartOffset = this.patchOffset(start, startOffset, ignoreClass);\n\t\t\t}\n\t\t\tcfi.path = this.pathTo(start, startOffset, ignoreClass);\n\t\t} else {\n\t\t\tcfi.range = true;\n\n\t\t\tif (needsIgnoring) {\n\t\t\t\tstartOffset = this.patchOffset(start, startOffset, ignoreClass);\n\t\t\t}\n\n\t\t\tcfi.start = this.pathTo(start, startOffset, ignoreClass);\n\t\t\tif (needsIgnoring) {\n\t\t\t\tendOffset = this.patchOffset(end, endOffset, ignoreClass);\n\t\t\t}\n\n\t\t\tcfi.end = this.pathTo(end, endOffset, ignoreClass);\n\n\t\t\t// Create a new empty path\n\t\t\tcfi.path = {\n\t\t\t\tsteps: [],\n\t\t\t\tterminal: null\n\t\t\t};\n\n\t\t\t// Push steps that are shared between start and end to the common path\n\t\t\tvar len = cfi.start.steps.length;\n\t\t\tvar i;\n\n\t\t\tfor (i = 0; i < len; i++) {\n\t\t\t\tif (this.equalStep(cfi.start.steps[i], cfi.end.steps[i])) {\n\t\t\t\t\tif(i === len-1) {\n\t\t\t\t\t\t// Last step is equal, check terminals\n\t\t\t\t\t\tif(cfi.start.terminal === cfi.end.terminal) {\n\t\t\t\t\t\t\t// CFI's are equal\n\t\t\t\t\t\t\tcfi.path.steps.push(cfi.start.steps[i]);\n\t\t\t\t\t\t\t// Not a range\n\t\t\t\t\t\t\tcfi.range = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcfi.path.steps.push(cfi.start.steps[i]);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcfi.start.steps = cfi.start.steps.slice(cfi.path.steps.length);\n\t\t\tcfi.end.steps = cfi.end.steps.slice(cfi.path.steps.length);\n\n\t\t\t// TODO: Add Sanity check to make sure that the end if greater than the start\n\t\t}\n\n\t\treturn cfi;\n\t}\n\n\t/**\n\t * Create a CFI object from a Node\n\t * @param {Node} anchor\n\t * @param {string | object} base\n\t * @param {string} [ignoreClass]\n\t * @returns {object} cfi\n\t */\n\tfromNode(anchor, base, ignoreClass) {\n\t\tvar cfi = {\n\t\t\trange: false,\n\t\t\tbase: {},\n\t\t\tpath: {},\n\t\t\tstart: null,\n\t\t\tend: null\n\t\t};\n\n\t\tif (typeof base === \"string\") {\n\t\t\tcfi.base = this.parseComponent(base);\n\t\t\tcfi.spinePos = cfi.base.steps[1].index;\n\t\t} else if (typeof base === \"object\") {\n\t\t\tcfi.base = base;\n\t\t}\n\n\t\tcfi.path = this.pathTo(anchor, null, ignoreClass);\n\n\t\treturn cfi;\n\t}\n\n\tfilter(anchor, ignoreClass) {\n\t\tvar needsIgnoring;\n\t\tvar sibling; // to join with\n\t\tvar parent, previousSibling, nextSibling;\n\t\tvar isText = false;\n\n\t\tif (anchor.nodeType === TEXT_NODE) {\n\t\t\tisText = true;\n\t\t\tparent = anchor.parentNode;\n\t\t\tneedsIgnoring = anchor.parentNode.classList.contains(ignoreClass);\n\t\t} else {\n\t\t\tisText = false;\n\t\t\tneedsIgnoring = anchor.classList.contains(ignoreClass);\n\t\t}\n\n\t\tif (needsIgnoring && isText) {\n\t\t\tpreviousSibling = parent.previousSibling;\n\t\t\tnextSibling = parent.nextSibling;\n\n\t\t\t// If the sibling is a text node, join the nodes\n\t\t\tif (previousSibling && previousSibling.nodeType === TEXT_NODE) {\n\t\t\t\tsibling = previousSibling;\n\t\t\t} else if (nextSibling && nextSibling.nodeType === TEXT_NODE) {\n\t\t\t\tsibling = nextSibling;\n\t\t\t}\n\n\t\t\tif (sibling) {\n\t\t\t\treturn sibling;\n\t\t\t} else {\n\t\t\t\t// Parent will be ignored on next step\n\t\t\t\treturn anchor;\n\t\t\t}\n\n\t\t} else if (needsIgnoring && !isText) {\n\t\t\t// Otherwise just skip the element node\n\t\t\treturn false;\n\t\t} else {\n\t\t\t// No need to filter\n\t\t\treturn anchor;\n\t\t}\n\n\t}\n\n\tpatchOffset(anchor, offset, ignoreClass) {\n\t\tif (anchor.nodeType != TEXT_NODE) {\n\t\t\tthrow new Error(\"Anchor must be a text node\");\n\t\t}\n\n\t\tvar curr = anchor;\n\t\tvar totalOffset = offset;\n\n\t\t// If the parent is a ignored node, get offset from it's start\n\t\tif (anchor.parentNode.classList.contains(ignoreClass)) {\n\t\t\tcurr = anchor.parentNode;\n\t\t}\n\n\t\twhile (curr.previousSibling) {\n\t\t\tif(curr.previousSibling.nodeType === ELEMENT_NODE) {\n\t\t\t\t// Originally a text node, so join\n\t\t\t\tif(curr.previousSibling.classList.contains(ignoreClass)){\n\t\t\t\t\ttotalOffset += curr.previousSibling.textContent.length;\n\t\t\t\t} else {\n\t\t\t\t\tbreak; // Normal node, dont join\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// If the previous sibling is a text node, join the nodes\n\t\t\t\ttotalOffset += curr.previousSibling.textContent.length;\n\t\t\t}\n\n\t\t\tcurr = curr.previousSibling;\n\t\t}\n\n\t\treturn totalOffset;\n\n\t}\n\n\tnormalizedMap(children, nodeType, ignoreClass) {\n\t\tvar output = {};\n\t\tvar prevIndex = -1;\n\t\tvar i, len = children.length;\n\t\tvar currNodeType;\n\t\tvar prevNodeType;\n\n\t\tfor (i = 0; i < len; i++) {\n\n\t\t\tcurrNodeType = children[i].nodeType;\n\n\t\t\t// Check if needs ignoring\n\t\t\tif (currNodeType === ELEMENT_NODE &&\n\t\t\t\t\tchildren[i].classList.contains(ignoreClass)) {\n\t\t\t\tcurrNodeType = TEXT_NODE;\n\t\t\t}\n\n\t\t\tif (i > 0 &&\n\t\t\t\t\tcurrNodeType === TEXT_NODE &&\n\t\t\t\t\tprevNodeType === TEXT_NODE) {\n\t\t\t\t// join text nodes\n\t\t\t\toutput[i] = prevIndex;\n\t\t\t} else if (nodeType === currNodeType){\n\t\t\t\tprevIndex = prevIndex + 1;\n\t\t\t\toutput[i] = prevIndex;\n\t\t\t}\n\n\t\t\tprevNodeType = currNodeType;\n\n\t\t}\n\n\t\treturn output;\n\t}\n\n\tposition(anchor) {\n\t\tvar children, index;\n\t\tif (anchor.nodeType === ELEMENT_NODE) {\n\t\t\tchildren = anchor.parentNode.children;\n\t\t\tif (!children) {\n\t\t\t\tchildren = findChildren(anchor.parentNode);\n\t\t\t}\n\t\t\tindex = Array.prototype.indexOf.call(children, anchor);\n\t\t} else {\n\t\t\tchildren = this.textNodes(anchor.parentNode);\n\t\t\tindex = children.indexOf(anchor);\n\t\t}\n\n\t\treturn index;\n\t}\n\n\tfilteredPosition(anchor, ignoreClass) {\n\t\tvar children, index, map;\n\n\t\tif (anchor.nodeType === ELEMENT_NODE) {\n\t\t\tchildren = anchor.parentNode.children;\n\t\t\tmap = this.normalizedMap(children, ELEMENT_NODE, ignoreClass);\n\t\t} else {\n\t\t\tchildren = anchor.parentNode.childNodes;\n\t\t\t// Inside an ignored node\n\t\t\tif(anchor.parentNode.classList.contains(ignoreClass)) {\n\t\t\t\tanchor = anchor.parentNode;\n\t\t\t\tchildren = anchor.parentNode.childNodes;\n\t\t\t}\n\t\t\tmap = this.normalizedMap(children, TEXT_NODE, ignoreClass);\n\t\t}\n\n\n\t\tindex = Array.prototype.indexOf.call(children, anchor);\n\n\t\treturn map[index];\n\t}\n\n\tstepsToXpath(steps) {\n\t\tvar xpath = [\".\", \"*\"];\n\n\t\tsteps.forEach(function(step){\n\t\t\tvar position = step.index + 1;\n\n\t\t\tif(step.id){\n\t\t\t\txpath.push(\"*[position()=\" + position + \" and @id='\" + step.id + \"']\");\n\t\t\t} else if(step.type === \"text\") {\n\t\t\t\txpath.push(\"text()[\" + position + \"]\");\n\t\t\t} else {\n\t\t\t\txpath.push(\"*[\" + position + \"]\");\n\t\t\t}\n\t\t});\n\n\t\treturn xpath.join(\"/\");\n\t}\n\n\n\t/*\n\n\tTo get the last step if needed:\n\n\t// Get the terminal step\n\tlastStep = steps[steps.length-1];\n\t// Get the query string\n\tquery = this.stepsToQuery(steps);\n\t// Find the containing element\n\tstartContainerParent = doc.querySelector(query);\n\t// Find the text node within that element\n\tif(startContainerParent && lastStep.type == \"text\") {\n\t\tcontainer = startContainerParent.childNodes[lastStep.index];\n\t}\n\t*/\n\tstepsToQuerySelector(steps) {\n\t\tvar query = [\"html\"];\n\n\t\tsteps.forEach(function(step){\n\t\t\tvar position = step.index + 1;\n\n\t\t\tif(step.id){\n\t\t\t\tquery.push(\"#\" + step.id);\n\t\t\t} else if(step.type === \"text\") {\n\t\t\t\t// unsupported in querySelector\n\t\t\t\t// query.push(\"text()[\" + position + \"]\");\n\t\t\t} else {\n\t\t\t\tquery.push(\"*:nth-child(\" + position + \")\");\n\t\t\t}\n\t\t});\n\n\t\treturn query.join(\">\");\n\n\t}\n\n\ttextNodes(container, ignoreClass) {\n\t\treturn Array.prototype.slice.call(container.childNodes).\n\t\t\tfilter(function (node) {\n\t\t\t\tif (node.nodeType === TEXT_NODE) {\n\t\t\t\t\treturn true;\n\t\t\t\t} else if (ignoreClass && node.classList.contains(ignoreClass)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t}\n\n\twalkToNode(steps, _doc, ignoreClass) {\n\t\tvar doc = _doc || document;\n\t\tvar container = doc.documentElement;\n\t\tvar children;\n\t\tvar step;\n\t\tvar len = steps.length;\n\t\tvar i;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tstep = steps[i];\n\n\t\t\tif(step.type === \"element\") {\n\t\t\t\t//better to get a container using id as some times step.index may not be correct\n\t\t\t\t//For ex.https://github.com/futurepress/epub.js/issues/561\n\t\t\t\tif(step.id) {\n\t\t\t\t\tcontainer = doc.getElementById(step.id);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tchildren = container.children || findChildren(container);\n\t\t\t\t\tcontainer = children[step.index];\n\t\t\t\t}\n\t\t\t} else if(step.type === \"text\") {\n\t\t\t\tcontainer = this.textNodes(container, ignoreClass)[step.index];\n\t\t\t}\n\t\t\tif(!container) {\n\t\t\t\t//Break the for loop as due to incorrect index we can get error if\n\t\t\t\t//container is undefined so that other functionailties works fine\n\t\t\t\t//like navigation\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t}\n\n\t\treturn container;\n\t}\n\n\tfindNode(steps, _doc, ignoreClass) {\n\t\tvar doc = _doc || document;\n\t\tvar container;\n\t\tvar xpath;\n\n\t\tif(!ignoreClass && typeof doc.evaluate != \"undefined\") {\n\t\t\txpath = this.stepsToXpath(steps);\n\t\t\tcontainer = doc.evaluate(xpath, doc, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\n\t\t} else if(ignoreClass) {\n\t\t\tcontainer = this.walkToNode(steps, doc, ignoreClass);\n\t\t} else {\n\t\t\tcontainer = this.walkToNode(steps, doc);\n\t\t}\n\n\t\treturn container;\n\t}\n\n\tfixMiss(steps, offset, _doc, ignoreClass) {\n\t\tvar container = this.findNode(steps.slice(0,-1), _doc, ignoreClass);\n\t\tvar children = container.childNodes;\n\t\tvar map = this.normalizedMap(children, TEXT_NODE, ignoreClass);\n\t\tvar child;\n\t\tvar len;\n\t\tvar lastStepIndex = steps[steps.length-1].index;\n\n\t\tfor (let childIndex in map) {\n\t\t\tif (!map.hasOwnProperty(childIndex)) return;\n\n\t\t\tif(map[childIndex] === lastStepIndex) {\n\t\t\t\tchild = children[childIndex];\n\t\t\t\tlen = child.textContent.length;\n\t\t\t\tif(offset > len) {\n\t\t\t\t\toffset = offset - len;\n\t\t\t\t} else {\n\t\t\t\t\tif (child.nodeType === ELEMENT_NODE) {\n\t\t\t\t\t\tcontainer = child.childNodes[0];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontainer = child;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tcontainer: container,\n\t\t\toffset: offset\n\t\t};\n\n\t}\n\n\t/**\n\t * Creates a DOM range representing a CFI\n\t * @param {document} _doc document referenced in the base\n\t * @param {string} [ignoreClass]\n\t * @return {Range}\n\t */\n\ttoRange(_doc, ignoreClass) {\n\t\tvar doc = _doc || document;\n\t\tvar range;\n\t\tvar start, end, startContainer, endContainer;\n\t\tvar cfi = this;\n\t\tvar startSteps, endSteps;\n\t\tvar needsIgnoring = ignoreClass ? (doc.querySelector(\".\" + ignoreClass) != null) : false;\n\t\tvar missed;\n\n\t\tif (typeof(doc.createRange) !== \"undefined\") {\n\t\t\trange = doc.createRange();\n\t\t} else {\n\t\t\trange = new RangeObject();\n\t\t}\n\n\t\tif (cfi.range) {\n\t\t\tstart = cfi.start;\n\t\t\tstartSteps = cfi.path.steps.concat(start.steps);\n\t\t\tstartContainer = this.findNode(startSteps, doc, needsIgnoring ? ignoreClass : null);\n\t\t\tend = cfi.end;\n\t\t\tendSteps = cfi.path.steps.concat(end.steps);\n\t\t\tendContainer = this.findNode(endSteps, doc, needsIgnoring ? ignoreClass : null);\n\t\t} else {\n\t\t\tstart = cfi.path;\n\t\t\tstartSteps = cfi.path.steps;\n\t\t\tstartContainer = this.findNode(cfi.path.steps, doc, needsIgnoring ? ignoreClass : null);\n\t\t}\n\n\t\tif(startContainer) {\n\t\t\ttry {\n\n\t\t\t\tif(start.terminal.offset != null) {\n\t\t\t\t\trange.setStart(startContainer, start.terminal.offset);\n\t\t\t\t} else {\n\t\t\t\t\trange.setStart(startContainer, 0);\n\t\t\t\t}\n\n\t\t\t} catch (e) {\n\t\t\t\tmissed = this.fixMiss(startSteps, start.terminal.offset, doc, needsIgnoring ? ignoreClass : null);\n\t\t\t\trange.setStart(missed.container, missed.offset);\n\t\t\t}\n\t\t} else {\n\t\t\tconsole.log(\"No startContainer found for\", this.toString());\n\t\t\t// No start found\n\t\t\treturn null;\n\t\t}\n\n\t\tif (endContainer) {\n\t\t\ttry {\n\n\t\t\t\tif(end.terminal.offset != null) {\n\t\t\t\t\trange.setEnd(endContainer, end.terminal.offset);\n\t\t\t\t} else {\n\t\t\t\t\trange.setEnd(endContainer, 0);\n\t\t\t\t}\n\n\t\t\t} catch (e) {\n\t\t\t\tmissed = this.fixMiss(endSteps, cfi.end.terminal.offset, doc, needsIgnoring ? ignoreClass : null);\n\t\t\t\trange.setEnd(missed.container, missed.offset);\n\t\t\t}\n\t\t}\n\n\n\t\t// doc.defaultView.getSelection().addRange(range);\n\t\treturn range;\n\t}\n\n\t/**\n\t * Check if a string is wrapped with \"epubcfi()\"\n\t * @param {string} str\n\t * @returns {boolean}\n\t */\n\tisCfiString(str) {\n\t\tif(typeof str === \"string\" &&\n\t\t\tstr.indexOf(\"epubcfi(\") === 0 &&\n\t\t\tstr[str.length-1] === \")\") {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tgenerateChapterComponent(_spineNodeIndex, _pos, id) {\n\t\tvar pos = parseInt(_pos),\n\t\t\t\tspineNodeIndex = (_spineNodeIndex + 1) * 2,\n\t\t\t\tcfi = \"/\"+spineNodeIndex+\"/\";\n\n\t\tcfi += (pos + 1) * 2;\n\n\t\tif(id) {\n\t\t\tcfi += \"[\" + id + \"]\";\n\t\t}\n\n\t\treturn cfi;\n\t}\n\n\t/**\n\t * Collapse a CFI Range to a single CFI Position\n\t * @param {boolean} [toStart=false]\n\t */\n\tcollapse(toStart) {\n\t\tif (!this.range) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.range = false;\n\n\t\tif (toStart) {\n\t\t\tthis.path.steps = this.path.steps.concat(this.start.steps);\n\t\t\tthis.path.terminal = this.start.terminal;\n\t\t} else {\n\t\t\tthis.path.steps = this.path.steps.concat(this.end.steps);\n\t\t\tthis.path.terminal = this.end.terminal;\n\t\t}\n\n\t}\n}\n\nexport default EpubCFI;\n","\"use strict\";\n\nvar isObject = require(\"../object/is\");\n\nmodule.exports = function (value) {\n\tif (!isObject(value)) return false;\n\ttry {\n\t\tif (!value.constructor) return false;\n\t\treturn value.constructor.prototype === value;\n\t} catch (error) {\n\t\treturn false;\n\t}\n};\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","\"use strict\";\n\n// ES3 safe\nvar _undefined = void 0;\n\nmodule.exports = function (value) { return value !== _undefined && value !== null; };\n","import {defer, requestAnimationFrame} from \"./core\";\n\n/**\n * Queue for handling tasks one at a time\n * @class\n * @param {scope} context what this will resolve to in the tasks\n */\nclass Queue {\n\tconstructor(context){\n\t\tthis._q = [];\n\t\tthis.context = context;\n\t\tthis.tick = requestAnimationFrame;\n\t\tthis.running = false;\n\t\tthis.paused = false;\n\t}\n\n\t/**\n\t * Add an item to the queue\n\t * @return {Promise}\n\t */\n\tenqueue() {\n\t\tvar deferred, promise;\n\t\tvar queued;\n\t\tvar task = [].shift.call(arguments);\n\t\tvar args = arguments;\n\n\t\t// Handle single args without context\n\t\t// if(args && !Array.isArray(args)) {\n\t\t//   args = [args];\n\t\t// }\n\t\tif(!task) {\n\t\t\tthrow new Error(\"No Task Provided\");\n\t\t}\n\n\t\tif(typeof task === \"function\"){\n\n\t\t\tdeferred = new defer();\n\t\t\tpromise = deferred.promise;\n\n\t\t\tqueued = {\n\t\t\t\t\"task\" : task,\n\t\t\t\t\"args\"     : args,\n\t\t\t\t//\"context\"  : context,\n\t\t\t\t\"deferred\" : deferred,\n\t\t\t\t\"promise\" : promise\n\t\t\t};\n\n\t\t} else {\n\t\t\t// Task is a promise\n\t\t\tqueued = {\n\t\t\t\t\"promise\" : task\n\t\t\t};\n\n\t\t}\n\n\t\tthis._q.push(queued);\n\n\t\t// Wait to start queue flush\n\t\tif (this.paused == false && !this.running) {\n\t\t\t// setTimeout(this.flush.bind(this), 0);\n\t\t\t// this.tick.call(window, this.run.bind(this));\n\t\t\tthis.run();\n\t\t}\n\n\t\treturn queued.promise;\n\t}\n\n\t/**\n\t * Run one item\n\t * @return {Promise}\n\t */\n\tdequeue(){\n\t\tvar inwait, task, result;\n\n\t\tif(this._q.length && !this.paused) {\n\t\t\tinwait = this._q.shift();\n\t\t\ttask = inwait.task;\n\t\t\tif(task){\n\t\t\t\t// console.log(task)\n\n\t\t\t\tresult = task.apply(this.context, inwait.args);\n\n\t\t\t\tif(result && typeof result[\"then\"] === \"function\") {\n\t\t\t\t\t// Task is a function that returns a promise\n\t\t\t\t\treturn result.then(function(){\n\t\t\t\t\t\tinwait.deferred.resolve.apply(this.context, arguments);\n\t\t\t\t\t}.bind(this), function() {\n\t\t\t\t\t\tinwait.deferred.reject.apply(this.context, arguments);\n\t\t\t\t\t}.bind(this));\n\t\t\t\t} else {\n\t\t\t\t\t// Task resolves immediately\n\t\t\t\t\tinwait.deferred.resolve.apply(this.context, result);\n\t\t\t\t\treturn inwait.promise;\n\t\t\t\t}\n\n\n\n\t\t\t} else if(inwait.promise) {\n\t\t\t\t// Task is a promise\n\t\t\t\treturn inwait.promise;\n\t\t\t}\n\n\t\t} else {\n\t\t\tinwait = new defer();\n\t\t\tinwait.deferred.resolve();\n\t\t\treturn inwait.promise;\n\t\t}\n\n\t}\n\n\t// Run All Immediately\n\tdump(){\n\t\twhile(this._q.length) {\n\t\t\tthis.dequeue();\n\t\t}\n\t}\n\n\t/**\n\t * Run all tasks sequentially, at convince\n\t * @return {Promise}\n\t */\n\trun(){\n\n\t\tif(!this.running){\n\t\t\tthis.running = true;\n\t\t\tthis.defered = new defer();\n\t\t}\n\n\t\tthis.tick.call(window, () => {\n\n\t\t\tif(this._q.length) {\n\n\t\t\t\tthis.dequeue()\n\t\t\t\t\t.then(function(){\n\t\t\t\t\t\tthis.run();\n\t\t\t\t\t}.bind(this));\n\n\t\t\t} else {\n\t\t\t\tthis.defered.resolve();\n\t\t\t\tthis.running = undefined;\n\t\t\t}\n\n\t\t});\n\n\t\t// Unpause\n\t\tif(this.paused == true) {\n\t\t\tthis.paused = false;\n\t\t}\n\n\t\treturn this.defered.promise;\n\t}\n\n\t/**\n\t * Flush all, as quickly as possible\n\t * @return {Promise}\n\t */\n\tflush(){\n\n\t\tif(this.running){\n\t\t\treturn this.running;\n\t\t}\n\n\t\tif(this._q.length) {\n\t\t\tthis.running = this.dequeue()\n\t\t\t\t.then(function(){\n\t\t\t\t\tthis.running = undefined;\n\t\t\t\t\treturn this.flush();\n\t\t\t\t}.bind(this));\n\n\t\t\treturn this.running;\n\t\t}\n\n\t}\n\n\t/**\n\t * Clear all items in wait\n\t */\n\tclear(){\n\t\tthis._q = [];\n\t}\n\n\t/**\n\t * Get the number of tasks in the queue\n\t * @return {number} tasks\n\t */\n\tlength(){\n\t\treturn this._q.length;\n\t}\n\n\t/**\n\t * Pause a running queue\n\t */\n\tpause(){\n\t\tthis.paused = true;\n\t}\n\n\t/**\n\t * End the queue\n\t */\n\tstop(){\n\t\tthis._q = [];\n\t\tthis.running = false;\n\t\tthis.paused = true;\n\t}\n}\n\n\n/**\n * Create a new task from a callback\n * @class\n * @private\n * @param {function} task\n * @param {array} args\n * @param {scope} context\n * @return {function} task\n */\nclass Task {\n\tconstructor(task, args, context){\n\n\t\treturn function(){\n\t\t\tvar toApply = arguments || [];\n\n\t\t\treturn new Promise( (resolve, reject) => {\n\t\t\t\tvar callback = function(value, err){\n\t\t\t\t\tif (!value && err) {\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(value);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t// Add the callback to the arguments list\n\t\t\t\ttoApply.push(callback);\n\n\t\t\t\t// Apply all arguments to the functions\n\t\t\t\ttask.apply(context || this, toApply);\n\n\t\t\t});\n\n\t\t};\n\n\t}\n}\n\n\nexport default Queue;\nexport { Task };\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nmodule.exports = function (value) {\n\tif (!isValue(value)) throw new TypeError(\"Cannot use null or undefined\");\n\treturn value;\n};\n","import Url from \"./utils/url\";\n\n/**\n * Themes to apply to displayed content\n * @class\n * @param {Rendition} rendition\n */\nclass Themes {\n\tconstructor(rendition) {\n\t\tthis.rendition = rendition;\n\t\tthis._themes = {\n\t\t\t\"default\" : {\n\t\t\t\t\"rules\" : {},\n\t\t\t\t\"url\" : \"\",\n\t\t\t\t\"serialized\" : \"\"\n\t\t\t}\n\t\t};\n\t\tthis._overrides = {};\n\t\tthis._current = \"default\";\n\t\tthis._injected = [];\n\t\tthis.rendition.hooks.content.register(this.inject.bind(this));\n\t\tthis.rendition.hooks.content.register(this.overrides.bind(this));\n\n\t}\n\n\t/**\n\t * Add themes to be used by a rendition\n\t * @param {object | string}\n\t * @example themes.register(\"light\", \"http://example.com/light.css\")\n\t * @example themes.register(\"light\", { \"body\": { \"color\": \"purple\"}})\n\t * @example themes.register({ \"light\" : {...}, \"dark\" : {...}})\n\t */\n\tregister () {\n\t\tif (arguments.length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tif (arguments.length === 1 && typeof(arguments[0]) === \"object\") {\n\t\t\treturn this.registerThemes(arguments[0]);\n\t\t}\n\t\tif (arguments.length === 1 && typeof(arguments[0]) === \"string\") {\n\t\t\treturn this.default(arguments[0]);\n\t\t}\n\t\tif (arguments.length === 2 && typeof(arguments[1]) === \"string\") {\n\t\t\treturn this.registerUrl(arguments[0], arguments[1]);\n\t\t}\n\t\tif (arguments.length === 2 && typeof(arguments[1]) === \"object\") {\n\t\t\treturn this.registerRules(arguments[0], arguments[1]);\n\t\t}\n\t}\n\n\t/**\n\t * Add a default theme to be used by a rendition\n\t * @param {object | string} theme\n\t * @example themes.register(\"http://example.com/default.css\")\n\t * @example themes.register({ \"body\": { \"color\": \"purple\"}})\n\t */\n\tdefault (theme) {\n\t\tif (!theme) {\n\t\t\treturn;\n\t\t}\n\t\tif (typeof(theme) === \"string\") {\n\t\t\treturn this.registerUrl(\"default\", theme);\n\t\t}\n\t\tif (typeof(theme) === \"object\") {\n\t\t\treturn this.registerRules(\"default\", theme);\n\t\t}\n\t}\n\n\t/**\n\t * Register themes object\n\t * @param {object} themes\n\t */\n\tregisterThemes (themes) {\n\t\tfor (var theme in themes) {\n\t\t\tif (themes.hasOwnProperty(theme)) {\n\t\t\t\tif (typeof(themes[theme]) === \"string\") {\n\t\t\t\t\tthis.registerUrl(theme, themes[theme]);\n\t\t\t\t} else {\n\t\t\t\t\tthis.registerRules(theme, themes[theme]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Register a url\n\t * @param {string} name\n\t * @param {string} input\n\t */\n\tregisterUrl (name, input) {\n\t\tvar url = new Url(input);\n\t\tthis._themes[name] = { \"url\": url.toString() };\n\t\tif (this._injected[name]) {\n\t\t\tthis.update(name);\n\t\t}\n\t}\n\n\t/**\n\t * Register rule\n\t * @param {string} name\n\t * @param {object} rules\n\t */\n\tregisterRules (name, rules) {\n\t\tthis._themes[name] = { \"rules\": rules };\n\t\t// TODO: serialize css rules\n\t\tif (this._injected[name]) {\n\t\t\tthis.update(name);\n\t\t}\n\t}\n\n\t/**\n\t * Select a theme\n\t * @param {string} name\n\t */\n\tselect (name) {\n\t\tvar prev = this._current;\n\t\tvar contents;\n\n\t\tthis._current = name;\n\t\tthis.update(name);\n\n\t\tcontents = this.rendition.getContents();\n\t\tcontents.forEach( (content) => {\n\t\t\tcontent.removeClass(prev);\n\t\t\tcontent.addClass(name);\n\t\t});\n\t}\n\n\t/**\n\t * Update a theme\n\t * @param {string} name\n\t */\n\tupdate (name) {\n\t\tvar contents = this.rendition.getContents();\n\t\tcontents.forEach( (content) => {\n\t\t\tthis.add(name, content);\n\t\t});\n\t}\n\n\t/**\n\t * Inject all themes into contents\n\t * @param {Contents} contents\n\t */\n\tinject (contents) {\n\t\tvar links = [];\n\t\tvar themes = this._themes;\n\t\tvar theme;\n\n\t\tfor (var name in themes) {\n\t\t\tif (themes.hasOwnProperty(name) && (name === this._current || name === \"default\")) {\n\t\t\t\ttheme = themes[name];\n\t\t\t\tif((theme.rules && Object.keys(theme.rules).length > 0) || (theme.url && links.indexOf(theme.url) === -1)) {\n\t\t\t\t\tthis.add(name, contents);\n\t\t\t\t}\n\t\t\t\tthis._injected.push(name);\n\t\t\t}\n\t\t}\n\n\t\tif(this._current != \"default\") {\n\t\t\tcontents.addClass(this._current);\n\t\t}\n\t}\n\n\t/**\n\t * Add Theme to contents\n\t * @param {string} name\n\t * @param {Contents} contents\n\t */\n\tadd (name, contents) {\n\t\tvar theme = this._themes[name];\n\n\t\tif (!theme || !contents) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (theme.url) {\n\t\t\tcontents.addStylesheet(theme.url);\n\t\t} else if (theme.serialized) {\n\t\t\t// TODO: handle serialized\n\t\t} else if (theme.rules) {\n\t\t\tcontents.addStylesheetRules(theme.rules);\n\t\t\ttheme.injected = true;\n\t\t}\n\t}\n\n\t/**\n\t * Add override\n\t * @param {string} name\n\t * @param {string} value\n\t * @param {boolean} priority\n\t */\n\toverride (name, value, priority) {\n\t\tvar contents = this.rendition.getContents();\n\n\t\tthis._overrides[name] = {\n\t\t\tvalue: value,\n\t\t\tpriority: priority === true\n\t\t};\n\n\t\tcontents.forEach( (content) => {\n\t\t\tcontent.css(name, this._overrides[name].value, this._overrides[name].priority);\n\t\t});\n\t}\n\n\t/**\n\t * Add all overrides\n\t * @param {Content} content\n\t */\n\toverrides (contents) {\n\t\tvar overrides = this._overrides;\n\n\t\tfor (var rule in overrides) {\n\t\t\tif (overrides.hasOwnProperty(rule)) {\n\t\t\t\tcontents.css(rule, overrides[rule].value, overrides[rule].priority);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Adjust the font size of a rendition\n\t * @param {number} size\n\t */\n\tfontSize (size) {\n\t\tthis.override(\"font-size\", size);\n\t}\n\n\t/**\n\t * Adjust the font-family of a rendition\n\t * @param {string} f\n\t */\n\tfont (f) {\n\t\tthis.override(\"font-family\", f, true);\n\t}\n\n\tdestroy() {\n\t\tthis.rendition = undefined;\n\t\tthis._themes = undefined;\n\t\tthis._overrides = undefined;\n\t\tthis._current = undefined;\n\t\tthis._injected = undefined;\n\t}\n\n}\n\nexport default Themes;\n","import EventEmitter from \"event-emitter\";\nimport EpubCFI from \"./epubcfi\";\n\n/**\n\t* Handles managing adding & removing Annotations\n\t* @param {Rendition} rendition\n\t* @class\n\t*/\nclass Annotations {\n\n\tconstructor (rendition) {\n\t\tthis.rendition = rendition;\n\t\tthis.highlights = [];\n\t\tthis.underlines = [];\n\t\tthis.marks = [];\n\t\tthis._annotations = {};\n\t\tthis._annotationsBySectionIndex = {};\n\n\t\tthis.rendition.hooks.render.register(this.inject.bind(this));\n\t\tthis.rendition.hooks.unloaded.register(this.clear.bind(this));\n\t}\n\n\t/**\n\t * Add an annotation to store\n\t * @param {string} type Type of annotation to add: \"highlight\", \"underline\", \"mark\"\n\t * @param {EpubCFI} cfiRange EpubCFI range to attach annotation to\n\t * @param {object} data Data to assign to annotation\n\t * @param {function} [cb] Callback after annotation is added\n\t * @param {string} className CSS class to assign to annotation\n\t * @param {object} styles CSS styles to assign to annotation\n\t * @returns {Annotation} annotation\n\t */\n\tadd (type, cfiRange, data, cb, className, styles) {\n\t\tlet hash = encodeURI(cfiRange);\n\t\tlet cfi = new EpubCFI(cfiRange);\n\t\tlet sectionIndex = cfi.spinePos;\n\t\tlet annotation = new Annotation({\n\t\t\ttype,\n\t\t\tcfiRange,\n\t\t\tdata,\n\t\t\tsectionIndex,\n\t\t\tcb,\n\t\t\tclassName,\n\t\t\tstyles\n\t\t});\n\n\t\tthis._annotations[hash] = annotation;\n\n\t\tif (sectionIndex in this._annotationsBySectionIndex) {\n\t\t\tthis._annotationsBySectionIndex[sectionIndex].push(hash);\n\t\t} else {\n\t\t\tthis._annotationsBySectionIndex[sectionIndex] = [hash];\n\t\t}\n\n\t\tlet views = this.rendition.views();\n\n\t\tviews.forEach( (view) => {\n\t\t\tif (annotation.sectionIndex === view.index) {\n\t\t\t\tannotation.attach(view);\n\t\t\t}\n\t\t});\n\n\t\treturn annotation;\n\t}\n\n\t/**\n\t * Remove an annotation from store\n\t * @param {EpubCFI} cfiRange EpubCFI range the annotation is attached to\n\t * @param {string} type Type of annotation to add: \"highlight\", \"underline\", \"mark\"\n\t */\n\tremove (cfiRange, type) {\n\t\tlet hash = encodeURI(cfiRange);\n\n\t\tif (hash in this._annotations) {\n\t\t\tlet annotation = this._annotations[hash];\n\n\t\t\tif (type && annotation.type !== type) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet views = this.rendition.views();\n\t\t\tviews.forEach( (view) => {\n\t\t\t\tthis._removeFromAnnotationBySectionIndex(annotation.sectionIndex, hash);\n\t\t\t\tif (annotation.sectionIndex === view.index) {\n\t\t\t\t\tannotation.detach(view);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tdelete this._annotations[hash];\n\t\t}\n\t}\n\n\t/**\n\t * Remove an annotations by Section Index\n\t * @private\n\t */\n\t_removeFromAnnotationBySectionIndex (sectionIndex, hash) {\n\t\tthis._annotationsBySectionIndex[sectionIndex] = this._annotationsAt(sectionIndex).filter(h => h !== hash);\n\t}\n\n\t/**\n\t * Get annotations by Section Index\n\t * @private\n\t */\n\t_annotationsAt (index) {\n\t\treturn this._annotationsBySectionIndex[index];\n\t}\n\n\n\t/**\n\t * Add a highlight to the store\n\t * @param {EpubCFI} cfiRange EpubCFI range to attach annotation to\n\t * @param {object} data Data to assign to annotation\n\t * @param {function} cb Callback after annotation is added\n\t * @param {string} className CSS class to assign to annotation\n\t * @param {object} styles CSS styles to assign to annotation\n\t */\n\thighlight (cfiRange, data, cb, className, styles) {\n\t\tthis.add(\"highlight\", cfiRange, data, cb, className, styles);\n\t}\n\n\t/**\n\t * Add a underline to the store\n\t * @param {EpubCFI} cfiRange EpubCFI range to attach annotation to\n\t * @param {object} data Data to assign to annotation\n\t * @param {function} cb Callback after annotation is added\n\t * @param {string} className CSS class to assign to annotation\n\t * @param {object} styles CSS styles to assign to annotation\n\t */\n\tunderline (cfiRange, data, cb, className, styles) {\n\t\tthis.add(\"underline\", cfiRange, data, cb, className, styles);\n\t}\n\n\t/**\n\t * Add a mark to the store\n\t * @param {EpubCFI} cfiRange EpubCFI range to attach annotation to\n\t * @param {object} data Data to assign to annotation\n\t * @param {function} cb Callback after annotation is added\n\t */\n\tmark (cfiRange, data, cb) {\n\t\tthis.add(\"mark\", cfiRange, data, cb);\n\t}\n\n\t/**\n\t * iterate over annotations in the store\n\t */\n\teach () {\n\t\treturn this._annotations.forEach.apply(this._annotations, arguments);\n\t}\n\n\t/**\n\t * Hook for injecting annotation into a view\n\t * @param {View} view\n\t * @private\n\t */\n\tinject (view) {\n\t\tlet sectionIndex = view.index;\n\t\tif (sectionIndex in this._annotationsBySectionIndex) {\n\t\t\tlet annotations = this._annotationsBySectionIndex[sectionIndex];\n\t\t\tannotations.forEach((hash) => {\n\t\t\t\tlet annotation = this._annotations[hash];\n\t\t\t\tannotation.attach(view);\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Hook for removing annotation from a view\n\t * @param {View} view\n\t * @private\n\t */\n\tclear (view) {\n\t\tlet sectionIndex = view.index;\n\t\tif (sectionIndex in this._annotationsBySectionIndex) {\n\t\t\tlet annotations = this._annotationsBySectionIndex[sectionIndex];\n\t\t\tannotations.forEach((hash) => {\n\t\t\t\tlet annotation = this._annotations[hash];\n\t\t\t\tannotation.detach(view);\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * [Not Implemented] Show annotations\n\t * @TODO: needs implementation in View\n\t */\n\tshow () {\n\n\t}\n\n\t/**\n\t * [Not Implemented] Hide annotations\n\t * @TODO: needs implementation in View\n\t */\n\thide () {\n\n\t}\n\n}\n\n/**\n * Annotation object\n * @class\n * @param {object} options\n * @param {string} options.type Type of annotation to add: \"highlight\", \"underline\", \"mark\"\n * @param {EpubCFI} options.cfiRange EpubCFI range to attach annotation to\n * @param {object} options.data Data to assign to annotation\n * @param {int} options.sectionIndex Index in the Spine of the Section annotation belongs to\n * @param {function} [options.cb] Callback after annotation is added\n * @param {string} className CSS class to assign to annotation\n * @param {object} styles CSS styles to assign to annotation\n * @returns {Annotation} annotation\n */\nclass Annotation {\n\n\tconstructor ({\n\t\ttype,\n\t\tcfiRange,\n\t\tdata,\n\t\tsectionIndex,\n\t\tcb, \n\t\tclassName, \n\t\tstyles\n\t}) {\n\t\tthis.type = type;\n\t\tthis.cfiRange = cfiRange;\n\t\tthis.data = data;\n\t\tthis.sectionIndex = sectionIndex;\n\t\tthis.mark = undefined;\n\t\tthis.cb = cb;\n\t\tthis.className = className;\n\t\tthis.styles = styles;\n\t}\n\n\t/**\n\t * Update stored data\n\t * @param {object} data\n\t */\n\tupdate (data) {\n\t\tthis.data = data;\n\t}\n\n\t/**\n\t * Add to a view\n\t * @param {View} view\n\t */\n\tattach (view) {\n\t\tlet {cfiRange, data, type, mark, cb, className, styles} = this;\n\t\tlet result;\n\n\t\tif (type === \"highlight\") {\n\t\t\tresult = view.highlight(cfiRange, data, cb, className, styles);\n\t\t} else if (type === \"underline\") {\n\t\t\tresult = view.underline(cfiRange, data, cb, className, styles);\n\t\t} else if (type === \"mark\") {\n\t\t\tresult = view.mark(cfiRange, data, cb);\n\t\t}\n\n\t\tthis.mark = result;\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * Remove from a view\n\t * @param {View} view\n\t */\n\tdetach (view) {\n\t\tlet {cfiRange, type} = this;\n\t\tlet result;\n\n\t\tif (view) {\n\t\t\tif (type === \"highlight\") {\n\t\t\t\tresult = view.unhighlight(cfiRange);\n\t\t\t} else if (type === \"underline\") {\n\t\t\t\tresult = view.ununderline(cfiRange);\n\t\t\t} else if (type === \"mark\") {\n\t\t\t\tresult = view.unmark(cfiRange);\n\t\t\t}\n\t\t}\n\n\t\tthis.mark = undefined;\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * [Not Implemented] Get text of an annotation\n\t * @TODO: needs implementation in contents\n\t */\n\ttext () {\n\n\t}\n\n}\n\nEventEmitter(Annotation.prototype);\n\n\nexport default Annotations\n","import EventEmitter from \"event-emitter\";\nimport { extend, defer, isFloat } from \"./utils/core\";\nimport Hook from \"./utils/hook\";\nimport EpubCFI from \"./epubcfi\";\nimport Queue from \"./utils/queue\";\nimport Layout from \"./layout\";\n// import Mapping from \"./mapping\";\nimport Themes from \"./themes\";\nimport Contents from \"./contents\";\nimport Annotations from \"./annotations\";\nimport { EVENTS } from \"./utils/constants\";\n\n// Default Views\nimport IframeView from \"./managers/views/iframe\";\n\n// Default View Managers\nimport DefaultViewManager from \"./managers/default/index\";\nimport ContinuousViewManager from \"./managers/continuous/index\";\n\n/**\n * Displays an Epub as a series of Views for each Section.\n * Requires Manager and View class to handle specifics of rendering\n * the section contetn.\n * @class\n * @param {Book} book\n * @param {object} [options]\n * @param {number} [options.width]\n * @param {number} [options.height]\n * @param {string} [options.ignoreClass] class for the cfi parser to ignore\n * @param {string | function | object} [options.manager='default']\n * @param {string | function} [options.view='iframe']\n * @param {string} [options.layout] layout to force\n * @param {string} [options.spread] force spread value\n * @param {number} [options.minSpreadWidth] overridden by spread: none (never) / both (always)\n * @param {string} [options.stylesheet] url of stylesheet to be injected\n * @param {boolean} [options.resizeOnOrientationChange] false to disable orientation events\n * @param {string} [options.script] url of script to be injected\n */\nclass Rendition {\n\tconstructor(book, options) {\n\n\t\tthis.settings = extend(this.settings || {}, {\n\t\t\twidth: null,\n\t\t\theight: null,\n\t\t\tignoreClass: \"\",\n\t\t\tmanager: \"default\",\n\t\t\tview: \"iframe\",\n\t\t\tflow: null,\n\t\t\tlayout: null,\n\t\t\tspread: null,\n\t\t\tminSpreadWidth: 800,\n\t\t\tstylesheet: null,\n\t\t\tresizeOnOrientationChange: true,\n\t\t\tscript: null\n\t\t});\n\n\t\textend(this.settings, options);\n\n\t\tif (typeof(this.settings.manager) === \"object\") {\n\t\t\tthis.manager = this.settings.manager;\n\t\t}\n\n\t\tthis.book = book;\n\n\t\t/**\n\t\t * Adds Hook methods to the Rendition prototype\n\t\t * @member {object} hooks\n\t\t * @property {Hook} hooks.content\n\t\t * @memberof Rendition\n\t\t */\n\t\tthis.hooks = {};\n\t\tthis.hooks.display = new Hook(this);\n\t\tthis.hooks.serialize = new Hook(this);\n\t\tthis.hooks.content = new Hook(this);\n\t\tthis.hooks.unloaded = new Hook(this);\n\t\tthis.hooks.layout = new Hook(this);\n\t\tthis.hooks.render = new Hook(this);\n\t\tthis.hooks.show = new Hook(this);\n\n\t\tthis.hooks.content.register(this.handleLinks.bind(this));\n\t\tthis.hooks.content.register(this.passEvents.bind(this));\n\t\tthis.hooks.content.register(this.adjustImages.bind(this));\n\n\t\tthis.book.spine.hooks.content.register(this.injectIdentifier.bind(this));\n\n\t\tif (this.settings.stylesheet) {\n\t\t\tthis.book.spine.hooks.content.register(this.injectStylesheet.bind(this));\n\t\t}\n\n\t\tif (this.settings.script) {\n\t\t\tthis.book.spine.hooks.content.register(this.injectScript.bind(this));\n\t\t}\n\n\t\t/**\n\t\t * @member {Themes} themes\n\t\t * @memberof Rendition\n\t\t */\n\t\tthis.themes = new Themes(this);\n\n\t\t/**\n\t\t * @member {Annotations} annotations\n\t\t * @memberof Rendition\n\t\t */\n\t\tthis.annotations = new Annotations(this);\n\n\t\tthis.epubcfi = new EpubCFI();\n\n\t\tthis.q = new Queue(this);\n\n\t\t/**\n\t\t * A Rendered Location Range\n\t\t * @typedef location\n\t\t * @type {Object}\n\t\t * @property {object} start\n\t\t * @property {string} start.index\n\t\t * @property {string} start.href\n\t\t * @property {object} start.displayed\n\t\t * @property {EpubCFI} start.cfi\n\t\t * @property {number} start.location\n\t\t * @property {number} start.percentage\n\t\t * @property {number} start.displayed.page\n\t\t * @property {number} start.displayed.total\n\t\t * @property {object} end\n\t\t * @property {string} end.index\n\t\t * @property {string} end.href\n\t\t * @property {object} end.displayed\n\t\t * @property {EpubCFI} end.cfi\n\t\t * @property {number} end.location\n\t\t * @property {number} end.percentage\n\t\t * @property {number} end.displayed.page\n\t\t * @property {number} end.displayed.total\n\t\t * @property {boolean} atStart\n\t\t * @property {boolean} atEnd\n\t\t * @memberof Rendition\n\t\t */\n\t\tthis.location = undefined;\n\n\t\t// Hold queue until book is opened\n\t\tthis.q.enqueue(this.book.opened);\n\n\t\tthis.starting = new defer();\n\t\t/**\n\t\t * @member {promise} started returns after the rendition has started\n\t\t * @memberof Rendition\n\t\t */\n\t\tthis.started = this.starting.promise;\n\t\t// Block the queue until rendering is started\n\t\tthis.q.enqueue(this.start);\n\t}\n\n\t/**\n\t * Set the manager function\n\t * @param {function} manager\n\t */\n\tsetManager(manager) {\n\t\tthis.manager = manager;\n\t}\n\n\t/**\n\t * Require the manager from passed string, or as a class function\n\t * @param  {string|object} manager [description]\n\t * @return {method}\n\t */\n\trequireManager(manager) {\n\t\tvar viewManager;\n\n\t\t// If manager is a string, try to load from imported managers\n\t\tif (typeof manager === \"string\" && manager === \"default\") {\n\t\t\tviewManager = DefaultViewManager;\n\t\t} else if (typeof manager === \"string\" && manager === \"continuous\") {\n\t\t\tviewManager = ContinuousViewManager;\n\t\t} else {\n\t\t\t// otherwise, assume we were passed a class function\n\t\t\tviewManager = manager;\n\t\t}\n\n\t\treturn viewManager;\n\t}\n\n\t/**\n\t * Require the view from passed string, or as a class function\n\t * @param  {string|object} view\n\t * @return {view}\n\t */\n\trequireView(view) {\n\t\tvar View;\n\n\t\t// If view is a string, try to load from imported views,\n\t\tif (typeof view == \"string\" && view === \"iframe\") {\n\t\t\tView = IframeView;\n\t\t} else {\n\t\t\t// otherwise, assume we were passed a class function\n\t\t\tView = view;\n\t\t}\n\n\t\treturn View;\n\t}\n\n\t/**\n\t * Start the rendering\n\t * @return {Promise} rendering has started\n\t */\n\tstart(){\n\n\t\tif(!this.manager) {\n\t\t\tthis.ViewManager = this.requireManager(this.settings.manager);\n\t\t\tthis.View = this.requireView(this.settings.view);\n\n\t\t\tthis.manager = new this.ViewManager({\n\t\t\t\tview: this.View,\n\t\t\t\tqueue: this.q,\n\t\t\t\trequest: this.book.load.bind(this.book),\n\t\t\t\tsettings: this.settings\n\t\t\t});\n\t\t}\n\n\t\tthis.direction(this.book.package.metadata.direction);\n\n\t\t// Parse metadata to get layout props\n\t\tthis.settings.globalLayoutProperties = this.determineLayoutProperties(this.book.package.metadata);\n\n\t\tthis.flow(this.settings.globalLayoutProperties.flow);\n\n\t\tthis.layout(this.settings.globalLayoutProperties);\n\n\t\t// Listen for displayed views\n\t\tthis.manager.on(EVENTS.MANAGERS.ADDED, this.afterDisplayed.bind(this));\n\t\tthis.manager.on(EVENTS.MANAGERS.REMOVED, this.afterRemoved.bind(this));\n\n\t\t// Listen for resizing\n\t\tthis.manager.on(EVENTS.MANAGERS.RESIZED, this.onResized.bind(this));\n\n\t\t// Listen for rotation\n\t\tthis.manager.on(EVENTS.MANAGERS.ORIENTATION_CHANGE, this.onOrientationChange.bind(this));\n\n\t\t// Listen for scroll changes\n\t\tthis.manager.on(EVENTS.MANAGERS.SCROLLED, this.reportLocation.bind(this));\n\n\t\t/**\n\t\t * Emit that rendering has started\n\t\t * @event started\n\t\t * @memberof Rendition\n\t\t */\n\t\tthis.emit(EVENTS.RENDITION.STARTED);\n\n\t\t// Start processing queue\n\t\tthis.starting.resolve();\n\t}\n\n\t/**\n\t * Call to attach the container to an element in the dom\n\t * Container must be attached before rendering can begin\n\t * @param  {element} element to attach to\n\t * @return {Promise}\n\t */\n\tattachTo(element){\n\n\t\treturn this.q.enqueue(function () {\n\n\t\t\t// Start rendering\n\t\t\tthis.manager.render(element, {\n\t\t\t\t\"width\"  : this.settings.width,\n\t\t\t\t\"height\" : this.settings.height\n\t\t\t});\n\n\t\t\t/**\n\t\t\t * Emit that rendering has attached to an element\n\t\t\t * @event attached\n\t\t\t * @memberof Rendition\n\t\t\t */\n\t\t\tthis.emit(EVENTS.RENDITION.ATTACHED);\n\n\t\t}.bind(this));\n\n\t}\n\n\t/**\n\t * Display a point in the book\n\t * The request will be added to the rendering Queue,\n\t * so it will wait until book is opened, rendering started\n\t * and all other rendering tasks have finished to be called.\n\t * @param  {string} target Url or EpubCFI\n\t * @return {Promise}\n\t */\n\tdisplay(target){\n\t\tif (this.displaying) {\n\t\t\tthis.displaying.resolve();\n\t\t}\n\t\treturn this.q.enqueue(this._display, target);\n\t}\n\n\t/**\n\t * Tells the manager what to display immediately\n\t * @private\n\t * @param  {string} target Url or EpubCFI\n\t * @return {Promise}\n\t */\n\t_display(target){\n\t\tif (!this.book) {\n\t\t\treturn;\n\t\t}\n\t\tvar isCfiString = this.epubcfi.isCfiString(target);\n\t\tvar displaying = new defer();\n\t\tvar displayed = displaying.promise;\n\t\tvar section;\n\t\tvar moveTo;\n\n\t\tthis.displaying = displaying;\n\n\t\t// Check if this is a book percentage\n\t\tif (this.book.locations.length() && isFloat(target)) {\n\t\t\ttarget = this.book.locations.cfiFromPercentage(parseFloat(target));\n\t\t}\n\n\t\tsection = this.book.spine.get(target);\n\n\t\tif(!section){\n\t\t\tdisplaying.reject(new Error(\"No Section Found\"));\n\t\t\treturn displayed;\n\t\t}\n\n\t\tthis.manager.display(section, target)\n\t\t\t.then(() => {\n\t\t\t\tdisplaying.resolve(section);\n\t\t\t\tthis.displaying = undefined;\n\n\t\t\t\t/**\n\t\t\t\t * Emit that a section has been displayed\n\t\t\t\t * @event displayed\n\t\t\t\t * @param {Section} section\n\t\t\t\t * @memberof Rendition\n\t\t\t\t */\n\t\t\t\tthis.emit(EVENTS.RENDITION.DISPLAYED, section);\n\t\t\t\tthis.reportLocation();\n\t\t\t}, (err) => {\n\t\t\t\t/**\n\t\t\t\t * Emit that has been an error displaying\n\t\t\t\t * @event displayError\n\t\t\t\t * @param {Section} section\n\t\t\t\t * @memberof Rendition\n\t\t\t\t */\n\t\t\t\tthis.emit(EVENTS.RENDITION.DISPLAY_ERROR, err);\n\t\t\t});\n\n\t\treturn displayed;\n\t}\n\n\t/*\n\trender(view, show) {\n\n\t\t// view.onLayout = this.layout.format.bind(this.layout);\n\t\tview.create();\n\n\t\t// Fit to size of the container, apply padding\n\t\tthis.manager.resizeView(view);\n\n\t\t// Render Chain\n\t\treturn view.section.render(this.book.request)\n\t\t\t.then(function(contents){\n\t\t\t\treturn view.load(contents);\n\t\t\t}.bind(this))\n\t\t\t.then(function(doc){\n\t\t\t\treturn this.hooks.content.trigger(view, this);\n\t\t\t}.bind(this))\n\t\t\t.then(function(){\n\t\t\t\tthis.layout.format(view.contents);\n\t\t\t\treturn this.hooks.layout.trigger(view, this);\n\t\t\t}.bind(this))\n\t\t\t.then(function(){\n\t\t\t\treturn view.display();\n\t\t\t}.bind(this))\n\t\t\t.then(function(){\n\t\t\t\treturn this.hooks.render.trigger(view, this);\n\t\t\t}.bind(this))\n\t\t\t.then(function(){\n\t\t\t\tif(show !== false) {\n\t\t\t\t\tthis.q.enqueue(function(view){\n\t\t\t\t\t\tview.show();\n\t\t\t\t\t}, view);\n\t\t\t\t}\n\t\t\t\t// this.map = new Map(view, this.layout);\n\t\t\t\tthis.hooks.show.trigger(view, this);\n\t\t\t\tthis.trigger(\"rendered\", view.section);\n\n\t\t\t}.bind(this))\n\t\t\t.catch(function(e){\n\t\t\t\tthis.trigger(\"loaderror\", e);\n\t\t\t}.bind(this));\n\n\t}\n\t*/\n\n\t/**\n\t * Report what section has been displayed\n\t * @private\n\t * @param  {*} view\n\t */\n\tafterDisplayed(view){\n\n\t\tview.on(EVENTS.VIEWS.MARK_CLICKED, (cfiRange, data) => this.triggerMarkEvent(cfiRange, data, view));\n\n\t\tthis.hooks.render.trigger(view, this)\n\t\t\t.then(() => {\n\t\t\t\tif (view.contents) {\n\t\t\t\t\tthis.hooks.content.trigger(view.contents, this).then(() => {\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * Emit that a section has been rendered\n\t\t\t\t\t\t * @event rendered\n\t\t\t\t\t\t * @param {Section} section\n\t\t\t\t\t\t * @param {View} view\n\t\t\t\t\t\t * @memberof Rendition\n\t\t\t\t\t\t */\n\t\t\t\t\t\tthis.emit(EVENTS.RENDITION.RENDERED, view.section, view);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.emit(EVENTS.RENDITION.RENDERED, view.section, view);\n\t\t\t\t}\n\t\t\t});\n\n\t}\n\n\t/**\n\t * Report what has been removed\n\t * @private\n\t * @param  {*} view\n\t */\n\tafterRemoved(view){\n\t\tthis.hooks.unloaded.trigger(view, this).then(() => {\n\t\t\t/**\n\t\t\t * Emit that a section has been removed\n\t\t\t * @event removed\n\t\t\t * @param {Section} section\n\t\t\t * @param {View} view\n\t\t\t * @memberof Rendition\n\t\t\t */\n\t\t\tthis.emit(EVENTS.RENDITION.REMOVED, view.section, view);\n\t\t});\n\t}\n\n\t/**\n\t * Report resize events and display the last seen location\n\t * @private\n\t */\n\tonResized(size){\n\n\t\t/**\n\t\t * Emit that the rendition has been resized\n\t\t * @event resized\n\t\t * @param {number} width\n\t\t * @param {height} height\n\t\t * @memberof Rendition\n\t\t */\n\t\tthis.emit(EVENTS.RENDITION.RESIZED, {\n\t\t\twidth: size.width,\n\t\t\theight: size.height\n\t\t});\n\n\t\tif (this.location && this.location.start) {\n\t\t\tthis.display(this.location.start.cfi);\n\t\t}\n\n\t}\n\n\t/**\n\t * Report orientation events and display the last seen location\n\t * @private\n\t */\n\tonOrientationChange(orientation){\n\t\t/**\n\t\t * Emit that the rendition has been rotated\n\t\t * @event orientationchange\n\t\t * @param {string} orientation\n\t\t * @memberof Rendition\n\t\t */\n\t\tthis.emit(EVENTS.RENDITION.ORIENTATION_CHANGE, orientation);\n\t}\n\n\t/**\n\t * Move the Rendition to a specific offset\n\t * Usually you would be better off calling display()\n\t * @param {object} offset\n\t */\n\tmoveTo(offset){\n\t\tthis.manager.moveTo(offset);\n\t}\n\n\t/**\n\t * Trigger a resize of the views\n\t * @param {number} [width]\n\t * @param {number} [height]\n\t */\n\tresize(width, height){\n\t\tif (width) {\n\t\t\tthis.settings.width = width;\n\t\t}\n\t\tif (height) {\n\t\t\tthis.settings.height = height;\n\t\t}\n\t\tthis.manager.resize(width, height);\n\t}\n\n\t/**\n\t * Clear all rendered views\n\t */\n\tclear(){\n\t\tthis.manager.clear();\n\t}\n\n\t/**\n\t * Go to the next \"page\" in the rendition\n\t * @return {Promise}\n\t */\n\tnext(){\n\t\treturn this.q.enqueue(this.manager.next.bind(this.manager))\n\t\t\t.then(this.reportLocation.bind(this));\n\t}\n\n\t/**\n\t * Go to the previous \"page\" in the rendition\n\t * @return {Promise}\n\t */\n\tprev(){\n\t\treturn this.q.enqueue(this.manager.prev.bind(this.manager))\n\t\t\t.then(this.reportLocation.bind(this));\n\t}\n\n\t//-- http://www.idpf.org/epub/301/spec/epub-publications.html#meta-properties-rendering\n\t/**\n\t * Determine the Layout properties from metadata and settings\n\t * @private\n\t * @param  {object} metadata\n\t * @return {object} properties\n\t */\n\tdetermineLayoutProperties(metadata){\n\t\tvar properties;\n\t\tvar layout = this.settings.layout || metadata.layout || \"reflowable\";\n\t\tvar spread = this.settings.spread || metadata.spread || \"auto\";\n\t\tvar orientation = this.settings.orientation || metadata.orientation || \"auto\";\n\t\tvar flow = this.settings.flow || metadata.flow || \"auto\";\n\t\tvar viewport = metadata.viewport || \"\";\n\t\tvar minSpreadWidth = this.settings.minSpreadWidth || metadata.minSpreadWidth || 800;\n\t\tvar direction = this.settings.direction || metadata.direction || \"ltr\";\n\n\t\tif ((this.settings.width === 0 || this.settings.width > 0) &&\n\t\t\t\t(this.settings.height === 0 || this.settings.height > 0)) {\n\t\t\t// viewport = \"width=\"+this.settings.width+\", height=\"+this.settings.height+\"\";\n\t\t}\n\n\t\tproperties = {\n\t\t\tlayout : layout,\n\t\t\tspread : spread,\n\t\t\torientation : orientation,\n\t\t\tflow : flow,\n\t\t\tviewport : viewport,\n\t\t\tminSpreadWidth : minSpreadWidth,\n\t\t\tdirection: direction\n\t\t};\n\n\t\treturn properties;\n\t}\n\n\t/**\n\t * Adjust the flow of the rendition to paginated or scrolled\n\t * (scrolled-continuous vs scrolled-doc are handled by different view managers)\n\t * @param  {string} flow\n\t */\n\tflow(flow){\n\t\tvar _flow = flow;\n\t\tif (flow === \"scrolled\" ||\n\t\t\t\tflow === \"scrolled-doc\" ||\n\t\t\t\tflow === \"scrolled-continuous\") {\n\t\t\t_flow = \"scrolled\";\n\t\t}\n\n\t\tif (flow === \"auto\" || flow === \"paginated\") {\n\t\t\t_flow = \"paginated\";\n\t\t}\n\n\t\tthis.settings.flow = flow;\n\n\t\tif (this._layout) {\n\t\t\tthis._layout.flow(_flow);\n\t\t}\n\n\t\tif (this.manager && this._layout) {\n\t\t\tthis.manager.applyLayout(this._layout);\n\t\t}\n\n\t\tif (this.manager) {\n\t\t\tthis.manager.updateFlow(_flow);\n\t\t}\n\n\t\tif (this.manager && this.manager.isRendered() && this.location) {\n\t\t\tthis.manager.clear();\n\t\t\tthis.display(this.location.start.cfi);\n\t\t}\n\t}\n\n\t/**\n\t * Adjust the layout of the rendition to reflowable or pre-paginated\n\t * @param  {object} settings\n\t */\n\tlayout(settings){\n\t\tif (settings) {\n\t\t\tthis._layout = new Layout(settings);\n\t\t\tthis._layout.spread(settings.spread, this.settings.minSpreadWidth);\n\n\t\t\t// this.mapping = new Mapping(this._layout.props);\n\n\t\t\tthis._layout.on(EVENTS.LAYOUT.UPDATED, (props, changed) => {\n\t\t\t\tthis.emit(EVENTS.RENDITION.LAYOUT, props, changed);\n\t\t\t})\n\t\t}\n\n\t\tif (this.manager && this._layout) {\n\t\t\tthis.manager.applyLayout(this._layout);\n\t\t}\n\n\t\treturn this._layout;\n\t}\n\n\t/**\n\t * Adjust if the rendition uses spreads\n\t * @param  {string} spread none | auto (TODO: implement landscape, portrait, both)\n\t * @param  {int} min min width to use spreads at\n\t */\n\tspread(spread, min){\n\n\t\tthis._layout.spread(spread, min);\n\n\t\tif (this.manager.isRendered()) {\n\t\t\tthis.manager.updateLayout();\n\t\t}\n\t}\n\n\t/**\n\t * Adjust the direction of the rendition\n\t * @param  {string} dir\n\t */\n\tdirection(dir){\n\n\t\tthis.settings.direction = dir || \"ltr\";\n\n\t\tif (this.manager) {\n\t\t\tthis.manager.direction(this.settings.direction);\n\t\t}\n\n\t\tif (this.manager && this.manager.isRendered() && this.location) {\n\t\t\tthis.manager.clear();\n\t\t\tthis.display(this.location.start.cfi);\n\t\t}\n\t}\n\n\t/**\n\t * Report the current location\n\t * @fires relocated\n\t * @fires locationChanged\n\t */\n\treportLocation(){\n\t\treturn this.q.enqueue(function reportedLocation(){\n\t\t\trequestAnimationFrame(function reportedLocationAfterRAF() {\n\t\t\t\tvar location = this.manager.currentLocation();\n\t\t\t\tif (location && location.then && typeof location.then === \"function\") {\n\t\t\t\t\tlocation.then(function(result) {\n\t\t\t\t\t\tlet located = this.located(result);\n\n\t\t\t\t\t\tif (!located || !located.start || !located.end) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.location = located;\n\n\t\t\t\t\t\tthis.emit(EVENTS.RENDITION.LOCATION_CHANGED, {\n\t\t\t\t\t\t\tindex: this.location.start.index,\n\t\t\t\t\t\t\thref: this.location.start.href,\n\t\t\t\t\t\t\tstart: this.location.start.cfi,\n\t\t\t\t\t\t\tend: this.location.end.cfi,\n\t\t\t\t\t\t\tpercentage: this.location.start.percentage\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tthis.emit(EVENTS.RENDITION.RELOCATED, this.location);\n\t\t\t\t\t}.bind(this));\n\t\t\t\t} else if (location) {\n\t\t\t\t\tlet located = this.located(location);\n\n\t\t\t\t\tif (!located || !located.start || !located.end) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.location = located;\n\n\t\t\t\t\t/**\n\t\t\t\t\t * @event locationChanged\n\t\t\t\t\t * @deprecated\n\t\t\t\t\t * @type {object}\n\t\t\t\t\t * @property {number} index\n\t\t\t\t\t * @property {string} href\n\t\t\t\t\t * @property {EpubCFI} start\n\t\t\t\t\t * @property {EpubCFI} end\n\t\t\t\t\t * @property {number} percentage\n\t\t\t\t\t * @memberof Rendition\n\t\t\t\t\t */\n\t\t\t\t\tthis.emit(EVENTS.RENDITION.LOCATION_CHANGED, {\n\t\t\t\t\t\tindex: this.location.start.index,\n\t\t\t\t\t\thref: this.location.start.href,\n\t\t\t\t\t\tstart: this.location.start.cfi,\n\t\t\t\t\t\tend: this.location.end.cfi,\n\t\t\t\t\t\tpercentage: this.location.start.percentage\n\t\t\t\t\t});\n\n\t\t\t\t\t/**\n\t\t\t\t\t * @event relocated\n\t\t\t\t\t * @type {displayedLocation}\n\t\t\t\t\t * @memberof Rendition\n\t\t\t\t\t */\n\t\t\t\t\tthis.emit(EVENTS.RENDITION.RELOCATED, this.location);\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t}.bind(this));\n\t}\n\n\t/**\n\t * Get the Current Location object\n\t * @return {displayedLocation | promise} location (may be a promise)\n\t */\n\tcurrentLocation(){\n\t\tvar location = this.manager.currentLocation();\n\t\tif (location && location.then && typeof location.then === \"function\") {\n\t\t\tlocation.then(function(result) {\n\t\t\t\tlet located = this.located(result);\n\t\t\t\treturn located;\n\t\t\t}.bind(this));\n\t\t} else if (location) {\n\t\t\tlet located = this.located(location);\n\t\t\treturn located;\n\t\t}\n\t}\n\n\t/**\n\t * Creates a Rendition#locationRange from location\n\t * passed by the Manager\n\t * @returns {displayedLocation}\n\t * @private\n\t */\n\tlocated(location){\n\t\tif (!location.length) {\n\t\t\treturn {};\n\t\t}\n\t\tlet start = location[0];\n\t\tlet end = location[location.length-1];\n\n\t\tlet located = {\n\t\t\tstart: {\n\t\t\t\tindex: start.index,\n\t\t\t\thref: start.href,\n\t\t\t\tcfi: start.mapping.start,\n\t\t\t\tdisplayed: {\n\t\t\t\t\tpage: start.pages[0] || 1,\n\t\t\t\t\ttotal: start.totalPages\n\t\t\t\t}\n\t\t\t},\n\t\t\tend: {\n\t\t\t\tindex: end.index,\n\t\t\t\thref: end.href,\n\t\t\t\tcfi: end.mapping.end,\n\t\t\t\tdisplayed: {\n\t\t\t\t\tpage: end.pages[end.pages.length-1] || 1,\n\t\t\t\t\ttotal: end.totalPages\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tlet locationStart = this.book.locations.locationFromCfi(start.mapping.start);\n\t\tlet locationEnd = this.book.locations.locationFromCfi(end.mapping.end);\n\n\t\tif (locationStart != null) {\n\t\t\tlocated.start.location = locationStart;\n\t\t\tlocated.start.percentage = this.book.locations.percentageFromLocation(locationStart);\n\t\t}\n\t\tif (locationEnd != null) {\n\t\t\tlocated.end.location = locationEnd;\n\t\t\tlocated.end.percentage = this.book.locations.percentageFromLocation(locationEnd);\n\t\t}\n\n\t\tlet pageStart = this.book.pageList.pageFromCfi(start.mapping.start);\n\t\tlet pageEnd = this.book.pageList.pageFromCfi(end.mapping.end);\n\n\t\tif (pageStart != -1) {\n\t\t\tlocated.start.page = pageStart;\n\t\t}\n\t\tif (pageEnd != -1) {\n\t\t\tlocated.end.page = pageEnd;\n\t\t}\n\n\t\tif (end.index === this.book.spine.last().index &&\n\t\t\t\tlocated.end.displayed.page >= located.end.displayed.total) {\n\t\t\tlocated.atEnd = true;\n\t\t}\n\n\t\tif (start.index === this.book.spine.first().index &&\n\t\t\t\tlocated.start.displayed.page === 1) {\n\t\t\tlocated.atStart = true;\n\t\t}\n\n\t\treturn located;\n\t}\n\n\t/**\n\t * Remove and Clean Up the Rendition\n\t */\n\tdestroy(){\n\t\t// Clear the queue\n\t\t// this.q.clear();\n\t\t// this.q = undefined;\n\n\t\tthis.manager && this.manager.destroy();\n\n\t\tthis.book = undefined;\n\n\t\t// this.views = null;\n\n\t\t// this.hooks.display.clear();\n\t\t// this.hooks.serialize.clear();\n\t\t// this.hooks.content.clear();\n\t\t// this.hooks.layout.clear();\n\t\t// this.hooks.render.clear();\n\t\t// this.hooks.show.clear();\n\t\t// this.hooks = {};\n\n\t\t// this.themes.destroy();\n\t\t// this.themes = undefined;\n\n\t\t// this.epubcfi = undefined;\n\n\t\t// this.starting = undefined;\n\t\t// this.started = undefined;\n\n\n\t}\n\n\t/**\n\t * Pass the events from a view's Contents\n\t * @private\n\t * @param  {Contents} view contents\n\t */\n\tpassEvents(contents){\n\t\tvar listenedEvents = Contents.listenedEvents;\n\n\t\tlistenedEvents.forEach((e) => {\n\t\t\tcontents.on(e, (ev) => this.triggerViewEvent(ev, contents));\n\t\t});\n\n\t\tcontents.on(EVENTS.CONTENTS.SELECTED, (e) => this.triggerSelectedEvent(e, contents));\n\t}\n\n\t/**\n\t * Emit events passed by a view\n\t * @private\n\t * @param  {event} e\n\t */\n\ttriggerViewEvent(e, contents){\n\t\tthis.emit(e.type, e, contents);\n\t}\n\n\t/**\n\t * Emit a selection event's CFI Range passed from a a view\n\t * @private\n\t * @param  {EpubCFI} cfirange\n\t */\n\ttriggerSelectedEvent(cfirange, contents){\n\t\t/**\n\t\t * Emit that a text selection has occured\n\t\t * @event selected\n\t\t * @param {EpubCFI} cfirange\n\t\t * @param {Contents} contents\n\t\t * @memberof Rendition\n\t\t */\n\t\tthis.emit(EVENTS.RENDITION.SELECTED, cfirange, contents);\n\t}\n\n\t/**\n\t * Emit a markClicked event with the cfiRange and data from a mark\n\t * @private\n\t * @param  {EpubCFI} cfirange\n\t */\n\ttriggerMarkEvent(cfiRange, data, contents){\n\t\t/**\n\t\t * Emit that a mark was clicked\n\t\t * @event markClicked\n\t\t * @param {EpubCFI} cfirange\n\t\t * @param {object} data\n\t\t * @param {Contents} contents\n\t\t * @memberof Rendition\n\t\t */\n\t\tthis.emit(EVENTS.RENDITION.MARK_CLICKED, cfiRange, data, contents);\n\t}\n\n\t/**\n\t * Get a Range from a Visible CFI\n\t * @param  {string} cfi EpubCfi String\n\t * @param  {string} ignoreClass\n\t * @return {range}\n\t */\n\tgetRange(cfi, ignoreClass){\n\t\tvar _cfi = new EpubCFI(cfi);\n\t\tvar found = this.manager.visible().filter(function (view) {\n\t\t\tif(_cfi.spinePos === view.index) return true;\n\t\t});\n\n\t\t// Should only every return 1 item\n\t\tif (found.length) {\n\t\t\treturn found[0].contents.range(_cfi, ignoreClass);\n\t\t}\n\t}\n\n\t/**\n\t * Hook to adjust images to fit in columns\n\t * @param  {Contents} contents\n\t * @private\n\t */\n\tadjustImages(contents) {\n\n\t\tif (this._layout.name === \"pre-paginated\") {\n\t\t\treturn new Promise(function(resolve){\n\t\t\t\tresolve();\n\t\t\t});\n\t\t}\n\n\t\tlet computed = contents.window.getComputedStyle(contents.content, null);\n\t\tlet height = contents.content.offsetHeight - (parseFloat(computed.paddingTop) + parseFloat(computed.paddingBottom));\n\n\t\tcontents.addStylesheetRules({\n\t\t\t\"img\" : {\n\t\t\t\t\"max-width\": (this._layout.columnWidth ? this._layout.columnWidth + \"px\" : \"100%\") + \"!important\",\n\t\t\t\t\"max-height\": height + \"px\" + \"!important\",\n\t\t\t\t\"object-fit\": \"contain\",\n\t\t\t\t\"page-break-inside\": \"avoid\",\n\t\t\t\t\"break-inside\": \"avoid\"\n\t\t\t},\n\t\t\t\"svg\" : {\n\t\t\t\t\"max-width\": (this._layout.columnWidth ? this._layout.columnWidth + \"px\" : \"100%\") + \"!important\",\n\t\t\t\t\"max-height\": height + \"px\" + \"!important\",\n\t\t\t\t\"page-break-inside\": \"avoid\",\n\t\t\t\t\"break-inside\": \"avoid\"\n\t\t\t}\n\t\t});\n\n\t\treturn new Promise(function(resolve, reject){\n\t\t\t// Wait to apply\n\t\t\tsetTimeout(function() {\n\t\t\t\tresolve();\n\t\t\t}, 1);\n\t\t});\n\t}\n\n\t/**\n\t * Get the Contents object of each rendered view\n\t * @returns {Contents[]}\n\t */\n\tgetContents () {\n\t\treturn this.manager ? this.manager.getContents() : [];\n\t}\n\n\t/**\n\t * Get the views member from the manager\n\t * @returns {Views}\n\t */\n\tviews () {\n\t\tlet views = this.manager ? this.manager.views : undefined;\n\t\treturn views || [];\n\t}\n\n\t/**\n\t * Hook to handle link clicks in rendered content\n\t * @param  {Contents} contents\n\t * @private\n\t */\n\thandleLinks(contents) {\n\t\tif (contents) {\n\t\t\tcontents.on(EVENTS.CONTENTS.LINK_CLICKED, (href) => {\n\t\t\t\tlet relative = this.book.path.relative(href);\n\t\t\t\tthis.display(relative);\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Hook to handle injecting stylesheet before\n\t * a Section is serialized\n\t * @param  {document} doc\n\t * @param  {Section} section\n\t * @private\n\t */\n\tinjectStylesheet(doc, section) {\n\t\tlet style = doc.createElement(\"link\");\n\t\tstyle.setAttribute(\"type\", \"text/css\");\n\t\tstyle.setAttribute(\"rel\", \"stylesheet\");\n\t\tstyle.setAttribute(\"href\", this.settings.stylesheet);\n\t\tdoc.getElementsByTagName(\"head\")[0].appendChild(style);\n\t}\n\n\t/**\n\t * Hook to handle injecting scripts before\n\t * a Section is serialized\n\t * @param  {document} doc\n\t * @param  {Section} section\n\t * @private\n\t */\n\tinjectScript(doc, section) {\n\t\tlet script = doc.createElement(\"script\");\n\t\tscript.setAttribute(\"type\", \"text/javascript\");\n\t\tscript.setAttribute(\"src\", this.settings.script);\n\t\tscript.textContent = \" \"; // Needed to prevent self closing tag\n\t\tdoc.getElementsByTagName(\"head\")[0].appendChild(script);\n\t}\n\n\t/**\n\t * Hook to handle the document identifier before\n\t * a Section is serialized\n\t * @param  {document} doc\n\t * @param  {Section} section\n\t * @private\n\t */\n\tinjectIdentifier(doc, section) {\n\t\tlet ident = this.book.package.metadata.identifier;\n\t\tlet meta = doc.createElement(\"meta\");\n\t\tmeta.setAttribute(\"name\", \"dc.relation.ispartof\");\n\t\tif (ident) {\n\t\t\tmeta.setAttribute(\"content\", ident);\n\t\t}\n\t\tdoc.getElementsByTagName(\"head\")[0].appendChild(meta);\n\t}\n\n}\n\n//-- Enable binding events to Renderer\nEventEmitter(Rendition.prototype);\n\nexport default Rendition;\n","/* From https://github.com/webcomponents/URL/blob/master/url.js\n * Added UMD, file link handling */\n\n/* Any copyright is dedicated to the Public Domain.\n * http://creativecommons.org/publicdomain/zero/1.0/ */\n'use strict';\n(function (root, factory) {\n    // Fix for this being undefined in modules\n    if (!root) {\n      root = window || global;\n    }\n    if (typeof module === 'object' && module.exports) {\n        // Node\n        module.exports = factory(root);\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], factory);\n    } else {\n        // Browser globals (root is window)\n        root.URL = factory(root);\n  }\n}(this, function (scope) {\n  // feature detect for URL constructor\n  var hasWorkingUrl = false;\n  if (!scope.forceJURL) {\n    try {\n      var u = new URL('b', 'http://a');\n      u.pathname = 'c%20d';\n      hasWorkingUrl = u.href === 'http://a/c%20d';\n    } catch(e) {}\n  }\n\n  if (hasWorkingUrl)\n    return scope.URL;\n\n  var relative = Object.create(null);\n  relative['ftp'] = 21;\n  relative['file'] = 0;\n  relative['gopher'] = 70;\n  relative['http'] = 80;\n  relative['https'] = 443;\n  relative['ws'] = 80;\n  relative['wss'] = 443;\n\n  var relativePathDotMapping = Object.create(null);\n  relativePathDotMapping['%2e'] = '.';\n  relativePathDotMapping['.%2e'] = '..';\n  relativePathDotMapping['%2e.'] = '..';\n  relativePathDotMapping['%2e%2e'] = '..';\n\n  function isRelativeScheme(scheme) {\n    return relative[scheme] !== undefined;\n  }\n\n  function invalid() {\n    clear.call(this);\n    this._isInvalid = true;\n  }\n\n  function IDNAToASCII(h) {\n    if ('' == h) {\n      invalid.call(this)\n    }\n    // XXX\n    return h.toLowerCase()\n  }\n\n  function percentEscape(c) {\n    var unicode = c.charCodeAt(0);\n    if (unicode > 0x20 &&\n       unicode < 0x7F &&\n       // \" # < > ? `\n       [0x22, 0x23, 0x3C, 0x3E, 0x3F, 0x60].indexOf(unicode) == -1\n      ) {\n      return c;\n    }\n    return encodeURIComponent(c);\n  }\n\n  function percentEscapeQuery(c) {\n    // XXX This actually needs to encode c using encoding and then\n    // convert the bytes one-by-one.\n\n    var unicode = c.charCodeAt(0);\n    if (unicode > 0x20 &&\n       unicode < 0x7F &&\n       // \" # < > ` (do not escape '?')\n       [0x22, 0x23, 0x3C, 0x3E, 0x60].indexOf(unicode) == -1\n      ) {\n      return c;\n    }\n    return encodeURIComponent(c);\n  }\n\n  var EOF = undefined,\n      ALPHA = /[a-zA-Z]/,\n      ALPHANUMERIC = /[a-zA-Z0-9\\+\\-\\.]/;\n\n  function parse(input, stateOverride, base) {\n    function err(message) {\n      errors.push(message)\n    }\n\n    var state = stateOverride || 'scheme start',\n        cursor = 0,\n        buffer = '',\n        seenAt = false,\n        seenBracket = false,\n        errors = [];\n\n    loop: while ((input[cursor - 1] != EOF || cursor == 0) && !this._isInvalid) {\n      var c = input[cursor];\n      switch (state) {\n        case 'scheme start':\n          if (c && ALPHA.test(c)) {\n            buffer += c.toLowerCase(); // ASCII-safe\n            state = 'scheme';\n          } else if (!stateOverride) {\n            buffer = '';\n            state = 'no scheme';\n            continue;\n          } else {\n            err('Invalid scheme.');\n            break loop;\n          }\n          break;\n\n        case 'scheme':\n          if (c && ALPHANUMERIC.test(c)) {\n            buffer += c.toLowerCase(); // ASCII-safe\n          } else if (':' == c) {\n            this._scheme = buffer;\n            buffer = '';\n            if (stateOverride) {\n              break loop;\n            }\n            if (isRelativeScheme(this._scheme)) {\n              this._isRelative = true;\n            }\n            if ('file' == this._scheme) {\n              state = 'relative';\n            } else if (this._isRelative && base && base._scheme == this._scheme) {\n              state = 'relative or authority';\n            } else if (this._isRelative) {\n              state = 'authority first slash';\n            } else {\n              state = 'scheme data';\n            }\n          } else if (!stateOverride) {\n            buffer = '';\n            cursor = 0;\n            state = 'no scheme';\n            continue;\n          } else if (EOF == c) {\n            break loop;\n          } else {\n            err('Code point not allowed in scheme: ' + c)\n            break loop;\n          }\n          break;\n\n        case 'scheme data':\n          if ('?' == c) {\n            this._query = '?';\n            state = 'query';\n          } else if ('#' == c) {\n            this._fragment = '#';\n            state = 'fragment';\n          } else {\n            // XXX error handling\n            if (EOF != c && '\\t' != c && '\\n' != c && '\\r' != c) {\n              this._schemeData += percentEscape(c);\n            }\n          }\n          break;\n\n        case 'no scheme':\n          if (!base || !(isRelativeScheme(base._scheme))) {\n            err('Missing scheme.');\n            invalid.call(this);\n          } else {\n            state = 'relative';\n            continue;\n          }\n          break;\n\n        case 'relative or authority':\n          if ('/' == c && '/' == input[cursor+1]) {\n            state = 'authority ignore slashes';\n          } else {\n            err('Expected /, got: ' + c);\n            state = 'relative';\n            continue\n          }\n          break;\n\n        case 'relative':\n          this._isRelative = true;\n          if ('file' != this._scheme)\n            this._scheme = base._scheme;\n          if (EOF == c) {\n            this._host = base._host;\n            this._port = base._port;\n            this._path = base._path.slice();\n            this._query = base._query;\n            this._username = base._username;\n            this._password = base._password;\n            break loop;\n          } else if ('/' == c || '\\\\' == c) {\n            if ('\\\\' == c)\n              err('\\\\ is an invalid code point.');\n            state = 'relative slash';\n          } else if ('?' == c) {\n            this._host = base._host;\n            this._port = base._port;\n            this._path = base._path.slice();\n            this._query = '?';\n            this._username = base._username;\n            this._password = base._password;\n            state = 'query';\n          } else if ('#' == c) {\n            this._host = base._host;\n            this._port = base._port;\n            this._path = base._path.slice();\n            this._query = base._query;\n            this._fragment = '#';\n            this._username = base._username;\n            this._password = base._password;\n            state = 'fragment';\n          } else {\n            var nextC = input[cursor+1]\n            var nextNextC = input[cursor+2]\n            if (\n              'file' != this._scheme || !ALPHA.test(c) ||\n              (nextC != ':' && nextC != '|') ||\n              (EOF != nextNextC && '/' != nextNextC && '\\\\' != nextNextC && '?' != nextNextC && '#' != nextNextC)) {\n              this._host = base._host;\n              this._port = base._port;\n              this._username = base._username;\n              this._password = base._password;\n              this._path = base._path.slice();\n              this._path.pop();\n            }\n            state = 'relative path';\n            continue;\n          }\n          break;\n\n        case 'relative slash':\n          if ('/' == c || '\\\\' == c) {\n            if ('\\\\' == c) {\n              err('\\\\ is an invalid code point.');\n            }\n            if ('file' == this._scheme) {\n              state = 'file host';\n            } else {\n              state = 'authority ignore slashes';\n            }\n          } else {\n            if ('file' != this._scheme) {\n              this._host = base._host;\n              this._port = base._port;\n              this._username = base._username;\n              this._password = base._password;\n            }\n            state = 'relative path';\n            continue;\n          }\n          break;\n\n        case 'authority first slash':\n          if ('/' == c) {\n            state = 'authority second slash';\n          } else {\n            err(\"Expected '/', got: \" + c);\n            state = 'authority ignore slashes';\n            continue;\n          }\n          break;\n\n        case 'authority second slash':\n          state = 'authority ignore slashes';\n          if ('/' != c) {\n            err(\"Expected '/', got: \" + c);\n            continue;\n          }\n          break;\n\n        case 'authority ignore slashes':\n          if ('/' != c && '\\\\' != c) {\n            state = 'authority';\n            continue;\n          } else {\n            err('Expected authority, got: ' + c);\n          }\n          break;\n\n        case 'authority':\n          if ('@' == c) {\n            if (seenAt) {\n              err('@ already seen.');\n              buffer += '%40';\n            }\n            seenAt = true;\n            for (var i = 0; i < buffer.length; i++) {\n              var cp = buffer[i];\n              if ('\\t' == cp || '\\n' == cp || '\\r' == cp) {\n                err('Invalid whitespace in authority.');\n                continue;\n              }\n              // XXX check URL code points\n              if (':' == cp && null === this._password) {\n                this._password = '';\n                continue;\n              }\n              var tempC = percentEscape(cp);\n              (null !== this._password) ? this._password += tempC : this._username += tempC;\n            }\n            buffer = '';\n          } else if (EOF == c || '/' == c || '\\\\' == c || '?' == c || '#' == c) {\n            cursor -= buffer.length;\n            buffer = '';\n            state = 'host';\n            continue;\n          } else {\n            buffer += c;\n          }\n          break;\n\n        case 'file host':\n          if (EOF == c || '/' == c || '\\\\' == c || '?' == c || '#' == c) {\n            if (buffer.length == 2 && ALPHA.test(buffer[0]) && (buffer[1] == ':' || buffer[1] == '|')) {\n              state = 'relative path';\n            } else if (buffer.length == 0) {\n              state = 'relative path start';\n            } else {\n              this._host = IDNAToASCII.call(this, buffer);\n              buffer = '';\n              state = 'relative path start';\n            }\n            continue;\n          } else if ('\\t' == c || '\\n' == c || '\\r' == c) {\n            err('Invalid whitespace in file host.');\n          } else {\n            buffer += c;\n          }\n          break;\n\n        case 'host':\n        case 'hostname':\n          if (':' == c && !seenBracket) {\n            // XXX host parsing\n            this._host = IDNAToASCII.call(this, buffer);\n            buffer = '';\n            state = 'port';\n            if ('hostname' == stateOverride) {\n              break loop;\n            }\n          } else if (EOF == c || '/' == c || '\\\\' == c || '?' == c || '#' == c) {\n            this._host = IDNAToASCII.call(this, buffer);\n            buffer = '';\n            state = 'relative path start';\n            if (stateOverride) {\n              break loop;\n            }\n            continue;\n          } else if ('\\t' != c && '\\n' != c && '\\r' != c) {\n            if ('[' == c) {\n              seenBracket = true;\n            } else if (']' == c) {\n              seenBracket = false;\n            }\n            buffer += c;\n          } else {\n            err('Invalid code point in host/hostname: ' + c);\n          }\n          break;\n\n        case 'port':\n          if (/[0-9]/.test(c)) {\n            buffer += c;\n          } else if (EOF == c || '/' == c || '\\\\' == c || '?' == c || '#' == c || stateOverride) {\n            if ('' != buffer) {\n              var temp = parseInt(buffer, 10);\n              if (temp != relative[this._scheme]) {\n                this._port = temp + '';\n              }\n              buffer = '';\n            }\n            if (stateOverride) {\n              break loop;\n            }\n            state = 'relative path start';\n            continue;\n          } else if ('\\t' == c || '\\n' == c || '\\r' == c) {\n            err('Invalid code point in port: ' + c);\n          } else {\n            invalid.call(this);\n          }\n          break;\n\n        case 'relative path start':\n          if ('\\\\' == c)\n            err(\"'\\\\' not allowed in path.\");\n          state = 'relative path';\n          if ('/' != c && '\\\\' != c) {\n            continue;\n          }\n          break;\n\n        case 'relative path':\n          if (EOF == c || '/' == c || '\\\\' == c || (!stateOverride && ('?' == c || '#' == c))) {\n            if ('\\\\' == c) {\n              err('\\\\ not allowed in relative path.');\n            }\n            var tmp;\n            if (tmp = relativePathDotMapping[buffer.toLowerCase()]) {\n              buffer = tmp;\n            }\n            if ('..' == buffer) {\n              this._path.pop();\n              if ('/' != c && '\\\\' != c) {\n                this._path.push('');\n              }\n            } else if ('.' == buffer && '/' != c && '\\\\' != c) {\n              this._path.push('');\n            } else if ('.' != buffer) {\n              if ('file' == this._scheme && this._path.length == 0 && buffer.length == 2 && ALPHA.test(buffer[0]) && buffer[1] == '|') {\n                buffer = buffer[0] + ':';\n              }\n              this._path.push(buffer);\n            }\n            buffer = '';\n            if ('?' == c) {\n              this._query = '?';\n              state = 'query';\n            } else if ('#' == c) {\n              this._fragment = '#';\n              state = 'fragment';\n            }\n          } else if ('\\t' != c && '\\n' != c && '\\r' != c) {\n            buffer += percentEscape(c);\n          }\n          break;\n\n        case 'query':\n          if (!stateOverride && '#' == c) {\n            this._fragment = '#';\n            state = 'fragment';\n          } else if (EOF != c && '\\t' != c && '\\n' != c && '\\r' != c) {\n            this._query += percentEscapeQuery(c);\n          }\n          break;\n\n        case 'fragment':\n          if (EOF != c && '\\t' != c && '\\n' != c && '\\r' != c) {\n            this._fragment += c;\n          }\n          break;\n      }\n\n      cursor++;\n    }\n  }\n\n  function clear() {\n    this._scheme = '';\n    this._schemeData = '';\n    this._username = '';\n    this._password = null;\n    this._host = '';\n    this._port = '';\n    this._path = [];\n    this._query = '';\n    this._fragment = '';\n    this._isInvalid = false;\n    this._isRelative = false;\n  }\n\n  // Does not process domain names or IP addresses.\n  // Does not handle encoding for the query parameter.\n  function jURL(url, base /* , encoding */) {\n    if (base !== undefined && !(base instanceof jURL))\n      base = new jURL(String(base));\n\n    this._url = url;\n    clear.call(this);\n\n    var input = url.replace(/^[ \\t\\r\\n\\f]+|[ \\t\\r\\n\\f]+$/g, '');\n    // encoding = encoding || 'utf-8'\n\n    parse.call(this, input, null, base);\n  }\n\n  jURL.prototype = {\n    toString: function() {\n      return this.href;\n    },\n    get href() {\n      if (this._isInvalid)\n        return this._url;\n\n      var authority = '';\n      if ('' != this._username || null != this._password) {\n        authority = this._username +\n            (null != this._password ? ':' + this._password : '') + '@';\n      }\n\n      return this.protocol +\n          (this._isRelative ? '//' + authority + this.host : '') +\n          this.pathname + this._query + this._fragment;\n    },\n    set href(href) {\n      clear.call(this);\n      parse.call(this, href);\n    },\n\n    get protocol() {\n      return this._scheme + ':';\n    },\n    set protocol(protocol) {\n      if (this._isInvalid)\n        return;\n      parse.call(this, protocol + ':', 'scheme start');\n    },\n\n    get host() {\n      return this._isInvalid ? '' : this._port ?\n          this._host + ':' + this._port : this._host;\n    },\n    set host(host) {\n      if (this._isInvalid || !this._isRelative)\n        return;\n      parse.call(this, host, 'host');\n    },\n\n    get hostname() {\n      return this._host;\n    },\n    set hostname(hostname) {\n      if (this._isInvalid || !this._isRelative)\n        return;\n      parse.call(this, hostname, 'hostname');\n    },\n\n    get port() {\n      return this._port;\n    },\n    set port(port) {\n      if (this._isInvalid || !this._isRelative)\n        return;\n      parse.call(this, port, 'port');\n    },\n\n    get pathname() {\n      return this._isInvalid ? '' : this._isRelative ?\n          '/' + this._path.join('/') : this._schemeData;\n    },\n    set pathname(pathname) {\n      if (this._isInvalid || !this._isRelative)\n        return;\n      this._path = [];\n      parse.call(this, pathname, 'relative path start');\n    },\n\n    get search() {\n      return this._isInvalid || !this._query || '?' == this._query ?\n          '' : this._query;\n    },\n    set search(search) {\n      if (this._isInvalid || !this._isRelative)\n        return;\n      this._query = '?';\n      if ('?' == search[0])\n        search = search.slice(1);\n      parse.call(this, search, 'query');\n    },\n\n    get hash() {\n      return this._isInvalid || !this._fragment || '#' == this._fragment ?\n          '' : this._fragment;\n    },\n    set hash(hash) {\n      if (this._isInvalid)\n        return;\n      this._fragment = '#';\n      if ('#' == hash[0])\n        hash = hash.slice(1);\n      parse.call(this, hash, 'fragment');\n    },\n\n    get origin() {\n      var host;\n      if (this._isInvalid || !this._scheme) {\n        return '';\n      }\n      // javascript: Gecko returns String(\"\"), WebKit/Blink String(\"null\")\n      // Gecko throws error for \"data://\"\n      // data: Gecko returns \"\", Blink returns \"data://\", WebKit returns \"null\"\n      // Gecko returns String(\"\") for file: mailto:\n      // WebKit/Blink returns String(\"SCHEME://\") for file: mailto:\n      switch (this._scheme) {\n        case 'file':\n          return 'file://' // EPUBJS Added\n        case 'data':\n        case 'javascript':\n        case 'mailto':\n          return 'null';\n      }\n      host = this.host;\n      if (!host) {\n        return '';\n      }\n      return this._scheme + '://' + host;\n    }\n  };\n\n  // Copy over the static methods\n  var OriginalURL = scope.URL;\n  if (OriginalURL) {\n    jURL.createObjectURL = function(blob) {\n      // IE extension allows a second optional options argument.\n      // http://msdn.microsoft.com/en-us/library/ie/hh772302(v=vs.85).aspx\n      return OriginalURL.createObjectURL.apply(OriginalURL, arguments);\n    };\n    jURL.revokeObjectURL = function(url) {\n      OriginalURL.revokeObjectURL(url);\n    };\n  }\n\n  return jURL;\n}));\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/*\n From Zip.js, by Gildas Lormeau\nedited down\n */\n\nvar table = {\n\t\"application\" : {\n\t\t\"ecmascript\" : [ \"es\", \"ecma\" ],\n\t\t\"javascript\" : \"js\",\n\t\t\"ogg\" : \"ogx\",\n\t\t\"pdf\" : \"pdf\",\n\t\t\"postscript\" : [ \"ps\", \"ai\", \"eps\", \"epsi\", \"epsf\", \"eps2\", \"eps3\" ],\n\t\t\"rdf+xml\" : \"rdf\",\n\t\t\"smil\" : [ \"smi\", \"smil\" ],\n\t\t\"xhtml+xml\" : [ \"xhtml\", \"xht\" ],\n\t\t\"xml\" : [ \"xml\", \"xsl\", \"xsd\", \"opf\", \"ncx\" ],\n\t\t\"zip\" : \"zip\",\n\t\t\"x-httpd-eruby\" : \"rhtml\",\n\t\t\"x-latex\" : \"latex\",\n\t\t\"x-maker\" : [ \"frm\", \"maker\", \"frame\", \"fm\", \"fb\", \"book\", \"fbdoc\" ],\n\t\t\"x-object\" : \"o\",\n\t\t\"x-shockwave-flash\" : [ \"swf\", \"swfl\" ],\n\t\t\"x-silverlight\" : \"scr\",\n\t\t\"epub+zip\" : \"epub\",\n\t\t\"font-tdpfr\" : \"pfr\",\n\t\t\"inkml+xml\" : [ \"ink\", \"inkml\" ],\n\t\t\"json\" : \"json\",\n\t\t\"jsonml+json\" : \"jsonml\",\n\t\t\"mathml+xml\" : \"mathml\",\n\t\t\"metalink+xml\" : \"metalink\",\n\t\t\"mp4\" : \"mp4s\",\n\t\t// \"oebps-package+xml\" : \"opf\",\n\t\t\"omdoc+xml\" : \"omdoc\",\n\t\t\"oxps\" : \"oxps\",\n\t\t\"vnd.amazon.ebook\" : \"azw\",\n\t\t\"widget\" : \"wgt\",\n\t\t// \"x-dtbncx+xml\" : \"ncx\",\n\t\t\"x-dtbook+xml\" : \"dtb\",\n\t\t\"x-dtbresource+xml\" : \"res\",\n\t\t\"x-font-bdf\" : \"bdf\",\n\t\t\"x-font-ghostscript\" : \"gsf\",\n\t\t\"x-font-linux-psf\" : \"psf\",\n\t\t\"x-font-otf\" : \"otf\",\n\t\t\"x-font-pcf\" : \"pcf\",\n\t\t\"x-font-snf\" : \"snf\",\n\t\t\"x-font-ttf\" : [ \"ttf\", \"ttc\" ],\n\t\t\"x-font-type1\" : [ \"pfa\", \"pfb\", \"pfm\", \"afm\" ],\n\t\t\"x-font-woff\" : \"woff\",\n\t\t\"x-mobipocket-ebook\" : [ \"prc\", \"mobi\" ],\n\t\t\"x-mspublisher\" : \"pub\",\n\t\t\"x-nzb\" : \"nzb\",\n\t\t\"x-tgif\" : \"obj\",\n\t\t\"xaml+xml\" : \"xaml\",\n\t\t\"xml-dtd\" : \"dtd\",\n\t\t\"xproc+xml\" : \"xpl\",\n\t\t\"xslt+xml\" : \"xslt\",\n\t\t\"internet-property-stream\" : \"acx\",\n\t\t\"x-compress\" : \"z\",\n\t\t\"x-compressed\" : \"tgz\",\n\t\t\"x-gzip\" : \"gz\",\n\t},\n\t\"audio\" : {\n\t\t\"flac\" : \"flac\",\n\t\t\"midi\" : [ \"mid\", \"midi\", \"kar\", \"rmi\" ],\n\t\t\"mpeg\" : [ \"mpga\", \"mpega\", \"mp2\", \"mp3\", \"m4a\", \"mp2a\", \"m2a\", \"m3a\" ],\n\t\t\"mpegurl\" : \"m3u\",\n\t\t\"ogg\" : [ \"oga\", \"ogg\", \"spx\" ],\n\t\t\"x-aiff\" : [ \"aif\", \"aiff\", \"aifc\" ],\n\t\t\"x-ms-wma\" : \"wma\",\n\t\t\"x-wav\" : \"wav\",\n\t\t\"adpcm\" : \"adp\",\n\t\t\"mp4\" : \"mp4a\",\n\t\t\"webm\" : \"weba\",\n\t\t\"x-aac\" : \"aac\",\n\t\t\"x-caf\" : \"caf\",\n\t\t\"x-matroska\" : \"mka\",\n\t\t\"x-pn-realaudio-plugin\" : \"rmp\",\n\t\t\"xm\" : \"xm\",\n\t\t\"mid\" : [ \"mid\", \"rmi\" ]\n\t},\n\t\"image\" : {\n\t\t\"gif\" : \"gif\",\n\t\t\"ief\" : \"ief\",\n\t\t\"jpeg\" : [ \"jpeg\", \"jpg\", \"jpe\" ],\n\t\t\"pcx\" : \"pcx\",\n\t\t\"png\" : \"png\",\n\t\t\"svg+xml\" : [ \"svg\", \"svgz\" ],\n\t\t\"tiff\" : [ \"tiff\", \"tif\" ],\n\t\t\"x-icon\" : \"ico\",\n\t\t\"bmp\" : \"bmp\",\n\t\t\"webp\" : \"webp\",\n\t\t\"x-pict\" : [ \"pic\", \"pct\" ],\n\t\t\"x-tga\" : \"tga\",\n\t\t\"cis-cod\" : \"cod\"\n\t},\n\t\"text\" : {\n\t\t\"cache-manifest\" : [ \"manifest\", \"appcache\" ],\n\t\t\"css\" : \"css\",\n\t\t\"csv\" : \"csv\",\n\t\t\"html\" : [ \"html\", \"htm\", \"shtml\", \"stm\" ],\n\t\t\"mathml\" : \"mml\",\n\t\t\"plain\" : [ \"txt\", \"text\", \"brf\", \"conf\", \"def\", \"list\", \"log\", \"in\", \"bas\" ],\n\t\t\"richtext\" : \"rtx\",\n\t\t\"tab-separated-values\" : \"tsv\",\n\t\t\"x-bibtex\" : \"bib\"\n\t},\n\t\"video\" : {\n\t\t\"mpeg\" : [ \"mpeg\", \"mpg\", \"mpe\", \"m1v\", \"m2v\", \"mp2\", \"mpa\", \"mpv2\" ],\n\t\t\"mp4\" : [ \"mp4\", \"mp4v\", \"mpg4\" ],\n\t\t\"quicktime\" : [ \"qt\", \"mov\" ],\n\t\t\"ogg\" : \"ogv\",\n\t\t\"vnd.mpegurl\" : [ \"mxu\", \"m4u\" ],\n\t\t\"x-flv\" : \"flv\",\n\t\t\"x-la-asf\" : [ \"lsf\", \"lsx\" ],\n\t\t\"x-mng\" : \"mng\",\n\t\t\"x-ms-asf\" : [ \"asf\", \"asx\", \"asr\" ],\n\t\t\"x-ms-wm\" : \"wm\",\n\t\t\"x-ms-wmv\" : \"wmv\",\n\t\t\"x-ms-wmx\" : \"wmx\",\n\t\t\"x-ms-wvx\" : \"wvx\",\n\t\t\"x-msvideo\" : \"avi\",\n\t\t\"x-sgi-movie\" : \"movie\",\n\t\t\"x-matroska\" : [ \"mpv\", \"mkv\", \"mk3d\", \"mks\" ],\n\t\t\"3gpp2\" : \"3g2\",\n\t\t\"h261\" : \"h261\",\n\t\t\"h263\" : \"h263\",\n\t\t\"h264\" : \"h264\",\n\t\t\"jpeg\" : \"jpgv\",\n\t\t\"jpm\" : [ \"jpm\", \"jpgm\" ],\n\t\t\"mj2\" : [ \"mj2\", \"mjp2\" ],\n\t\t\"vnd.ms-playready.media.pyv\" : \"pyv\",\n\t\t\"vnd.uvvu.mp4\" : [ \"uvu\", \"uvvu\" ],\n\t\t\"vnd.vivo\" : \"viv\",\n\t\t\"webm\" : \"webm\",\n\t\t\"x-f4v\" : \"f4v\",\n\t\t\"x-m4v\" : \"m4v\",\n\t\t\"x-ms-vob\" : \"vob\",\n\t\t\"x-smv\" : \"smv\"\n\t}\n};\n\nvar mimeTypes = (function() {\n\tvar type, subtype, val, index, mimeTypes = {};\n\tfor (type in table) {\n\t\tif (table.hasOwnProperty(type)) {\n\t\t\tfor (subtype in table[type]) {\n\t\t\t\tif (table[type].hasOwnProperty(subtype)) {\n\t\t\t\t\tval = table[type][subtype];\n\t\t\t\t\tif (typeof val == \"string\") {\n\t\t\t\t\t\tmimeTypes[val] = type + \"/\" + subtype;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (index = 0; index < val.length; index++) {\n\t\t\t\t\t\t\tmimeTypes[val[index]] = type + \"/\" + subtype;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn mimeTypes;\n})();\n\nvar defaultValue = \"text/plain\";//\"application/octet-stream\";\n\nfunction lookup(filename) {\n\treturn filename && mimeTypes[filename.split(\".\").pop().toLowerCase()] || defaultValue;\n};\n\nmodule.exports = {\n\t'lookup': lookup\n}\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar isSymbol = require('../internals/is-symbol');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  if (isSymbol(argument)) throw TypeError('Cannot convert a Symbol value to a number');\n  var it = toPrimitive(argument, 'number');\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","import { defer } from \"./utils/core\";\nimport EpubCFI from \"./epubcfi\";\nimport Hook from \"./utils/hook\";\nimport { sprint } from \"./utils/core\";\nimport { replaceBase } from \"./utils/replacements\";\n\n/**\n * Represents a Section of the Book\n *\n * In most books this is equivelent to a Chapter\n * @param {object} item  The spine item representing the section\n * @param {object} hooks hooks for serialize and content\n */\nclass Section {\n\tconstructor(item, hooks){\n\t\tthis.idref = item.idref;\n\t\tthis.linear = item.linear === \"yes\";\n\t\tthis.properties = item.properties;\n\t\tthis.index = item.index;\n\t\tthis.href = item.href;\n\t\tthis.url = item.url;\n\t\tthis.canonical = item.canonical;\n\t\tthis.next = item.next;\n\t\tthis.prev = item.prev;\n\n\t\tthis.cfiBase = item.cfiBase;\n\n\t\tif (hooks) {\n\t\t\tthis.hooks = hooks;\n\t\t} else {\n\t\t\tthis.hooks = {};\n\t\t\tthis.hooks.serialize = new Hook(this);\n\t\t\tthis.hooks.content = new Hook(this);\n\t\t}\n\n\t\tthis.document = undefined;\n\t\tthis.contents = undefined;\n\t\tthis.output = undefined;\n\t}\n\n\t/**\n\t * Load the section from its url\n\t * @param  {method} [_request] a request method to use for loading\n\t * @return {document} a promise with the xml document\n\t */\n\tload(_request){\n\t\tvar request = _request || this.request || require(\"./utils/request\");\n\t\tvar loading = new defer();\n\t\tvar loaded = loading.promise;\n\n\t\tif(this.contents) {\n\t\t\tloading.resolve(this.contents);\n\t\t} else {\n\t\t\trequest(this.url)\n\t\t\t\t.then(function(xml){\n\t\t\t\t\t// var directory = new Url(this.url).directory;\n\n\t\t\t\t\tthis.document = xml;\n\t\t\t\t\tthis.contents = xml.documentElement;\n\n\t\t\t\t\treturn this.hooks.content.trigger(this.document, this);\n\t\t\t\t}.bind(this))\n\t\t\t\t.then(function(){\n\t\t\t\t\tloading.resolve(this.contents);\n\t\t\t\t}.bind(this))\n\t\t\t\t.catch(function(error){\n\t\t\t\t\tloading.reject(error);\n\t\t\t\t});\n\t\t}\n\n\t\treturn loaded;\n\t}\n\n\t/**\n\t * Adds a base tag for resolving urls in the section\n\t * @private\n\t */\n\tbase(){\n\t\treturn replaceBase(this.document, this);\n\t}\n\n\t/**\n\t * Render the contents of a section\n\t * @param  {method} [_request] a request method to use for loading\n\t * @return {string} output a serialized XML Document\n\t */\n\trender(_request){\n\t\tvar rendering = new defer();\n\t\tvar rendered = rendering.promise;\n\t\tthis.output; // TODO: better way to return this from hooks?\n\n\t\tthis.load(_request).\n\t\t\tthen(function(contents){\n\t\t\t\tvar userAgent = (typeof navigator !== 'undefined' && navigator.userAgent) || '';\n\t\t\t\tvar isIE = userAgent.indexOf('Trident') >= 0;\n\t\t\t\tvar Serializer;\n\t\t\t\tif (typeof XMLSerializer === \"undefined\" || isIE) {\n\t\t\t\t\tSerializer = require(\"xmldom\").XMLSerializer;\n\t\t\t\t} else {\n\t\t\t\t\tSerializer = XMLSerializer;\n\t\t\t\t}\n\t\t\t\tvar serializer = new Serializer();\n\t\t\t\tthis.output = serializer.serializeToString(contents);\n\t\t\t\treturn this.output;\n\t\t\t}.bind(this)).\n\t\t\tthen(function(){\n\t\t\t\treturn this.hooks.serialize.trigger(this.output, this);\n\t\t\t}.bind(this)).\n\t\t\tthen(function(){\n\t\t\t\trendering.resolve(this.output);\n\t\t\t}.bind(this))\n\t\t\t.catch(function(error){\n\t\t\t\trendering.reject(error);\n\t\t\t});\n\n\t\treturn rendered;\n\t}\n\n\t/**\n\t * Find a string in a section\n\t * @param  {string} _query The query string to find\n\t * @return {object[]} A list of matches, with form {cfi, excerpt}\n\t */\n\tfind(_query){\n\t\tvar section = this;\n\t\tvar matches = [];\n\t\tvar query = _query.toLowerCase();\n\t\tvar find = function(node){\n\t\t\tvar text = node.textContent.toLowerCase();\n\t\t\tvar range = section.document.createRange();\n\t\t\tvar cfi;\n\t\t\tvar pos;\n\t\t\tvar last = -1;\n\t\t\tvar excerpt;\n\t\t\tvar limit = 150;\n\n\t\t\twhile (pos != -1) {\n\t\t\t\t// Search for the query\n\t\t\t\tpos = text.indexOf(query, last + 1);\n\n\t\t\t\tif (pos != -1) {\n\t\t\t\t\t// We found it! Generate a CFI\n\t\t\t\t\trange = section.document.createRange();\n\t\t\t\t\trange.setStart(node, pos);\n\t\t\t\t\trange.setEnd(node, pos + query.length);\n\n\t\t\t\t\tcfi = section.cfiFromRange(range);\n\n\t\t\t\t\t// Generate the excerpt\n\t\t\t\t\tif (node.textContent.length < limit) {\n\t\t\t\t\t\texcerpt = node.textContent;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\texcerpt = node.textContent.substring(pos - limit/2, pos + limit/2);\n\t\t\t\t\t\texcerpt = \"...\" + excerpt + \"...\";\n\t\t\t\t\t}\n\n\t\t\t\t\t// Add the CFI to the matches list\n\t\t\t\t\tmatches.push({\n\t\t\t\t\t\tcfi: cfi,\n\t\t\t\t\t\texcerpt: excerpt\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tlast = pos;\n\t\t\t}\n\t\t};\n\n\t\tsprint(section.document, function(node) {\n\t\t\tfind(node);\n\t\t});\n\n\t\treturn matches;\n\t};\n\n\t/**\n\t* Reconciles the current chapters layout properies with\n\t* the global layout properities.\n\t* @param {object} globalLayout  The global layout settings object, chapter properties string\n\t* @return {object} layoutProperties Object with layout properties\n\t*/\n\treconcileLayoutSettings(globalLayout){\n\t\t//-- Get the global defaults\n\t\tvar settings = {\n\t\t\tlayout : globalLayout.layout,\n\t\t\tspread : globalLayout.spread,\n\t\t\torientation : globalLayout.orientation\n\t\t};\n\n\t\t//-- Get the chapter's display type\n\t\tthis.properties.forEach(function(prop){\n\t\t\tvar rendition = prop.replace(\"rendition:\", \"\");\n\t\t\tvar split = rendition.indexOf(\"-\");\n\t\t\tvar property, value;\n\n\t\t\tif(split != -1){\n\t\t\t\tproperty = rendition.slice(0, split);\n\t\t\t\tvalue = rendition.slice(split+1);\n\n\t\t\t\tsettings[property] = value;\n\t\t\t}\n\t\t});\n\t\treturn settings;\n\t}\n\n\t/**\n\t * Get a CFI from a Range in the Section\n\t * @param  {range} _range\n\t * @return {string} cfi an EpubCFI string\n\t */\n\tcfiFromRange(_range) {\n\t\treturn new EpubCFI(_range, this.cfiBase).toString();\n\t}\n\n\t/**\n\t * Get a CFI from an Element in the Section\n\t * @param  {element} el\n\t * @return {string} cfi an EpubCFI string\n\t */\n\tcfiFromElement(el) {\n\t\treturn new EpubCFI(el, this.cfiBase).toString();\n\t}\n\n\t/**\n\t * Unload the section document\n\t */\n\tunload() {\n\t\tthis.document = undefined;\n\t\tthis.contents = undefined;\n\t\tthis.output = undefined;\n\t}\n\n\tdestroy() {\n\t\tthis.unload();\n\t\tthis.hooks.serialize.clear();\n\t\tthis.hooks.content.clear();\n\n\t\tthis.hooks = undefined;\n\t\tthis.idref = undefined;\n\t\tthis.linear = undefined;\n\t\tthis.properties = undefined;\n\t\tthis.index = undefined;\n\t\tthis.href = undefined;\n\t\tthis.url = undefined;\n\t\tthis.next = undefined;\n\t\tthis.prev = undefined;\n\n\t\tthis.cfiBase = undefined;\n\t}\n}\n\nexport default Section;\n","import EpubCFI from \"./epubcfi\";\nimport Hook from \"./utils/hook\";\nimport Section from \"./section\";\nimport {replaceBase, replaceCanonical, replaceMeta} from \"./utils/replacements\";\n\n/**\n * A collection of Spine Items\n */\nclass Spine {\n\tconstructor() {\n\t\tthis.spineItems = [];\n\t\tthis.spineByHref = {};\n\t\tthis.spineById = {};\n\n\t\tthis.hooks = {};\n\t\tthis.hooks.serialize = new Hook();\n\t\tthis.hooks.content = new Hook();\n\n\t\t// Register replacements\n\t\tthis.hooks.content.register(replaceBase);\n\t\tthis.hooks.content.register(replaceCanonical);\n\t\tthis.hooks.content.register(replaceMeta);\n\n\t\tthis.epubcfi = new EpubCFI();\n\n\t\tthis.loaded = false;\n\n\t\tthis.items = undefined;\n\t\tthis.manifest = undefined;\n\t\tthis.spineNodeIndex = undefined;\n\t\tthis.baseUrl = undefined;\n\t\tthis.length = undefined;\n\t}\n\n\t/**\n\t * Unpack items from a opf into spine items\n\t * @param  {Packaging} _package\n\t * @param  {method} resolver URL resolver\n\t * @param  {method} canonical Resolve canonical url\n\t */\n\tunpack(_package, resolver, canonical) {\n\n\t\tthis.items = _package.spine;\n\t\tthis.manifest = _package.manifest;\n\t\tthis.spineNodeIndex = _package.spineNodeIndex;\n\t\tthis.baseUrl = _package.baseUrl || _package.basePath || \"\";\n\t\tthis.length = this.items.length;\n\n\t\tthis.items.forEach( (item, index) => {\n\t\t\tvar manifestItem = this.manifest[item.idref];\n\t\t\tvar spineItem;\n\n\t\t\titem.index = index;\n\t\t\titem.cfiBase = this.epubcfi.generateChapterComponent(this.spineNodeIndex, item.index, item.idref);\n\n\t\t\tif (item.href) {\n\t\t\t\titem.url = resolver(item.href, true);\n\t\t\t\titem.canonical = canonical(item.href);\n\t\t\t}\n\n\t\t\tif(manifestItem) {\n\t\t\t\titem.href = manifestItem.href;\n\t\t\t\titem.url = resolver(item.href, true);\n\t\t\t\titem.canonical = canonical(item.href);\n\n\t\t\t\tif(manifestItem.properties.length){\n\t\t\t\t\titem.properties.push.apply(item.properties, manifestItem.properties);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (item.linear === \"yes\") {\n\t\t\t\titem.prev = function() {\n\t\t\t\t\tlet prevIndex = item.index;\n\t\t\t\t\twhile (prevIndex > 0) {\n\t\t\t\t\t\tlet prev = this.get(prevIndex-1);\n\t\t\t\t\t\tif (prev && prev.linear) {\n\t\t\t\t\t\t\treturn prev;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprevIndex -= 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}.bind(this);\n\t\t\t\titem.next = function() {\n\t\t\t\t\tlet nextIndex = item.index;\n\t\t\t\t\twhile (nextIndex < this.spineItems.length-1) {\n\t\t\t\t\t\tlet next = this.get(nextIndex+1);\n\t\t\t\t\t\tif (next && next.linear) {\n\t\t\t\t\t\t\treturn next;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnextIndex += 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}.bind(this);\n\t\t\t} else {\n\t\t\t\titem.prev = function() {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\titem.next = function() {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tspineItem = new Section(item, this.hooks);\n\n\t\t\tthis.append(spineItem);\n\n\n\t\t});\n\n\t\tthis.loaded = true;\n\t}\n\n\t/**\n\t * Get an item from the spine\n\t * @param  {string|number} [target]\n\t * @return {Section} section\n\t * @example spine.get();\n\t * @example spine.get(1);\n\t * @example spine.get(\"chap1.html\");\n\t * @example spine.get(\"#id1234\");\n\t */\n\tget(target) {\n\t\tvar index = 0;\n\n\t\tif (typeof target === \"undefined\") {\n\t\t\twhile (index < this.spineItems.length) {\n\t\t\t\tlet next = this.spineItems[index];\n\t\t\t\tif (next && next.linear) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tindex += 1;\n\t\t\t}\n\t\t} else if(this.epubcfi.isCfiString(target)) {\n\t\t\tlet cfi = new EpubCFI(target);\n\t\t\tindex = cfi.spinePos;\n\t\t} else if(typeof target === \"number\" || isNaN(target) === false){\n\t\t\tindex = target;\n\t\t} else if(typeof target === \"string\" && target.indexOf(\"#\") === 0) {\n\t\t\tindex = this.spineById[target.substring(1)];\n\t\t} else if(typeof target === \"string\") {\n\t\t\t// Remove fragments\n\t\t\ttarget = target.split(\"#\")[0];\n\t\t\tindex = this.spineByHref[target] || this.spineByHref[encodeURI(target)];\n\t\t}\n\n\t\treturn this.spineItems[index] || null;\n\t}\n\n\t/**\n\t * Append a Section to the Spine\n\t * @private\n\t * @param  {Section} section\n\t */\n\tappend(section) {\n\t\tvar index = this.spineItems.length;\n\t\tsection.index = index;\n\n\t\tthis.spineItems.push(section);\n\n\t\t// Encode and Decode href lookups\n\t\t// see pr for details: https://github.com/futurepress/epub.js/pull/358\n\t\tthis.spineByHref[decodeURI(section.href)] = index;\n\t\tthis.spineByHref[encodeURI(section.href)] = index;\n\t\tthis.spineByHref[section.href] = index;\n\n\t\tthis.spineById[section.idref] = index;\n\n\t\treturn index;\n\t}\n\n\t/**\n\t * Prepend a Section to the Spine\n\t * @private\n\t * @param  {Section} section\n\t */\n\tprepend(section) {\n\t\t// var index = this.spineItems.unshift(section);\n\t\tthis.spineByHref[section.href] = 0;\n\t\tthis.spineById[section.idref] = 0;\n\n\t\t// Re-index\n\t\tthis.spineItems.forEach(function(item, index){\n\t\t\titem.index = index;\n\t\t});\n\n\t\treturn 0;\n\t}\n\n\t// insert(section, index) {\n\t//\n\t// };\n\n\t/**\n\t * Remove a Section from the Spine\n\t * @private\n\t * @param  {Section} section\n\t */\n\tremove(section) {\n\t\tvar index = this.spineItems.indexOf(section);\n\n\t\tif(index > -1) {\n\t\t\tdelete this.spineByHref[section.href];\n\t\t\tdelete this.spineById[section.idref];\n\n\t\t\treturn this.spineItems.splice(index, 1);\n\t\t}\n\t}\n\n\t/**\n\t * Loop over the Sections in the Spine\n\t * @return {method} forEach\n\t */\n\teach() {\n\t\treturn this.spineItems.forEach.apply(this.spineItems, arguments);\n\t}\n\n\t/**\n\t * Find the first Section in the Spine\n\t * @return {Section} first section\n\t */\n\tfirst() {\n\t\tlet index = 0;\n\n\t\tdo {\n\t\t\tlet next = this.get(index);\n\n\t\t\tif (next && next.linear) {\n\t\t\t\treturn next;\n\t\t\t}\n\t\t\tindex += 1;\n\t\t} while (index < this.spineItems.length) ;\n\t}\n\n\t/**\n\t * Find the last Section in the Spine\n\t * @return {Section} last section\n\t */\n\tlast() {\n\t\tlet index = this.spineItems.length-1;\n\n\t\tdo {\n\t\t\tlet prev = this.get(index);\n\t\t\tif (prev && prev.linear) {\n\t\t\t\treturn prev;\n\t\t\t}\n\t\t\tindex -= 1;\n\t\t} while (index >= 0);\n\t}\n\n\tdestroy() {\n\t\tthis.each((section) => section.destroy());\n\n\t\tthis.spineItems = undefined\n\t\tthis.spineByHref = undefined\n\t\tthis.spineById = undefined\n\n\t\tthis.hooks.serialize.clear();\n\t\tthis.hooks.content.clear();\n\t\tthis.hooks = undefined;\n\n\t\tthis.epubcfi = undefined;\n\n\t\tthis.loaded = false;\n\n\t\tthis.items = undefined;\n\t\tthis.manifest = undefined;\n\t\tthis.spineNodeIndex = undefined;\n\t\tthis.baseUrl = undefined;\n\t\tthis.length = undefined;\n\t}\n}\n\nexport default Spine;\n","import {qs, sprint, locationOf, defer} from \"./utils/core\";\nimport Queue from \"./utils/queue\";\nimport EpubCFI from \"./epubcfi\";\nimport { EVENTS } from \"./utils/constants\";\nimport EventEmitter from \"event-emitter\";\n\n/**\n * Find Locations for a Book\n * @param {Spine} spine\n * @param {request} request\n * @param {number} [pause=100]\n */\nclass Locations {\n\tconstructor(spine, request, pause) {\n\t\tthis.spine = spine;\n\t\tthis.request = request;\n\t\tthis.pause = pause || 100;\n\n\t\tthis.q = new Queue(this);\n\t\tthis.epubcfi = new EpubCFI();\n\n\t\tthis._locations = [];\n\t\tthis.total = 0;\n\n\t\tthis.break = 150;\n\n\t\tthis._current = 0;\n\n\t\tthis.currentLocation = '';\n\t\tthis._currentCfi ='';\n\t\tthis.processingTimeout = undefined;\n\t}\n\n\t/**\n\t * Load all of sections in the book to generate locations\n\t * @param  {int} chars how many chars to split on\n\t * @return {object} locations\n\t */\n\tgenerate(chars) {\n\n\t\tif (chars) {\n\t\t\tthis.break = chars;\n\t\t}\n\n\t\tthis.q.pause();\n\n\t\tthis.spine.each(function(section) {\n\t\t\tif (section.linear) {\n\t\t\t\tthis.q.enqueue(this.process.bind(this), section);\n\t\t\t}\n\t\t}.bind(this));\n\n\t\treturn this.q.run().then(function() {\n\t\t\tthis.total = this._locations.length - 1;\n\n\t\t\tif (this._currentCfi) {\n\t\t\t\tthis.currentLocation = this._currentCfi;\n\t\t\t}\n\n\t\t\treturn this._locations;\n\t\t\t// console.log(this.percentage(this.book.rendition.location.start), this.percentage(this.book.rendition.location.end));\n\t\t}.bind(this));\n\n\t}\n\n\tcreateRange () {\n\t\treturn {\n\t\t\tstartContainer: undefined,\n\t\t\tstartOffset: undefined,\n\t\t\tendContainer: undefined,\n\t\t\tendOffset: undefined\n\t\t};\n\t}\n\n\tprocess(section) {\n\n\t\treturn section.load(this.request)\n\t\t\t.then(function(contents) {\n\t\t\t\tvar completed = new defer();\n\t\t\t\tvar locations = this.parse(contents, section.cfiBase);\n\t\t\t\tthis._locations = this._locations.concat(locations);\n\n\t\t\t\tsection.unload();\n\n\t\t\t\tthis.processingTimeout = setTimeout(() => completed.resolve(locations), this.pause);\n\t\t\t\treturn completed.promise;\n\t\t\t}.bind(this));\n\n\t}\n\n\tparse(contents, cfiBase, chars) {\n\t\tvar locations = [];\n\t\tvar range;\n\t\tvar doc = contents.ownerDocument;\n\t\tvar body = qs(doc, \"body\");\n\t\tvar counter = 0;\n\t\tvar prev;\n\t\tvar _break = chars || this.break;\n\t\tvar parser = function(node) {\n\t\t\tvar len = node.length;\n\t\t\tvar dist;\n\t\t\tvar pos = 0;\n\n\t\t\tif (node.textContent.trim().length === 0) {\n\t\t\t\treturn false; // continue\n\t\t\t}\n\n\t\t\t// Start range\n\t\t\tif (counter == 0) {\n\t\t\t\trange = this.createRange();\n\t\t\t\trange.startContainer = node;\n\t\t\t\trange.startOffset = 0;\n\t\t\t}\n\n\t\t\tdist = _break - counter;\n\n\t\t\t// Node is smaller than a break,\n\t\t\t// skip over it\n\t\t\tif(dist > len){\n\t\t\t\tcounter += len;\n\t\t\t\tpos = len;\n\t\t\t}\n\n\n\t\t\twhile (pos < len) {\n\t\t\t\tdist = _break - counter;\n\n\t\t\t\tif (counter === 0) {\n\t\t\t\t\t// Start new range\n\t\t\t\t\tpos += 1;\n\t\t\t\t\trange = this.createRange();\n\t\t\t\t\trange.startContainer = node;\n\t\t\t\t\trange.startOffset = pos;\n\t\t\t\t}\n\n\t\t\t\t// pos += dist;\n\n\t\t\t\t// Gone over\n\t\t\t\tif(pos + dist >= len){\n\t\t\t\t\t// Continue counter for next node\n\t\t\t\t\tcounter += len - pos;\n\t\t\t\t\t// break\n\t\t\t\t\tpos = len;\n\t\t\t\t// At End\n\t\t\t\t} else {\n\t\t\t\t\t// Advance pos\n\t\t\t\t\tpos += dist;\n\n\t\t\t\t\t// End the previous range\n\t\t\t\t\trange.endContainer = node;\n\t\t\t\t\trange.endOffset = pos;\n\t\t\t\t\t// cfi = section.cfiFromRange(range);\n\t\t\t\t\tlet cfi = new EpubCFI(range, cfiBase).toString();\n\t\t\t\t\tlocations.push(cfi);\n\t\t\t\t\tcounter = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tprev = node;\n\t\t};\n\n\t\tsprint(body, parser.bind(this));\n\n\t\t// Close remaining\n\t\tif (range && range.startContainer && prev) {\n\t\t\trange.endContainer = prev;\n\t\t\trange.endOffset = prev.length;\n\t\t\tlet cfi = new EpubCFI(range, cfiBase).toString();\n\t\t\tlocations.push(cfi);\n\t\t\tcounter = 0;\n\t\t}\n\n\t\treturn locations;\n\t}\n\n\t/**\n\t * Get a location from an EpubCFI\n\t * @param {EpubCFI} cfi\n\t * @return {number}\n\t */\n\tlocationFromCfi(cfi){\n\t\tlet loc;\n\t\tif (EpubCFI.prototype.isCfiString(cfi)) {\n\t\t\tcfi = new EpubCFI(cfi);\n\t\t}\n\t\t// Check if the location has not been set yet\n\t\tif(this._locations.length === 0) {\n\t\t\treturn -1;\n\t\t}\n\n\t\tloc = locationOf(cfi, this._locations, this.epubcfi.compare);\n\n\t\tif (loc > this.total) {\n\t\t\treturn this.total;\n\t\t}\n\n\t\treturn loc;\n\t}\n\n\t/**\n\t * Get a percentage position in locations from an EpubCFI\n\t * @param {EpubCFI} cfi\n\t * @return {number}\n\t */\n\tpercentageFromCfi(cfi) {\n\t\tif(this._locations.length === 0) {\n\t\t\treturn null;\n\t\t}\n\t\t// Find closest cfi\n\t\tvar loc = this.locationFromCfi(cfi);\n\t\t// Get percentage in total\n\t\treturn this.percentageFromLocation(loc);\n\t}\n\n\t/**\n\t * Get a percentage position from a location index\n\t * @param {number} location\n\t * @return {number}\n\t */\n\tpercentageFromLocation(loc) {\n\t\tif (!loc || !this.total) {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn (loc / this.total);\n\t}\n\n\t/**\n\t * Get an EpubCFI from location index\n\t * @param {number} loc\n\t * @return {EpubCFI} cfi\n\t */\n\tcfiFromLocation(loc){\n\t\tvar cfi = -1;\n\t\t// check that pg is an int\n\t\tif(typeof loc != \"number\"){\n\t\t\tloc = parseInt(loc);\n\t\t}\n\n\t\tif(loc >= 0 && loc < this._locations.length) {\n\t\t\tcfi = this._locations[loc];\n\t\t}\n\n\t\treturn cfi;\n\t}\n\n\t/**\n\t * Get an EpubCFI from location percentage\n\t * @param {number} percentage\n\t * @return {EpubCFI} cfi\n\t */\n\tcfiFromPercentage(percentage){\n\t\tlet loc;\n\t\tif (percentage > 1) {\n\t\t\tconsole.warn(\"Normalize cfiFromPercentage value to between 0 - 1\");\n\t\t}\n\n\t\t// Make sure 1 goes to very end\n\t\tif (percentage >= 1) {\n\t\t\tlet cfi = new EpubCFI(this._locations[this.total]);\n\t\t\tcfi.collapse();\n\t\t\treturn cfi.toString();\n\t\t}\n\n\t\tloc = Math.ceil(this.total * percentage);\n\t\treturn this.cfiFromLocation(loc);\n\t}\n\n\t/**\n\t * Load locations from JSON\n\t * @param {json} locations\n\t */\n\tload(locations){\n\t\tif (typeof locations === \"string\") {\n\t\t\tthis._locations = JSON.parse(locations);\n\t\t} else {\n\t\t\tthis._locations = locations;\n\t\t}\n\t\tthis.total = this._locations.length - 1;\n\t\treturn this._locations;\n\t}\n\n\t/**\n\t * Save locations to JSON\n\t * @return {json}\n\t */\n\tsave(){\n\t\treturn JSON.stringify(this._locations);\n\t}\n\n\tgetCurrent(){\n\t\treturn this._current;\n\t}\n\n\tsetCurrent(curr){\n\t\tvar loc;\n\n\t\tif(typeof curr == \"string\"){\n\t\t\tthis._currentCfi = curr;\n\t\t} else if (typeof curr == \"number\") {\n\t\t\tthis._current = curr;\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\tif(this._locations.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(typeof curr == \"string\"){\n\t\t\tloc = this.locationFromCfi(curr);\n\t\t\tthis._current = loc;\n\t\t} else {\n\t\t\tloc = curr;\n\t\t}\n\n\t\tthis.emit(EVENTS.LOCATIONS.CHANGED, {\n\t\t\tpercentage: this.percentageFromLocation(loc)\n\t\t});\n\t}\n\n\t/**\n\t * Get the current location\n\t */\n\tget currentLocation() {\n\t\treturn this._current;\n\t}\n\n\t/**\n\t * Set the current location\n\t */\n\tset currentLocation(curr) {\n\t\tthis.setCurrent(curr);\n\t}\n\n\t/**\n\t * Locations length\n\t */\n\tlength () {\n\t\treturn this._locations.length;\n\t}\n\n\tdestroy () {\n\t\tthis.spine = undefined;\n\t\tthis.request = undefined;\n\t\tthis.pause = undefined;\n\n\t\tthis.q.stop();\n\t\tthis.q = undefined;\n\t\tthis.epubcfi = undefined;\n\n\t\tthis._locations = undefined\n\t\tthis.total = undefined;\n\n\t\tthis.break = undefined;\n\t\tthis._current = undefined;\n\n\t\tthis.currentLocation = undefined;\n\t\tthis._currentCfi = undefined;\n\t\tclearTimeout(this.processingTimeout);\n\t}\n}\n\nEventEmitter(Locations.prototype);\n\nexport default Locations;\n","import path from \"path-webpack\";\nimport {qs} from \"./utils/core\";\n\n/**\n * Handles Parsing and Accessing an Epub Container\n * @class\n * @param {document} [containerDocument] xml document\n */\nclass Container {\n\tconstructor(containerDocument) {\n\t\tthis.packagePath = '';\n\t\tthis.directory = '';\n\t\tthis.encoding = '';\n\n\t\tif (containerDocument) {\n\t\t\tthis.parse(containerDocument);\n\t\t}\n\t}\n\n\t/**\n\t * Parse the Container XML\n\t * @param  {document} containerDocument\n\t */\n\tparse(containerDocument){\n\t\t//-- <rootfile full-path=\"OPS/package.opf\" media-type=\"application/oebps-package+xml\"/>\n\t\tvar rootfile;\n\n\t\tif(!containerDocument) {\n\t\t\tthrow new Error(\"Container File Not Found\");\n\t\t}\n\n\t\trootfile = qs(containerDocument, \"rootfile\");\n\n\t\tif(!rootfile) {\n\t\t\tthrow new Error(\"No RootFile Found\");\n\t\t}\n\n\t\tthis.packagePath = rootfile.getAttribute(\"full-path\");\n\t\tthis.directory = path.dirname(this.packagePath);\n\t\tthis.encoding = containerDocument.xmlEncoding;\n\t}\n\n\tdestroy() {\n\t\tthis.packagePath = undefined;\n\t\tthis.directory = undefined;\n\t\tthis.encoding = undefined;\n\t}\n}\n\nexport default Container;\n","import {qs, qsa, qsp, indexOfElementNode} from \"./utils/core\";\n\n/**\n * Open Packaging Format Parser\n * @class\n * @param {document} packageDocument OPF XML\n */\nclass Packaging {\n\tconstructor(packageDocument) {\n\t\tthis.manifest = {};\n\t\tthis.navPath = '';\n\t\tthis.ncxPath = '';\n\t\tthis.coverPath = '';\n\t\tthis.spineNodeIndex = 0;\n\t\tthis.spine = [];\n\t\tthis.metadata = {};\n\n\t\tif (packageDocument) {\n\t\t\tthis.parse(packageDocument);\n\t\t}\n\t}\n\n\t/**\n\t * Parse OPF XML\n\t * @param  {document} packageDocument OPF XML\n\t * @return {object} parsed package parts\n\t */\n\tparse(packageDocument){\n\t\tvar metadataNode, manifestNode, spineNode;\n\n\t\tif(!packageDocument) {\n\t\t\tthrow new Error(\"Package File Not Found\");\n\t\t}\n\n\t\tmetadataNode = qs(packageDocument, \"metadata\");\n\t\tif(!metadataNode) {\n\t\t\tthrow new Error(\"No Metadata Found\");\n\t\t}\n\n\t\tmanifestNode = qs(packageDocument, \"manifest\");\n\t\tif(!manifestNode) {\n\t\t\tthrow new Error(\"No Manifest Found\");\n\t\t}\n\n\t\tspineNode = qs(packageDocument, \"spine\");\n\t\tif(!spineNode) {\n\t\t\tthrow new Error(\"No Spine Found\");\n\t\t}\n\n\t\tthis.manifest = this.parseManifest(manifestNode);\n\t\tthis.navPath = this.findNavPath(manifestNode);\n\t\tthis.ncxPath = this.findNcxPath(manifestNode, spineNode);\n\t\tthis.coverPath = this.findCoverPath(packageDocument);\n\n\t\tthis.spineNodeIndex = indexOfElementNode(spineNode);\n\n\t\tthis.spine = this.parseSpine(spineNode, this.manifest);\n\n\t\tthis.metadata = this.parseMetadata(metadataNode);\n\n\t\tthis.metadata.direction = spineNode.getAttribute(\"page-progression-direction\");\n\n\n\t\treturn {\n\t\t\t\"metadata\" : this.metadata,\n\t\t\t\"spine\"    : this.spine,\n\t\t\t\"manifest\" : this.manifest,\n\t\t\t\"navPath\"  : this.navPath,\n\t\t\t\"ncxPath\"  : this.ncxPath,\n\t\t\t\"coverPath\": this.coverPath,\n\t\t\t\"spineNodeIndex\" : this.spineNodeIndex\n\t\t};\n\t}\n\n\t/**\n\t * Parse Metadata\n\t * @private\n\t * @param  {node} xml\n\t * @return {object} metadata\n\t */\n\tparseMetadata(xml){\n\t\tvar metadata = {};\n\n\t\tmetadata.title = this.getElementText(xml, \"title\");\n\t\tmetadata.creator = this.getElementText(xml, \"creator\");\n\t\tmetadata.description = this.getElementText(xml, \"description\");\n\n\t\tmetadata.pubdate = this.getElementText(xml, \"date\");\n\n\t\tmetadata.publisher = this.getElementText(xml, \"publisher\");\n\n\t\tmetadata.identifier = this.getElementText(xml, \"identifier\");\n\t\tmetadata.language = this.getElementText(xml, \"language\");\n\t\tmetadata.rights = this.getElementText(xml, \"rights\");\n\n\t\tmetadata.modified_date = this.getPropertyText(xml, \"dcterms:modified\");\n\n\t\tmetadata.layout = this.getPropertyText(xml, \"rendition:layout\");\n\t\tmetadata.orientation = this.getPropertyText(xml, \"rendition:orientation\");\n\t\tmetadata.flow = this.getPropertyText(xml, \"rendition:flow\");\n\t\tmetadata.viewport = this.getPropertyText(xml, \"rendition:viewport\");\n\t\tmetadata.media_active_class = this.getPropertyText(xml, \"media:active-class\");\n\t\t// metadata.page_prog_dir = packageXml.querySelector(\"spine\").getAttribute(\"page-progression-direction\");\n\n\t\treturn metadata;\n\t}\n\n\t/**\n\t * Parse Manifest\n\t * @private\n\t * @param  {node} manifestXml\n\t * @return {object} manifest\n\t */\n\tparseManifest(manifestXml){\n\t\tvar manifest = {};\n\n\t\t//-- Turn items into an array\n\t\t// var selected = manifestXml.querySelectorAll(\"item\");\n\t\tvar selected = qsa(manifestXml, \"item\");\n\t\tvar items = Array.prototype.slice.call(selected);\n\n\t\t//-- Create an object with the id as key\n\t\titems.forEach(function(item){\n\t\t\tvar id = item.getAttribute(\"id\"),\n\t\t\t\t\thref = item.getAttribute(\"href\") || \"\",\n\t\t\t\t\ttype = item.getAttribute(\"media-type\") || \"\",\n\t\t\t\t\toverlay = item.getAttribute(\"media-overlay\") || \"\",\n\t\t\t\t\tproperties = item.getAttribute(\"properties\") || \"\";\n\n\t\t\tmanifest[id] = {\n\t\t\t\t\"href\" : href,\n\t\t\t\t// \"url\" : href,\n\t\t\t\t\"type\" : type,\n\t\t\t\t\"overlay\" : overlay,\n\t\t\t\t\"properties\" : properties.length ? properties.split(\" \") : []\n\t\t\t};\n\n\t\t});\n\n\t\treturn manifest;\n\n\t}\n\n\t/**\n\t * Parse Spine\n\t * @private\n\t * @param  {node} spineXml\n\t * @param  {Packaging.manifest} manifest\n\t * @return {object} spine\n\t */\n\tparseSpine(spineXml, manifest){\n\t\tvar spine = [];\n\n\t\tvar selected = qsa(spineXml, \"itemref\");\n\t\tvar items = Array.prototype.slice.call(selected);\n\n\t\t// var epubcfi = new EpubCFI();\n\n\t\t//-- Add to array to mantain ordering and cross reference with manifest\n\t\titems.forEach(function(item, index){\n\t\t\tvar idref = item.getAttribute(\"idref\");\n\t\t\t// var cfiBase = epubcfi.generateChapterComponent(spineNodeIndex, index, Id);\n\t\t\tvar props = item.getAttribute(\"properties\") || \"\";\n\t\t\tvar propArray = props.length ? props.split(\" \") : [];\n\t\t\t// var manifestProps = manifest[Id].properties;\n\t\t\t// var manifestPropArray = manifestProps.length ? manifestProps.split(\" \") : [];\n\n\t\t\tvar itemref = {\n\t\t\t\t\"idref\" : idref,\n\t\t\t\t\"linear\" : item.getAttribute(\"linear\") || \"yes\",\n\t\t\t\t\"properties\" : propArray,\n\t\t\t\t// \"href\" : manifest[Id].href,\n\t\t\t\t// \"url\" :  manifest[Id].url,\n\t\t\t\t\"index\" : index\n\t\t\t\t// \"cfiBase\" : cfiBase\n\t\t\t};\n\t\t\tspine.push(itemref);\n\t\t});\n\n\t\treturn spine;\n\t}\n\n\t/**\n\t * Find TOC NAV\n\t * @private\n\t * @param {element} manifestNode\n\t * @return {string}\n\t */\n\tfindNavPath(manifestNode){\n\t\t// Find item with property \"nav\"\n\t\t// Should catch nav irregardless of order\n\t\t// var node = manifestNode.querySelector(\"item[properties$='nav'], item[properties^='nav '], item[properties*=' nav ']\");\n\t\tvar node = qsp(manifestNode, \"item\", {\"properties\":\"nav\"});\n\t\treturn node ? node.getAttribute(\"href\") : false;\n\t}\n\n\t/**\n\t * Find TOC NCX\n\t * media-type=\"application/x-dtbncx+xml\" href=\"toc.ncx\"\n\t * @private\n\t * @param {element} manifestNode\n\t * @param {element} spineNode\n\t * @return {string}\n\t */\n\tfindNcxPath(manifestNode, spineNode){\n\t\t// var node = manifestNode.querySelector(\"item[media-type='application/x-dtbncx+xml']\");\n\t\tvar node = qsp(manifestNode, \"item\", {\"media-type\":\"application/x-dtbncx+xml\"});\n\t\tvar tocId;\n\n\t\t// If we can't find the toc by media-type then try to look for id of the item in the spine attributes as\n\t\t// according to http://www.idpf.org/epub/20/spec/OPF_2.0.1_draft.htm#Section2.4.1.2,\n\t\t// \"The item that describes the NCX must be referenced by the spine toc attribute.\"\n\t\tif (!node) {\n\t\t\ttocId = spineNode.getAttribute(\"toc\");\n\t\t\tif(tocId) {\n\t\t\t\t// node = manifestNode.querySelector(\"item[id='\" + tocId + \"']\");\n\t\t\t\tnode = manifestNode.getElementById(tocId);\n\t\t\t}\n\t\t}\n\n\t\treturn node ? node.getAttribute(\"href\") : false;\n\t}\n\n\t/**\n\t * Find the Cover Path\n\t * <item properties=\"cover-image\" id=\"ci\" href=\"cover.svg\" media-type=\"image/svg+xml\" />\n\t * Fallback for Epub 2.0\n\t * @private\n\t * @param  {node} packageXml\n\t * @return {string} href\n\t */\n\tfindCoverPath(packageXml){\n\t\tvar pkg = qs(packageXml, \"package\");\n\t\tvar epubVersion = pkg.getAttribute(\"version\");\n\n\t\tif (epubVersion === \"2.0\") {\n\t\t\tvar metaCover = qsp(packageXml, \"meta\", {\"name\":\"cover\"});\n\t\t\tif (metaCover) {\n\t\t\t\tvar coverId = metaCover.getAttribute(\"content\");\n\t\t\t\t// var cover = packageXml.querySelector(\"item[id='\" + coverId + \"']\");\n\t\t\t\tvar cover = packageXml.getElementById(coverId);\n\t\t\t\treturn cover ? cover.getAttribute(\"href\") : \"\";\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\t// var node = packageXml.querySelector(\"item[properties='cover-image']\");\n\t\t\tvar node = qsp(packageXml, \"item\", {\"properties\":\"cover-image\"});\n\t\t\treturn node ? node.getAttribute(\"href\") : \"\";\n\t\t}\n\t}\n\n\t/**\n\t * Get text of a namespaced element\n\t * @private\n\t * @param  {node} xml\n\t * @param  {string} tag\n\t * @return {string} text\n\t */\n\tgetElementText(xml, tag){\n\t\tvar found = xml.getElementsByTagNameNS(\"http://purl.org/dc/elements/1.1/\", tag);\n\t\tvar el;\n\n\t\tif(!found || found.length === 0) return \"\";\n\n\t\tel = found[0];\n\n\t\tif(el.childNodes.length){\n\t\t\treturn el.childNodes[0].nodeValue;\n\t\t}\n\n\t\treturn \"\";\n\n\t}\n\n\t/**\n\t * Get text by property\n\t * @private\n\t * @param  {node} xml\n\t * @param  {string} property\n\t * @return {string} text\n\t */\n\tgetPropertyText(xml, property){\n\t\tvar el = qsp(xml, \"meta\", {\"property\":property});\n\n\t\tif(el && el.childNodes.length){\n\t\t\treturn el.childNodes[0].nodeValue;\n\t\t}\n\n\t\treturn \"\";\n\t}\n\n\t/**\n\t * Load JSON Manifest\n\t * @param  {document} packageDocument OPF XML\n\t * @return {object} parsed package parts\n\t */\n\tload(json) {\n\t\tthis.metadata = json.metadata;\n\n\t\tthis.spine = json.spine.map((item, index) =>{\n\t\t\titem.index = index;\n\t\t\treturn item;\n\t\t});\n\n\t\tjson.resources.forEach((item, index) => {\n\t\t\tthis.manifest[index] = item;\n\n\t\t\tif (item.rel && item.rel[0] === \"cover\") {\n\t\t\t\tthis.coverPath = item.href;\n\t\t\t}\n\t\t});\n\n\t\tthis.spineNodeIndex = 0;\n\n\t\tthis.toc = json.toc.map((item, index) =>{\n\t\t\titem.label = item.title;\n\t\t\treturn item;\n\t\t});\n\n\t\treturn {\n\t\t\t\"metadata\" : this.metadata,\n\t\t\t\"spine\"    : this.spine,\n\t\t\t\"manifest\" : this.manifest,\n\t\t\t\"navPath\"  : this.navPath,\n\t\t\t\"ncxPath\"  : this.ncxPath,\n\t\t\t\"coverPath\": this.coverPath,\n\t\t\t\"spineNodeIndex\" : this.spineNodeIndex,\n\t\t\t\"toc\" : this.toc\n\t\t};\n\t}\n\n\tdestroy() {\n\t\tthis.manifest = undefined;\n\t\tthis.navPath = undefined;\n\t\tthis.ncxPath = undefined;\n\t\tthis.coverPath = undefined;\n\t\tthis.spineNodeIndex = undefined;\n\t\tthis.spine = undefined;\n\t\tthis.metadata = undefined;\n\t}\n}\n\nexport default Packaging;\n","import {qs, qsa, querySelectorByType, filterChildren, getParentByTagName} from \"./utils/core\";\n\n/**\n * Navigation Parser\n * @param {document} xml navigation html / xhtml / ncx\n */\nclass Navigation {\n\tconstructor(xml) {\n\t\tthis.toc = [];\n\t\tthis.tocByHref = {};\n\t\tthis.tocById = {};\n\n\t\tthis.landmarks = [];\n\t\tthis.landmarksByType = {};\n\n\t\tthis.length = 0;\n\t\tif (xml) {\n\t\t\tthis.parse(xml);\n\t\t}\n\t}\n\n\t/**\n\t * Parse out the navigation items\n\t * @param {document} xml navigation html / xhtml / ncx\n\t */\n\tparse(xml) {\n\t\tlet isXml = xml.nodeType;\n\t\tlet html;\n\t\tlet ncx;\n\n\t\tif (isXml) {\n\t\t\thtml = qs(xml, \"html\");\n\t\t\tncx = qs(xml, \"ncx\");\n\t\t}\n\n\t\tif (!isXml) {\n\t\t\tthis.toc = this.load(xml);\n\t\t} else if(html) {\n\t\t\tthis.toc = this.parseNav(xml);\n\t\t\tthis.landmarks = this.parseLandmarks(xml);\n\t\t} else if(ncx){\n\t\t\tthis.toc = this.parseNcx(xml);\n\t\t}\n\n\t\tthis.length = 0;\n\n\t\tthis.unpack(this.toc);\n\t}\n\n\t/**\n\t * Unpack navigation items\n\t * @private\n\t * @param  {array} toc\n\t */\n\tunpack(toc) {\n\t\tvar item;\n\n\t\tfor (var i = 0; i < toc.length; i++) {\n\t\t\titem = toc[i];\n\n\t\t\tif (item.href) {\n\t\t\t\tthis.tocByHref[item.href] = i;\n\t\t\t}\n\n\t\t\tif (item.id) {\n\t\t\t\tthis.tocById[item.id] = i;\n\t\t\t}\n\n\t\t\tthis.length++;\n\n\t\t\tif (item.subitems.length) {\n\t\t\t\tthis.unpack(item.subitems);\n\t\t\t}\n\t\t}\n\n\t}\n\n\t/**\n\t * Get an item from the navigation\n\t * @param  {string} target\n\t * @return {object} navItem\n\t */\n\tget(target) {\n\t\tvar index;\n\n\t\tif(!target) {\n\t\t\treturn this.toc;\n\t\t}\n\n\t\tif(target.indexOf(\"#\") === 0) {\n\t\t\tindex = this.tocById[target.substring(1)];\n\t\t} else if(target in this.tocByHref){\n\t\t\tindex = this.tocByHref[target];\n\t\t}\n\n\t\treturn this.toc[index];\n\t}\n\n\t/**\n\t * Get a landmark by type\n\t * List of types: https://idpf.github.io/epub-vocabs/structure/\n\t * @param  {string} type\n\t * @return {object} landmarkItem\n\t */\n\tlandmark(type) {\n\t\tvar index;\n\n\t\tif(!type) {\n\t\t\treturn this.landmarks;\n\t\t}\n\n\t\tindex = this.landmarksByType[type];\n\n\t\treturn this.landmarks[index];\n\t}\n\n\t/**\n\t * Parse toc from a Epub > 3.0 Nav\n\t * @private\n\t * @param  {document} navHtml\n\t * @return {array} navigation list\n\t */\n\tparseNav(navHtml){\n\t\tvar navElement = querySelectorByType(navHtml, \"nav\", \"toc\");\n\t\tvar navItems = navElement ? qsa(navElement, \"li\") : [];\n\t\tvar length = navItems.length;\n\t\tvar i;\n\t\tvar toc = {};\n\t\tvar list = [];\n\t\tvar item, parent;\n\n\t\tif(!navItems || length === 0) return list;\n\n\t\tfor (i = 0; i < length; ++i) {\n\t\t\titem = this.navItem(navItems[i]);\n\t\t\tif (item) {\n\t\t\t\ttoc[item.id] = item;\n\t\t\t\tif(!item.parent) {\n\t\t\t\t\tlist.push(item);\n\t\t\t\t} else {\n\t\t\t\t\tparent = toc[item.parent];\n\t\t\t\t\tparent.subitems.push(item);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn list;\n\t}\n\n\t/**\n\t * Create a navItem\n\t * @private\n\t * @param  {element} item\n\t * @return {object} navItem\n\t */\n\tnavItem(item){\n\t\tlet id = item.getAttribute(\"id\") || undefined;\n\t\tlet content = filterChildren(item, \"a\", true);\n\n\t\tif (!content) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet src = content.getAttribute(\"href\") || \"\";\n\t\tlet text = content.textContent || \"\";\n\t\tlet subitems = [];\n\t\tlet parentItem = getParentByTagName(item, \"li\");\n\t\tlet parent;\n\n\t\tif (parentItem) {\n\t\t\tparent = parentItem.getAttribute(\"id\");\n\t\t}\n\n\t\twhile (!parent && parentItem) {\n\t\t\tparentItem = getParentByTagName(parentItem, \"li\");\n\t\t\tif (parentItem) {\n\t\t\t\tparent = parentItem.getAttribute(\"id\");\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\t\"id\": id,\n\t\t\t\"href\": src,\n\t\t\t\"label\": text,\n\t\t\t\"subitems\" : subitems,\n\t\t\t\"parent\" : parent\n\t\t};\n\t}\n\n\t/**\n\t * Parse landmarks from a Epub > 3.0 Nav\n\t * @private\n\t * @param  {document} navHtml\n\t * @return {array} landmarks list\n\t */\n\tparseLandmarks(navHtml){\n\t\tvar navElement = querySelectorByType(navHtml, \"nav\", \"landmarks\");\n\t\tvar navItems = navElement ? qsa(navElement, \"li\") : [];\n\t\tvar length = navItems.length;\n\t\tvar i;\n\t\tvar list = [];\n\t\tvar item;\n\n\t\tif(!navItems || length === 0) return list;\n\n\t\tfor (i = 0; i < length; ++i) {\n\t\t\titem = this.landmarkItem(navItems[i]);\n\t\t\tif (item) {\n\t\t\t\tlist.push(item);\n\t\t\t\tthis.landmarksByType[item.type] = i;\n\t\t\t}\n\t\t}\n\n\t\treturn list;\n\t}\n\n\t/**\n\t * Create a landmarkItem\n\t * @private\n\t * @param  {element} item\n\t * @return {object} landmarkItem\n\t */\n\tlandmarkItem(item){\n\t\tlet content = filterChildren(item, \"a\", true);\n\n\t\tif (!content) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet type = content.getAttributeNS(\"http://www.idpf.org/2007/ops\", \"type\") || undefined;\n\t\tlet href = content.getAttribute(\"href\") || \"\";\n\t\tlet text = content.textContent || \"\";\n\n\t\treturn {\n\t\t\t\"href\": href,\n\t\t\t\"label\": text,\n\t\t\t\"type\" : type\n\t\t};\n\t}\n\n\t/**\n\t * Parse from a Epub > 3.0 NC\n\t * @private\n\t * @param  {document} navHtml\n\t * @return {array} navigation list\n\t */\n\tparseNcx(tocXml){\n\t\tvar navPoints = qsa(tocXml, \"navPoint\");\n\t\tvar length = navPoints.length;\n\t\tvar i;\n\t\tvar toc = {};\n\t\tvar list = [];\n\t\tvar item, parent;\n\n\t\tif(!navPoints || length === 0) return list;\n\n\t\tfor (i = 0; i < length; ++i) {\n\t\t\titem = this.ncxItem(navPoints[i]);\n\t\t\ttoc[item.id] = item;\n\t\t\tif(!item.parent) {\n\t\t\t\tlist.push(item);\n\t\t\t} else {\n\t\t\t\tparent = toc[item.parent];\n\t\t\t\tparent.subitems.push(item);\n\t\t\t}\n\t\t}\n\n\t\treturn list;\n\t}\n\n\t/**\n\t * Create a ncxItem\n\t * @private\n\t * @param  {element} item\n\t * @return {object} ncxItem\n\t */\n\tncxItem(item){\n\t\tvar id = item.getAttribute(\"id\") || false,\n\t\t\t\tcontent = qs(item, \"content\"),\n\t\t\t\tsrc = content.getAttribute(\"src\"),\n\t\t\t\tnavLabel = qs(item, \"navLabel\"),\n\t\t\t\ttext = navLabel.textContent ? navLabel.textContent : \"\",\n\t\t\t\tsubitems = [],\n\t\t\t\tparentNode = item.parentNode,\n\t\t\t\tparent;\n\n\t\tif(parentNode && parentNode.nodeName === \"navPoint\") {\n\t\t\tparent = parentNode.getAttribute(\"id\");\n\t\t}\n\n\n\t\treturn {\n\t\t\t\"id\": id,\n\t\t\t\"href\": src,\n\t\t\t\"label\": text,\n\t\t\t\"subitems\" : subitems,\n\t\t\t\"parent\" : parent\n\t\t};\n\t}\n\n\t/**\n\t * Load Spine Items\n\t * @param  {object} json the items to be loaded\n\t * @return {Array} navItems\n\t */\n\tload(json) {\n\t\treturn json.map(item => {\n\t\t\titem.label = item.title;\n\t\t\titem.subitems = item.children ? this.load(item.children) : [];\n\t\t\treturn item;\n\t\t});\n\t}\n\n\t/**\n\t * forEach pass through\n\t * @param  {Function} fn function to run on each item\n\t * @return {method} forEach loop\n\t */\n\tforEach(fn) {\n\t\treturn this.toc.forEach(fn);\n\t}\n}\n\nexport default Navigation;\n","import {substitute} from \"./utils/replacements\";\nimport {createBase64Url, createBlobUrl, blob2base64} from \"./utils/core\";\nimport Url from \"./utils/url\";\nimport mime from \"../libs/mime/mime\";\nimport Path from \"./utils/path\";\nimport path from \"path-webpack\";\n\n/**\n * Handle Package Resources\n * @class\n * @param {Manifest} manifest\n * @param {object} [options]\n * @param {string} [options.replacements=\"base64\"]\n * @param {Archive} [options.archive]\n * @param {method} [options.resolver]\n */\nclass Resources {\n\tconstructor(manifest, options) {\n\t\tthis.settings = {\n\t\t\treplacements: (options && options.replacements) || \"base64\",\n\t\t\tarchive: (options && options.archive),\n\t\t\tresolver: (options && options.resolver),\n\t\t\trequest: (options && options.request)\n\t\t};\n\t\tthis.manifest = manifest;\n\t\tthis.resources = Object.keys(manifest).\n\t\t\tmap(function (key){\n\t\t\t\treturn manifest[key];\n\t\t\t});\n\n\t\tthis.replacementUrls = [];\n\n\t\tthis.html = [];\n\t\tthis.assets = [];\n\t\tthis.css = [];\n\n\t\tthis.urls = [];\n\t\tthis.cssUrls = [];\n\n\t\tthis.split();\n\t\tthis.splitUrls();\n\t}\n\n\t/**\n\t * Split resources by type\n\t * @private\n\t */\n\tsplit(){\n\n\t\t// HTML\n\t\tthis.html = this.resources.\n\t\t\tfilter(function (item){\n\t\t\t\tif (item.type === \"application/xhtml+xml\" ||\n\t\t\t\t\t\titem.type === \"text/html\") {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t// Exclude HTML\n\t\tthis.assets = this.resources.\n\t\t\tfilter(function (item){\n\t\t\t\tif (item.type !== \"application/xhtml+xml\" &&\n\t\t\t\t\t\titem.type !== \"text/html\") {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t// Only CSS\n\t\tthis.css = this.resources.\n\t\t\tfilter(function (item){\n\t\t\t\tif (item.type === \"text/css\") {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\t/**\n\t * Convert split resources into Urls\n\t * @private\n\t */\n\tsplitUrls(){\n\n\t\t// All Assets Urls\n\t\tthis.urls = this.assets.\n\t\t\tmap(function(item) {\n\t\t\t\treturn item.href;\n\t\t\t}.bind(this));\n\n\t\t// Css Urls\n\t\tthis.cssUrls = this.css.map(function(item) {\n\t\t\treturn item.href;\n\t\t});\n\n\t}\n\n\t/**\n\t * Create a url to a resource\n\t * @param {string} url\n\t * @return {Promise<string>} Promise resolves with url string\n\t */\n\tcreateUrl (url) {\n\t\tvar parsedUrl = new Url(url);\n\t\tvar mimeType = mime.lookup(parsedUrl.filename);\n\n\t\tif (this.settings.archive) {\n\t\t\treturn this.settings.archive.createUrl(url, {\"base64\": (this.settings.replacements === \"base64\")});\n\t\t} else {\n\t\t\tif (this.settings.replacements === \"base64\") {\n\t\t\t\treturn this.settings.request(url, 'blob')\n\t\t\t\t\t.then((blob) => {\n\t\t\t\t\t\treturn blob2base64(blob);\n\t\t\t\t\t})\n\t\t\t\t\t.then((blob) => {\n\t\t\t\t\t\treturn createBase64Url(blob, mimeType);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn this.settings.request(url, 'blob').then((blob) => {\n\t\t\t\t\treturn createBlobUrl(blob, mimeType);\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Create blob urls for all the assets\n\t * @return {Promise}         returns replacement urls\n\t */\n\treplacements(){\n\t\tif (this.settings.replacements === \"none\") {\n\t\t\treturn new Promise(function(resolve) {\n\t\t\t\tresolve(this.urls);\n\t\t\t}.bind(this));\n\t\t}\n\n\t\tvar replacements = this.urls.\n\t\t\tmap( (url) => {\n\t\t\t\tvar absolute = this.settings.resolver(url);\n\n\t\t\t\treturn this.createUrl(absolute).\n\t\t\t\t\tcatch((err) => {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t});\n\t\t\t});\n\n\t\treturn Promise.all(replacements)\n\t\t\t.then( (replacementUrls) => {\n\t\t\t\tthis.replacementUrls = replacementUrls.filter((url) => {\n\t\t\t\t\treturn (typeof(url) === \"string\");\n\t\t\t\t});\n\t\t\t\treturn replacementUrls;\n\t\t\t});\n\t}\n\n\t/**\n\t * Replace URLs in CSS resources\n\t * @private\n\t * @param  {Archive} [archive]\n\t * @param  {method} [resolver]\n\t * @return {Promise}\n\t */\n\treplaceCss(archive, resolver){\n\t\tvar replaced = [];\n\t\tarchive = archive || this.settings.archive;\n\t\tresolver = resolver || this.settings.resolver;\n\t\tthis.cssUrls.forEach(function(href) {\n\t\t\tvar replacement = this.createCssFile(href, archive, resolver)\n\t\t\t\t.then(function (replacementUrl) {\n\t\t\t\t\t// switch the url in the replacementUrls\n\t\t\t\t\tvar indexInUrls = this.urls.indexOf(href);\n\t\t\t\t\tif (indexInUrls > -1) {\n\t\t\t\t\t\tthis.replacementUrls[indexInUrls] = replacementUrl;\n\t\t\t\t\t}\n\t\t\t\t}.bind(this))\n\n\n\t\t\treplaced.push(replacement);\n\t\t}.bind(this));\n\t\treturn Promise.all(replaced);\n\t}\n\n\t/**\n\t * Create a new CSS file with the replaced URLs\n\t * @private\n\t * @param  {string} href the original css file\n\t * @return {Promise}  returns a BlobUrl to the new CSS file or a data url\n\t */\n\tcreateCssFile(href){\n\t\tvar newUrl;\n\n\t\tif (path.isAbsolute(href)) {\n\t\t\treturn new Promise(function(resolve){\n\t\t\t\tresolve();\n\t\t\t});\n\t\t}\n\n\t\tvar absolute = this.settings.resolver(href);\n\n\t\t// Get the text of the css file from the archive\n\t\tvar textResponse;\n\n\t\tif (this.settings.archive) {\n\t\t\ttextResponse = this.settings.archive.getText(absolute);\n\t\t} else {\n\t\t\ttextResponse = this.settings.request(absolute, \"text\");\n\t\t}\n\n\t\t// Get asset links relative to css file\n\t\tvar relUrls = this.urls.map( (assetHref) => {\n\t\t\tvar resolved = this.settings.resolver(assetHref);\n\t\t\tvar relative = new Path(absolute).relative(resolved);\n\n\t\t\treturn relative;\n\t\t});\n\n\t\tif (!textResponse) {\n\t\t\t// file not found, don't replace\n\t\t\treturn new Promise(function(resolve){\n\t\t\t\tresolve();\n\t\t\t});\n\t\t}\n\n\t\treturn textResponse.then( (text) => {\n\t\t\t// Replacements in the css text\n\t\t\ttext = substitute(text, relUrls, this.replacementUrls);\n\n\t\t\t// Get the new url\n\t\t\tif (this.settings.replacements === \"base64\") {\n\t\t\t\tnewUrl = createBase64Url(text, \"text/css\");\n\t\t\t} else {\n\t\t\t\tnewUrl = createBlobUrl(text, \"text/css\");\n\t\t\t}\n\n\t\t\treturn newUrl;\n\t\t}, (err) => {\n\t\t\t// handle response errors\n\t\t\treturn new Promise(function(resolve){\n\t\t\t\tresolve();\n\t\t\t});\n\t\t});\n\n\t}\n\n\t/**\n\t * Resolve all resources URLs relative to an absolute URL\n\t * @param  {string} absolute to be resolved to\n\t * @param  {resolver} [resolver]\n\t * @return {string[]} array with relative Urls\n\t */\n\trelativeTo(absolute, resolver){\n\t\tresolver = resolver || this.settings.resolver;\n\n\t\t// Get Urls relative to current sections\n\t\treturn this.urls.\n\t\t\tmap(function(href) {\n\t\t\t\tvar resolved = resolver(href);\n\t\t\t\tvar relative = new Path(absolute).relative(resolved);\n\t\t\t\treturn relative;\n\t\t\t}.bind(this));\n\t}\n\n\t/**\n\t * Get a URL for a resource\n\t * @param  {string} path\n\t * @return {string} url\n\t */\n\tget(path) {\n\t\tvar indexInUrls = this.urls.indexOf(path);\n\t\tif (indexInUrls === -1) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.replacementUrls.length) {\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tresolve(this.replacementUrls[indexInUrls]);\n\t\t\t}.bind(this));\n\t\t} else {\n\t\t\treturn this.createUrl(path);\n\t\t}\n\t}\n\n\t/**\n\t * Substitute urls in content, with replacements,\n\t * relative to a url if provided\n\t * @param  {string} content\n\t * @param  {string} [url]   url to resolve to\n\t * @return {string}         content with urls substituted\n\t */\n\tsubstitute(content, url) {\n\t\tvar relUrls;\n\t\tif (url) {\n\t\t\trelUrls = this.relativeTo(url);\n\t\t} else {\n\t\t\trelUrls = this.urls;\n\t\t}\n\t\treturn substitute(content, relUrls, this.replacementUrls);\n\t}\n\n\tdestroy() {\n\t\tthis.settings = undefined;\n\t\tthis.manifest = undefined;\n\t\tthis.resources = undefined;\n\t\tthis.replacementUrls = undefined;\n\t\tthis.html = undefined;\n\t\tthis.assets = undefined;\n\t\tthis.css = undefined;\n\n\t\tthis.urls = undefined;\n\t\tthis.cssUrls = undefined;\n\t}\n}\n\nexport default Resources;\n","import EpubCFI from \"./epubcfi\";\nimport {\n\tqs,\n\tqsa,\n\tquerySelectorByType,\n\tindexOfSorted,\n\tlocationOf\n} from \"./utils/core\";\n\n/**\n * Page List Parser\n * @param {document} [xml]\n */\nclass PageList {\n\tconstructor(xml) {\n\t\tthis.pages = [];\n\t\tthis.locations = [];\n\t\tthis.epubcfi = new EpubCFI();\n\n\t\tthis.firstPage = 0;\n\t\tthis.lastPage = 0;\n\t\tthis.totalPages = 0;\n\n\t\tthis.toc = undefined;\n\t\tthis.ncx = undefined;\n\n\t\tif (xml) {\n\t\t\tthis.pageList = this.parse(xml);\n\t\t}\n\n\t\tif(this.pageList && this.pageList.length) {\n\t\t\tthis.process(this.pageList);\n\t\t}\n\t}\n\n\t/**\n\t * Parse PageList Xml\n\t * @param  {document} xml\n\t */\n\tparse(xml) {\n\t\tvar html = qs(xml, \"html\");\n\t\tvar ncx = qs(xml, \"ncx\");\n\n\t\tif(html) {\n\t\t\treturn this.parseNav(xml);\n\t\t} else if(ncx){ // Not supported\n\t\t\t// return this.parseNcx(xml);\n\t\t\treturn;\n\t\t}\n\n\t}\n\n\t/**\n\t * Parse a Nav PageList\n\t * @private\n\t * @param  {node} navHtml\n\t * @return {PageList.item[]} list\n\t */\n\tparseNav(navHtml){\n\t\tvar navElement = querySelectorByType(navHtml, \"nav\", \"page-list\");\n\t\tvar navItems = navElement ? qsa(navElement, \"li\") : [];\n\t\tvar length = navItems.length;\n\t\tvar i;\n\t\tvar list = [];\n\t\tvar item;\n\n\t\tif(!navItems || length === 0) return list;\n\n\t\tfor (i = 0; i < length; ++i) {\n\t\t\titem = this.item(navItems[i]);\n\t\t\tlist.push(item);\n\t\t}\n\n\t\treturn list;\n\t}\n\n\t/**\n\t * Page List Item\n\t * @private\n\t * @param  {node} item\n\t * @return {object} pageListItem\n\t */\n\titem(item){\n\t\tvar content = qs(item, \"a\"),\n\t\t\t\thref = content.getAttribute(\"href\") || \"\",\n\t\t\t\ttext = content.textContent || \"\",\n\t\t\t\tpage = parseInt(text),\n\t\t\t\tisCfi = href.indexOf(\"epubcfi\"),\n\t\t\t\tsplit,\n\t\t\t\tpackageUrl,\n\t\t\t\tcfi;\n\n\t\tif(isCfi != -1) {\n\t\t\tsplit = href.split(\"#\");\n\t\t\tpackageUrl = split[0];\n\t\t\tcfi = split.length > 1 ? split[1] : false;\n\t\t\treturn {\n\t\t\t\t\"cfi\" : cfi,\n\t\t\t\t\"href\" : href,\n\t\t\t\t\"packageUrl\" : packageUrl,\n\t\t\t\t\"page\" : page\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\t\"href\" : href,\n\t\t\t\t\"page\" : page\n\t\t\t};\n\t\t}\n\t}\n\n\t/**\n\t * Process pageList items\n\t * @private\n\t * @param  {array} pageList\n\t */\n\tprocess(pageList){\n\t\tpageList.forEach(function(item){\n\t\t\tthis.pages.push(item.page);\n\t\t\tif (item.cfi) {\n\t\t\t\tthis.locations.push(item.cfi);\n\t\t\t}\n\t\t}, this);\n\t\tthis.firstPage = parseInt(this.pages[0]);\n\t\tthis.lastPage = parseInt(this.pages[this.pages.length-1]);\n\t\tthis.totalPages = this.lastPage - this.firstPage;\n\t}\n\n\t/**\n\t * Get a PageList result from a EpubCFI\n\t * @param  {string} cfi EpubCFI String\n\t * @return {number} page\n\t */\n\tpageFromCfi(cfi){\n\t\tvar pg = -1;\n\n\t\t// Check if the pageList has not been set yet\n\t\tif(this.locations.length === 0) {\n\t\t\treturn -1;\n\t\t}\n\n\t\t// TODO: check if CFI is valid?\n\n\t\t// check if the cfi is in the location list\n\t\t// var index = this.locations.indexOf(cfi);\n\t\tvar index = indexOfSorted(cfi, this.locations, this.epubcfi.compare);\n\t\tif(index != -1) {\n\t\t\tpg = this.pages[index];\n\t\t} else {\n\t\t\t// Otherwise add it to the list of locations\n\t\t\t// Insert it in the correct position in the locations page\n\t\t\t//index = EPUBJS.core.insert(cfi, this.locations, this.epubcfi.compare);\n\t\t\tindex = locationOf(cfi, this.locations, this.epubcfi.compare);\n\t\t\t// Get the page at the location just before the new one, or return the first\n\t\t\tpg = index-1 >= 0 ? this.pages[index-1] : this.pages[0];\n\t\t\tif(pg !== undefined) {\n\t\t\t\t// Add the new page in so that the locations and page array match up\n\t\t\t\t//this.pages.splice(index, 0, pg);\n\t\t\t} else {\n\t\t\t\tpg = -1;\n\t\t\t}\n\n\t\t}\n\t\treturn pg;\n\t}\n\n\t/**\n\t * Get an EpubCFI from a Page List Item\n\t * @param  {string | number} pg\n\t * @return {string} cfi\n\t */\n\tcfiFromPage(pg){\n\t\tvar cfi = -1;\n\t\t// check that pg is an int\n\t\tif(typeof pg != \"number\"){\n\t\t\tpg = parseInt(pg);\n\t\t}\n\n\t\t// check if the cfi is in the page list\n\t\t// Pages could be unsorted.\n\t\tvar index = this.pages.indexOf(pg);\n\t\tif(index != -1) {\n\t\t\tcfi = this.locations[index];\n\t\t}\n\t\t// TODO: handle pages not in the list\n\t\treturn cfi;\n\t}\n\n\t/**\n\t * Get a Page from Book percentage\n\t * @param  {number} percent\n\t * @return {number} page\n\t */\n\tpageFromPercentage(percent){\n\t\tvar pg = Math.round(this.totalPages * percent);\n\t\treturn pg;\n\t}\n\n\t/**\n\t * Returns a value between 0 - 1 corresponding to the location of a page\n\t * @param  {number} pg the page\n\t * @return {number} percentage\n\t */\n\tpercentageFromPage(pg){\n\t\tvar percentage = (pg - this.firstPage) / this.totalPages;\n\t\treturn Math.round(percentage * 1000) / 1000;\n\t}\n\n\t/**\n\t * Returns a value between 0 - 1 corresponding to the location of a cfi\n\t * @param  {string} cfi EpubCFI String\n\t * @return {number} percentage\n\t */\n\tpercentageFromCfi(cfi){\n\t\tvar pg = this.pageFromCfi(cfi);\n\t\tvar percentage = this.percentageFromPage(pg);\n\t\treturn percentage;\n\t}\n\n\t/**\n\t * Destroy\n\t */\n\tdestroy() {\n\t\tthis.pages = undefined;\n\t\tthis.locations = undefined;\n\t\tthis.epubcfi = undefined;\n\n\t\tthis.pageList = undefined;\n\n\t\tthis.toc = undefined;\n\t\tthis.ncx = undefined;\n\t}\n}\n\nexport default PageList;\n","import {defer, isXml, parse} from \"./utils/core\";\nimport request from \"./utils/request\";\nimport mime from \"../libs/mime/mime\";\nimport Path from \"./utils/path\";\n\n/**\n * Handles Unzipping a requesting files from an Epub Archive\n * @class\n */\nclass Archive {\n\n\tconstructor() {\n\t\tthis.zip = undefined;\n\t\tthis.urlCache = {};\n\n\t\tthis.checkRequirements();\n\n\t}\n\n\t/**\n\t * Checks to see if JSZip exists in global namspace,\n\t * Requires JSZip if it isn't there\n\t * @private\n\t */\n\tcheckRequirements(){\n\t\ttry {\n\t\t\tif (typeof JSZip === \"undefined\") {\n\t\t\t\tlet JSZip = require(\"jszip\");\n\t\t\t\tthis.zip = new JSZip();\n\t\t\t} else {\n\t\t\t\tthis.zip = new JSZip();\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tthrow new Error(\"JSZip lib not loaded\");\n\t\t}\n\t}\n\n\t/**\n\t * Open an archive\n\t * @param  {binary} input\n\t * @param  {boolean} [isBase64] tells JSZip if the input data is base64 encoded\n\t * @return {Promise} zipfile\n\t */\n\topen(input, isBase64){\n\t\treturn this.zip.loadAsync(input, {\"base64\": isBase64});\n\t}\n\n\t/**\n\t * Load and Open an archive\n\t * @param  {string} zipUrl\n\t * @param  {boolean} [isBase64] tells JSZip if the input data is base64 encoded\n\t * @return {Promise} zipfile\n\t */\n\topenUrl(zipUrl, isBase64){\n\t\treturn request(zipUrl, \"binary\")\n\t\t\t.then(function(data){\n\t\t\t\treturn this.zip.loadAsync(data, {\"base64\": isBase64});\n\t\t\t}.bind(this));\n\t}\n\n\t/**\n\t * Request a url from the archive\n\t * @param  {string} url  a url to request from the archive\n\t * @param  {string} [type] specify the type of the returned result\n\t * @return {Promise<Blob | string | JSON | Document | XMLDocument>}\n\t */\n\trequest(url, type){\n\t\tvar deferred = new defer();\n\t\tvar response;\n\t\tvar path = new Path(url);\n\n\t\t// If type isn't set, determine it from the file extension\n\t\tif(!type) {\n\t\t\ttype = path.extension;\n\t\t}\n\n\t\tif(type == \"blob\"){\n\t\t\tresponse = this.getBlob(url);\n\t\t} else {\n\t\t\tresponse = this.getText(url);\n\t\t}\n\n\t\tif (response) {\n\t\t\tresponse.then(function (r) {\n\t\t\t\tlet result = this.handleResponse(r, type);\n\t\t\t\tdeferred.resolve(result);\n\t\t\t}.bind(this));\n\t\t} else {\n\t\t\tdeferred.reject({\n\t\t\t\tmessage : \"File not found in the epub: \" + url,\n\t\t\t\tstack : new Error().stack\n\t\t\t});\n\t\t}\n\t\treturn deferred.promise;\n\t}\n\n\t/**\n\t * Handle the response from request\n\t * @private\n\t * @param  {any} response\n\t * @param  {string} [type]\n\t * @return {any} the parsed result\n\t */\n\thandleResponse(response, type){\n\t\tvar r;\n\n\t\tif(type == \"json\") {\n\t\t\tr = JSON.parse(response);\n\t\t}\n\t\telse\n\t\tif(isXml(type)) {\n\t\t\tr = parse(response, \"text/xml\");\n\t\t}\n\t\telse\n\t\tif(type == \"xhtml\") {\n\t\t\tr = parse(response, \"application/xhtml+xml\");\n\t\t}\n\t\telse\n\t\tif(type == \"html\" || type == \"htm\") {\n\t\t\tr = parse(response, \"text/html\");\n\t\t } else {\n\t\t\t r = response;\n\t\t }\n\n\t\treturn r;\n\t}\n\n\t/**\n\t * Get a Blob from Archive by Url\n\t * @param  {string} url\n\t * @param  {string} [mimeType]\n\t * @return {Blob}\n\t */\n\tgetBlob(url, mimeType){\n\t\tvar decodededUrl = window.decodeURIComponent(url.substr(1)); // Remove first slash\n\t\tvar entry = this.zip.file(decodededUrl);\n\n\t\tif(entry) {\n\t\t\tmimeType = mimeType || mime.lookup(entry.name);\n\t\t\treturn entry.async(\"uint8array\").then(function(uint8array) {\n\t\t\t\treturn new Blob([uint8array], {type : mimeType});\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Get Text from Archive by Url\n\t * @param  {string} url\n\t * @param  {string} [encoding]\n\t * @return {string}\n\t */\n\tgetText(url, encoding){\n\t\tvar decodededUrl = window.decodeURIComponent(url.substr(1)); // Remove first slash\n\t\tvar entry = this.zip.file(decodededUrl);\n\n\t\tif(entry) {\n\t\t\treturn entry.async(\"string\").then(function(text) {\n\t\t\t\treturn text;\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Get a base64 encoded result from Archive by Url\n\t * @param  {string} url\n\t * @param  {string} [mimeType]\n\t * @return {string} base64 encoded\n\t */\n\tgetBase64(url, mimeType){\n\t\tvar decodededUrl = window.decodeURIComponent(url.substr(1)); // Remove first slash\n\t\tvar entry = this.zip.file(decodededUrl);\n\n\t\tif(entry) {\n\t\t\tmimeType = mimeType || mime.lookup(entry.name);\n\t\t\treturn entry.async(\"base64\").then(function(data) {\n\t\t\t\treturn \"data:\" + mimeType + \";base64,\" + data;\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Create a Url from an unarchived item\n\t * @param  {string} url\n\t * @param  {object} [options.base64] use base64 encoding or blob url\n\t * @return {Promise} url promise with Url string\n\t */\n\tcreateUrl(url, options){\n\t\tvar deferred = new defer();\n\t\tvar _URL = window.URL || window.webkitURL || window.mozURL;\n\t\tvar tempUrl;\n\t\tvar response;\n\t\tvar useBase64 = options && options.base64;\n\n\t\tif(url in this.urlCache) {\n\t\t\tdeferred.resolve(this.urlCache[url]);\n\t\t\treturn deferred.promise;\n\t\t}\n\n\t\tif (useBase64) {\n\t\t\tresponse = this.getBase64(url);\n\n\t\t\tif (response) {\n\t\t\t\tresponse.then(function(tempUrl) {\n\n\t\t\t\t\tthis.urlCache[url] = tempUrl;\n\t\t\t\t\tdeferred.resolve(tempUrl);\n\n\t\t\t\t}.bind(this));\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tresponse = this.getBlob(url);\n\n\t\t\tif (response) {\n\t\t\t\tresponse.then(function(blob) {\n\n\t\t\t\t\ttempUrl = _URL.createObjectURL(blob);\n\t\t\t\t\tthis.urlCache[url] = tempUrl;\n\t\t\t\t\tdeferred.resolve(tempUrl);\n\n\t\t\t\t}.bind(this));\n\n\t\t\t}\n\t\t}\n\n\n\t\tif (!response) {\n\t\t\tdeferred.reject({\n\t\t\t\tmessage : \"File not found in the epub: \" + url,\n\t\t\t\tstack : new Error().stack\n\t\t\t});\n\t\t}\n\n\t\treturn deferred.promise;\n\t}\n\n\t/**\n\t * Revoke Temp Url for a achive item\n\t * @param  {string} url url of the item in the archive\n\t */\n\trevokeUrl(url){\n\t\tvar _URL = window.URL || window.webkitURL || window.mozURL;\n\t\tvar fromCache = this.urlCache[url];\n\t\tif(fromCache) _URL.revokeObjectURL(fromCache);\n\t}\n\n\tdestroy() {\n\t\tvar _URL = window.URL || window.webkitURL || window.mozURL;\n\t\tfor (let fromCache in this.urlCache) {\n\t\t\t_URL.revokeObjectURL(fromCache);\n\t\t}\n\t\tthis.zip = undefined;\n\t\tthis.urlCache = {};\n\t}\n}\n\nexport default Archive;\n","import EventEmitter from \"event-emitter\";\nimport {extend, defer} from \"./utils/core\";\nimport Url from \"./utils/url\";\nimport Path from \"./utils/path\";\nimport Spine from \"./spine\";\nimport Locations from \"./locations\";\nimport Container from \"./container\";\nimport Packaging from \"./packaging\";\nimport Navigation from \"./navigation\";\nimport Resources from \"./resources\";\nimport PageList from \"./pagelist\";\nimport Rendition from \"./rendition\";\nimport Archive from \"./archive\";\nimport request from \"./utils/request\";\nimport EpubCFI from \"./epubcfi\";\nimport { EPUBJS_VERSION, EVENTS } from \"./utils/constants\";\n\nconst CONTAINER_PATH = \"META-INF/container.xml\";\n\nconst INPUT_TYPE = {\n\tBINARY: \"binary\",\n\tBASE64: \"base64\",\n\tEPUB: \"epub\",\n\tOPF: \"opf\",\n\tMANIFEST: \"json\",\n\tDIRECTORY: \"directory\"\n};\n\n/**\n * An Epub representation with methods for the loading, parsing and manipulation\n * of its contents.\n * @class\n * @param {string} [url]\n * @param {object} [options]\n * @param {method} [options.requestMethod] a request function to use instead of the default\n * @param {boolean} [options.requestCredentials=undefined] send the xhr request withCredentials\n * @param {object} [options.requestHeaders=undefined] send the xhr request headers\n * @param {string} [options.encoding=binary] optional to pass 'binary' or base64' for archived Epubs\n * @param {string} [options.replacements=none] use base64, blobUrl, or none for replacing assets in archived Epubs\n * @param {method} [options.canonical] optional function to determine canonical urls for a path\n * @param {string} [options.openAs] optional string to determine the input type\n * @returns {Book}\n * @example new Book(\"/path/to/book.epub\", {})\n * @example new Book({ replacements: \"blobUrl\" })\n */\nclass Book {\n\tconstructor(url, options) {\n\t\t// Allow passing just options to the Book\n\t\tif (typeof(options) === \"undefined\" &&\n\t\t\t  typeof(url) !== \"string\" &&\n\t\t    url instanceof Blob === false) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\tthis.settings = extend(this.settings || {}, {\n\t\t\trequestMethod: undefined,\n\t\t\trequestCredentials: undefined,\n\t\t\trequestHeaders: undefined,\n\t\t\tencoding: undefined,\n\t\t\treplacements: undefined,\n\t\t\tcanonical: undefined,\n\t\t\topenAs: undefined\n\t\t});\n\n\t\textend(this.settings, options);\n\n\n\t\t// Promises\n\t\tthis.opening = new defer();\n\t\t/**\n\t\t * @member {promise} opened returns after the book is loaded\n\t\t * @memberof Book\n\t\t */\n\t\tthis.opened = this.opening.promise;\n\t\tthis.isOpen = false;\n\n\t\tthis.loading = {\n\t\t\tmanifest: new defer(),\n\t\t\tspine: new defer(),\n\t\t\tmetadata: new defer(),\n\t\t\tcover: new defer(),\n\t\t\tnavigation: new defer(),\n\t\t\tpageList: new defer(),\n\t\t\tresources: new defer()\n\t\t};\n\n\t\tthis.loaded = {\n\t\t\tmanifest: this.loading.manifest.promise,\n\t\t\tspine: this.loading.spine.promise,\n\t\t\tmetadata: this.loading.metadata.promise,\n\t\t\tcover: this.loading.cover.promise,\n\t\t\tnavigation: this.loading.navigation.promise,\n\t\t\tpageList: this.loading.pageList.promise,\n\t\t\tresources: this.loading.resources.promise\n\t\t};\n\n\t\t/**\n\t\t * @member {promise} ready returns after the book is loaded and parsed\n\t\t * @memberof Book\n\t\t * @private\n\t\t */\n\t\tthis.ready = Promise.all([\n\t\t\tthis.loaded.manifest,\n\t\t\tthis.loaded.spine,\n\t\t\tthis.loaded.metadata,\n\t\t\tthis.loaded.cover,\n\t\t\tthis.loaded.navigation,\n\t\t\tthis.loaded.resources\n\t\t]);\n\n\n\t\t// Queue for methods used before opening\n\t\tthis.isRendered = false;\n\t\t// this._q = queue(this);\n\n\t\t/**\n\t\t * @member {method} request\n\t\t * @memberof Book\n\t\t * @private\n\t\t */\n\t\tthis.request = this.settings.requestMethod || request;\n\n\t\t/**\n\t\t * @member {Spine} spine\n\t\t * @memberof Book\n\t\t */\n\t\tthis.spine = new Spine();\n\n\t\t/**\n\t\t * @member {Locations} locations\n\t\t * @memberof Book\n\t\t */\n\t\tthis.locations = new Locations(this.spine, this.load.bind(this));\n\n\t\t/**\n\t\t * @member {Navigation} navigation\n\t\t * @memberof Book\n\t\t */\n\t\tthis.navigation = undefined;\n\n\t\t/**\n\t\t * @member {PageList} pagelist\n\t\t * @memberof Book\n\t\t */\n\t\tthis.pageList = undefined;\n\n\t\t/**\n\t\t * @member {Url} url\n\t\t * @memberof Book\n\t\t * @private\n\t\t */\n\t\tthis.url = undefined;\n\n\t\t/**\n\t\t * @member {Path} path\n\t\t * @memberof Book\n\t\t * @private\n\t\t */\n\t\tthis.path = undefined;\n\n\t\t/**\n\t\t * @member {boolean} archived\n\t\t * @memberof Book\n\t\t * @private\n\t\t */\n\t\tthis.archived = false;\n\n\t\t/**\n\t\t * @member {Archive} archive\n\t\t * @memberof Book\n\t\t * @private\n\t\t */\n\t\tthis.archive = undefined;\n\n\t\t/**\n\t\t * @member {Resources} resources\n\t\t * @memberof Book\n\t\t * @private\n\t\t */\n\t\tthis.resources = undefined;\n\n\t\t/**\n\t\t * @member {Rendition} rendition\n\t\t * @memberof Book\n\t\t * @private\n\t\t */\n\t\tthis.rendition = undefined;\n\n\t\t/**\n\t\t * @member {Container} container\n\t\t * @memberof Book\n\t\t * @private\n\t\t */\n\t\tthis.container = undefined;\n\n\t\t/**\n\t\t * @member {Packaging} packaging\n\t\t * @memberof Book\n\t\t * @private\n\t\t */\n\t\tthis.packaging = undefined;\n\n\t\t// this.toc = undefined;\n\n\t\tif(url) {\n\t\t\tthis.open(url, this.settings.openAs).catch((error) => {\n\t\t\t\tvar err = new Error(\"Cannot load book at \"+ url );\n\t\t\t\tthis.emit(EVENTS.BOOK.OPEN_FAILED, err);\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Open a epub or url\n\t * @param {string | ArrayBuffer} input Url, Path or ArrayBuffer\n\t * @param {string} [what=\"binary\", \"base64\", \"epub\", \"opf\", \"json\", \"directory\"] force opening as a certain type\n\t * @returns {Promise} of when the book has been loaded\n\t * @example book.open(\"/path/to/book.epub\")\n\t */\n\topen(input, what) {\n\t\tvar opening;\n\t\tvar type = what || this.determineType(input);\n\n\t\tif (type === INPUT_TYPE.BINARY) {\n\t\t\tthis.archived = true;\n\t\t\tthis.url = new Url(\"/\", \"\");\n\t\t\topening = this.openEpub(input);\n\t\t} else if (type === INPUT_TYPE.BASE64) {\n\t\t\tthis.archived = true;\n\t\t\tthis.url = new Url(\"/\", \"\");\n\t\t\topening = this.openEpub(input, type);\n\t\t} else if (type === INPUT_TYPE.EPUB) {\n\t\t\tthis.archived = true;\n\t\t\tthis.url = new Url(\"/\", \"\");\n\t\t\topening = this.request(input, \"binary\",this.settings.requestCredentials)\n\t\t\t\t.then(this.openEpub.bind(this));\n\t\t} else if(type == INPUT_TYPE.OPF) {\n\t\t\tthis.url = new Url(input);\n\t\t\topening = this.openPackaging(this.url.Path.toString());\n\t\t} else if(type == INPUT_TYPE.MANIFEST) {\n\t\t\tthis.url = new Url(input);\n\t\t\topening = this.openManifest(this.url.Path.toString());\n\t\t} else {\n\t\t\tthis.url = new Url(input);\n\t\t\topening = this.openContainer(CONTAINER_PATH)\n\t\t\t\t.then(this.openPackaging.bind(this));\n\t\t}\n\n\t\treturn opening;\n\t}\n\n\t/**\n\t * Open an archived epub\n\t * @private\n\t * @param  {binary} data\n\t * @param  {string} [encoding]\n\t * @return {Promise}\n\t */\n\topenEpub(data, encoding) {\n\t\treturn this.unarchive(data, encoding || this.settings.encoding)\n\t\t\t.then(() => {\n\t\t\t\treturn this.openContainer(CONTAINER_PATH);\n\t\t\t})\n\t\t\t.then((packagePath) => {\n\t\t\t\treturn this.openPackaging(packagePath);\n\t\t\t});\n\t}\n\n\t/**\n\t * Open the epub container\n\t * @private\n\t * @param  {string} url\n\t * @return {string} packagePath\n\t */\n\topenContainer(url) {\n\t\treturn this.load(url)\n\t\t\t.then((xml) => {\n\t\t\t\tthis.container = new Container(xml);\n\t\t\t\treturn this.resolve(this.container.packagePath);\n\t\t\t});\n\t}\n\n\t/**\n\t * Open the Open Packaging Format Xml\n\t * @private\n\t * @param  {string} url\n\t * @return {Promise}\n\t */\n\topenPackaging(url) {\n\t\tthis.path = new Path(url);\n\t\treturn this.load(url)\n\t\t\t.then((xml) => {\n\t\t\t\tthis.packaging = new Packaging(xml);\n\t\t\t\treturn this.unpack(this.packaging);\n\t\t\t});\n\t}\n\n\t/**\n\t * Open the manifest JSON\n\t * @private\n\t * @param  {string} url\n\t * @return {Promise}\n\t */\n\topenManifest(url) {\n\t\tthis.path = new Path(url);\n\t\treturn this.load(url)\n\t\t\t.then((json) => {\n\t\t\t\tthis.packaging = new Packaging();\n\t\t\t\tthis.packaging.load(json);\n\t\t\t\treturn this.unpack(this.packaging);\n\t\t\t});\n\t}\n\n\t/**\n\t * Load a resource from the Book\n\t * @param  {string} path path to the resource to load\n\t * @return {Promise}     returns a promise with the requested resource\n\t */\n\tload(path) {\n\t\tvar resolved;\n\n\t\tif(this.archived) {\n\t\t\tresolved = this.resolve(path);\n\t\t\treturn this.archive.request(resolved);\n\t\t} else {\n\t\t\tresolved = this.resolve(path);\n\t\t\treturn this.request(resolved, null, this.settings.requestCredentials, this.settings.requestHeaders);\n\t\t}\n\t}\n\n\t/**\n\t * Resolve a path to it's absolute position in the Book\n\t * @param  {string} path\n\t * @param  {boolean} [absolute] force resolving the full URL\n\t * @return {string}          the resolved path string\n\t */\n\tresolve(path, absolute) {\n\t\tif (!path) {\n\t\t\treturn;\n\t\t}\n\t\tvar resolved = path;\n\t\tvar isAbsolute = (path.indexOf(\"://\") > -1);\n\n\t\tif (isAbsolute) {\n\t\t\treturn path;\n\t\t}\n\n\t\tif (this.path) {\n\t\t\tresolved = this.path.resolve(path);\n\t\t}\n\n\t\tif(absolute != false && this.url) {\n\t\t\tresolved = this.url.resolve(resolved);\n\t\t}\n\n\t\treturn resolved;\n\t}\n\n\t/**\n\t * Get a canonical link to a path\n\t * @param  {string} path\n\t * @return {string} the canonical path string\n\t */\n\tcanonical(path) {\n\t\tvar url = path;\n\n\t\tif (!path) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\tif (this.settings.canonical) {\n\t\t\turl = this.settings.canonical(path);\n\t\t} else {\n\t\t\turl = this.resolve(path, true);\n\t\t}\n\n\t\treturn url;\n\t}\n\n\t/**\n\t * Determine the type of they input passed to open\n\t * @private\n\t * @param  {string} input\n\t * @return {string}  binary | directory | epub | opf\n\t */\n\tdetermineType(input) {\n\t\tvar url;\n\t\tvar path;\n\t\tvar extension;\n\n\t\tif (this.settings.encoding === \"base64\") {\n\t\t\treturn INPUT_TYPE.BASE64;\n\t\t}\n\n\t\tif(typeof(input) != \"string\") {\n\t\t\treturn INPUT_TYPE.BINARY;\n\t\t}\n\n\t\turl = new Url(input);\n\t\tpath = url.path();\n\t\textension = path.extension;\n\n\t\tif (!extension) {\n\t\t\treturn INPUT_TYPE.DIRECTORY;\n\t\t}\n\n\t\tif(extension === \"epub\"){\n\t\t\treturn INPUT_TYPE.EPUB;\n\t\t}\n\n\t\tif(extension === \"opf\"){\n\t\t\treturn INPUT_TYPE.OPF;\n\t\t}\n\n\t\tif(extension === \"json\"){\n\t\t\treturn INPUT_TYPE.MANIFEST;\n\t\t}\n\t}\n\n\n\t/**\n\t * unpack the contents of the Books packageXml\n\t * @private\n\t * @param {document} packageXml XML Document\n\t */\n\tunpack(opf) {\n\t\tthis.package = opf;\n\n\t\tthis.spine.unpack(this.package, this.resolve.bind(this), this.canonical.bind(this));\n\n\t\tthis.resources = new Resources(this.package.manifest, {\n\t\t\tarchive: this.archive,\n\t\t\tresolver: this.resolve.bind(this),\n\t\t\trequest: this.request.bind(this),\n\t\t\treplacements: this.settings.replacements || (this.archived ? \"blobUrl\" : \"base64\")\n\t\t});\n\n\t\tthis.loadNavigation(this.package).then(() => {\n\t\t\t// this.toc = this.navigation.toc;\n\t\t\tthis.loading.navigation.resolve(this.navigation);\n\t\t});\n\n\t\tif (this.package.coverPath) {\n\t\t\tthis.cover = this.resolve(this.package.coverPath);\n\t\t}\n\t\t// Resolve promises\n\t\tthis.loading.manifest.resolve(this.package.manifest);\n\t\tthis.loading.metadata.resolve(this.package.metadata);\n\t\tthis.loading.spine.resolve(this.spine);\n\t\tthis.loading.cover.resolve(this.cover);\n\t\tthis.loading.resources.resolve(this.resources);\n\t\tthis.loading.pageList.resolve(this.pageList);\n\n\t\tthis.isOpen = true;\n\n\t\tif(this.archived || this.settings.replacements && this.settings.replacements != \"none\") {\n\t\t\tthis.replacements().then(() => {\n\t\t\t\tthis.opening.resolve(this);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(err);\n\t\t\t});\n\t\t} else {\n\t\t\t// Resolve book opened promise\n\t\t\tthis.opening.resolve(this);\n\t\t}\n\n\t}\n\n\t/**\n\t * Load Navigation and PageList from package\n\t * @private\n\t * @param {document} opf XML Document\n\t */\n\tloadNavigation(opf) {\n\t\tlet navPath = opf.navPath || opf.ncxPath;\n\t\tlet toc = opf.toc;\n\n\t\t// From json manifest\n\t\tif (toc) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tthis.navigation = new Navigation(toc);\n\n\t\t\t\tif (opf.pageList) {\n\t\t\t\t\tthis.pageList = new PageList(opf.pageList); // TODO: handle page lists from Manifest\n\t\t\t\t}\n\n\t\t\t\tresolve(this.navigation);\n\t\t\t});\n\t\t}\n\n\t\tif (!navPath) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tthis.navigation = new Navigation();\n\t\t\t\tthis.pageList = new PageList();\n\n\t\t\t\tresolve(this.navigation);\n\t\t\t});\n\t\t}\n\n\t\treturn this.load(navPath, \"xml\")\n\t\t\t.then((xml) => {\n\t\t\t\tthis.navigation = new Navigation(xml);\n\t\t\t\tthis.pageList = new PageList(xml);\n\t\t\t\treturn this.navigation;\n\t\t\t});\n\t}\n\n\t/**\n\t * Gets a Section of the Book from the Spine\n\t * Alias for `book.spine.get`\n\t * @param {string} target\n\t * @return {Section}\n\t */\n\tsection(target) {\n\t\treturn this.spine.get(target);\n\t}\n\n\t/**\n\t * Sugar to render a book to an element\n\t * @param  {element | string} element element or string to add a rendition to\n\t * @param  {object} [options]\n\t * @return {Rendition}\n\t */\n\trenderTo(element, options) {\n\t\tthis.rendition = new Rendition(this, options);\n\t\tthis.rendition.attachTo(element);\n\n\t\treturn this.rendition;\n\t}\n\n\t/**\n\t * Set if request should use withCredentials\n\t * @param {boolean} credentials\n\t */\n\tsetRequestCredentials(credentials) {\n\t\tthis.settings.requestCredentials = credentials;\n\t}\n\n\t/**\n\t * Set headers request should use\n\t * @param {object} headers\n\t */\n\tsetRequestHeaders(headers) {\n\t\tthis.settings.requestHeaders = headers;\n\t}\n\n\t/**\n\t * Unarchive a zipped epub\n\t * @private\n\t * @param  {binary} input epub data\n\t * @param  {string} [encoding]\n\t * @return {Archive}\n\t */\n\tunarchive(input, encoding) {\n\t\tthis.archive = new Archive();\n\t\treturn this.archive.open(input, encoding);\n\t}\n\n\t/**\n\t * Get the cover url\n\t * @return {string} coverUrl\n\t */\n\tcoverUrl() {\n\t\tvar retrieved = this.loaded.cover.\n\t\t\tthen((url) => {\n\t\t\t\tif(this.archived) {\n\t\t\t\t\t// return this.archive.createUrl(this.cover);\n\t\t\t\t\treturn this.resources.get(this.cover);\n\t\t\t\t}else{\n\t\t\t\t\treturn this.cover;\n\t\t\t\t}\n\t\t\t});\n\n\t\treturn retrieved;\n\t}\n\n\t/**\n\t * Load replacement urls\n\t * @private\n\t * @return {Promise} completed loading urls\n\t */\n\treplacements() {\n\t\tthis.spine.hooks.serialize.register((output, section) => {\n\t\t\tsection.output = this.resources.substitute(output, section.url);\n\t\t});\n\n\t\treturn this.resources.replacements().\n\t\t\tthen(() => {\n\t\t\t\treturn this.resources.replaceCss();\n\t\t\t});\n\t}\n\n\t/**\n\t * Find a DOM Range for a given CFI Range\n\t * @param  {EpubCFI} cfiRange a epub cfi range\n\t * @return {Range}\n\t */\n\tgetRange(cfiRange) {\n\t\tvar cfi = new EpubCFI(cfiRange);\n\t\tvar item = this.spine.get(cfi.spinePos);\n\t\tvar _request = this.load.bind(this);\n\t\tif (!item) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\treject(\"CFI could not be found\");\n\t\t\t});\n\t\t}\n\t\treturn item.load(_request).then(function (contents) {\n\t\t\tvar range = cfi.toRange(item.document);\n\t\t\treturn range;\n\t\t});\n\t}\n\n\t/**\n\t * Generates the Book Key using the identifer in the manifest or other string provided\n\t * @param  {string} [identifier] to use instead of metadata identifier\n\t * @return {string} key\n\t */\n\tkey(identifier) {\n\t\tvar ident = identifier || this.package.metadata.identifier || this.url.filename;\n\t\treturn `epubjs:${EPUBJS_VERSION}:${ident}`;\n\t}\n\n\t/**\n\t * Destroy the Book and all associated objects\n\t */\n\tdestroy() {\n\t\tthis.opened = undefined;\n\t\tthis.loading = undefined;\n\t\tthis.loaded = undefined;\n\t\tthis.ready = undefined;\n\n\t\tthis.isOpen = false;\n\t\tthis.isRendered = false;\n\n\t\tthis.spine && this.spine.destroy();\n\t\tthis.locations && this.locations.destroy();\n\t\tthis.pageList && this.pageList.destroy();\n\t\tthis.archive && this.archive.destroy();\n\t\tthis.resources && this.resources.destroy();\n\t\tthis.container && this.container.destroy();\n\t\tthis.packaging && this.packaging.destroy();\n\t\tthis.rendition && this.rendition.destroy();\n\n\t\tthis.spine = undefined;\n\t\tthis.locations = undefined;\n\t\tthis.pageList = undefined;\n\t\tthis.archive = undefined;\n\t\tthis.resources = undefined;\n\t\tthis.container = undefined;\n\t\tthis.packaging = undefined;\n\t\tthis.rendition = undefined;\n\n\t\tthis.navigation = undefined;\n\t\tthis.url = undefined;\n\t\tthis.path = undefined;\n\t\tthis.archived = false;\n\t}\n\n}\n\n//-- Enable binding events to book\nEventEmitter(Book.prototype);\n\nexport default Book;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Underline = exports.Highlight = exports.Mark = exports.Pane = undefined;\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _svg = require('./svg');\n\nvar _svg2 = _interopRequireDefault(_svg);\n\nvar _events = require('./events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Pane = exports.Pane = function () {\n    function Pane(target) {\n        var container = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document.body;\n\n        _classCallCheck(this, Pane);\n\n        this.target = target;\n        this.element = _svg2.default.createElement('svg');\n        this.marks = [];\n\n        // Match the coordinates of the target element\n        this.element.style.position = 'absolute';\n        // Disable pointer events\n        this.element.setAttribute('pointer-events', 'none');\n\n        // Set up mouse event proxying between the target element and the marks\n        _events2.default.proxyMouse(this.target, this.marks);\n\n        this.container = container;\n        this.container.appendChild(this.element);\n\n        this.render();\n    }\n\n    _createClass(Pane, [{\n        key: 'addMark',\n        value: function addMark(mark) {\n            var g = _svg2.default.createElement('g');\n            this.element.appendChild(g);\n            mark.bind(g, this.container);\n\n            this.marks.push(mark);\n\n            mark.render();\n            return mark;\n        }\n    }, {\n        key: 'removeMark',\n        value: function removeMark(mark) {\n            var idx = this.marks.indexOf(mark);\n            if (idx === -1) {\n                return;\n            }\n            var el = mark.unbind();\n            this.element.removeChild(el);\n            this.marks.splice(idx, 1);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            setCoords(this.element, coords(this.target, this.container));\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = this.marks[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var m = _step.value;\n\n                    m.render();\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n        }\n    }]);\n\n    return Pane;\n}();\n\nvar Mark = exports.Mark = function () {\n    function Mark() {\n        _classCallCheck(this, Mark);\n\n        this.element = null;\n    }\n\n    _createClass(Mark, [{\n        key: 'bind',\n        value: function bind(element, container) {\n            this.element = element;\n            this.container = container;\n        }\n    }, {\n        key: 'unbind',\n        value: function unbind() {\n            var el = this.element;\n            this.element = null;\n            return el;\n        }\n    }, {\n        key: 'render',\n        value: function render() {}\n    }, {\n        key: 'dispatchEvent',\n        value: function dispatchEvent(e) {\n            if (!this.element) return;\n            this.element.dispatchEvent(e);\n        }\n    }, {\n        key: 'getBoundingClientRect',\n        value: function getBoundingClientRect() {\n            return this.element.getBoundingClientRect();\n        }\n    }, {\n        key: 'getClientRects',\n        value: function getClientRects() {\n            var rects = [];\n            var el = this.element.firstChild;\n            while (el) {\n                rects.push(el.getBoundingClientRect());\n                el = el.nextSibling;\n            }\n            return rects;\n        }\n    }, {\n        key: 'filteredRanges',\n        value: function filteredRanges() {\n            var rects = Array.from(this.range.getClientRects());\n\n            // De-duplicate the boxes\n            return rects.filter(function (box) {\n                for (var i = 0; i < rects.length; i++) {\n                    if (rects[i] === box) {\n                        return true;\n                    }\n                    var contained = contains(rects[i], box);\n                    if (contained) {\n                        return false;\n                    }\n                }\n                return true;\n            });\n        }\n    }]);\n\n    return Mark;\n}();\n\nvar Highlight = exports.Highlight = function (_Mark) {\n    _inherits(Highlight, _Mark);\n\n    function Highlight(range, className, data, attributes) {\n        _classCallCheck(this, Highlight);\n\n        var _this = _possibleConstructorReturn(this, (Highlight.__proto__ || Object.getPrototypeOf(Highlight)).call(this));\n\n        _this.range = range;\n        _this.className = className;\n        _this.data = data || {};\n        _this.attributes = attributes || {};\n        return _this;\n    }\n\n    _createClass(Highlight, [{\n        key: 'bind',\n        value: function bind(element, container) {\n            _get(Highlight.prototype.__proto__ || Object.getPrototypeOf(Highlight.prototype), 'bind', this).call(this, element, container);\n\n            for (var attr in this.data) {\n                if (this.data.hasOwnProperty(attr)) {\n                    this.element.dataset[attr] = this.data[attr];\n                }\n            }\n\n            for (var attr in this.attributes) {\n                if (this.attributes.hasOwnProperty(attr)) {\n                    this.element.setAttribute(attr, this.attributes[attr]);\n                }\n            }\n\n            if (this.className) {\n                this.element.classList.add(this.className);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            // Empty element\n            while (this.element.firstChild) {\n                this.element.removeChild(this.element.firstChild);\n            }\n\n            var docFrag = this.element.ownerDocument.createDocumentFragment();\n            var filtered = this.filteredRanges();\n            var offset = this.element.getBoundingClientRect();\n            var container = this.container.getBoundingClientRect();\n\n            for (var i = 0, len = filtered.length; i < len; i++) {\n                var r = filtered[i];\n                var el = _svg2.default.createElement('rect');\n                el.setAttribute('x', r.left - offset.left + container.left);\n                el.setAttribute('y', r.top - offset.top + container.top);\n                el.setAttribute('height', r.height);\n                el.setAttribute('width', r.width);\n                docFrag.appendChild(el);\n            }\n\n            this.element.appendChild(docFrag);\n        }\n    }]);\n\n    return Highlight;\n}(Mark);\n\nvar Underline = exports.Underline = function (_Highlight) {\n    _inherits(Underline, _Highlight);\n\n    function Underline(range, className, data, attributes) {\n        _classCallCheck(this, Underline);\n\n        return _possibleConstructorReturn(this, (Underline.__proto__ || Object.getPrototypeOf(Underline)).call(this, range, className, data, attributes));\n    }\n\n    _createClass(Underline, [{\n        key: 'render',\n        value: function render() {\n            // Empty element\n            while (this.element.firstChild) {\n                this.element.removeChild(this.element.firstChild);\n            }\n\n            var docFrag = this.element.ownerDocument.createDocumentFragment();\n            var filtered = this.filteredRanges();\n            var offset = this.element.getBoundingClientRect();\n            var container = this.container.getBoundingClientRect();\n\n            for (var i = 0, len = filtered.length; i < len; i++) {\n                var r = filtered[i];\n\n                var rect = _svg2.default.createElement('rect');\n                rect.setAttribute('x', r.left - offset.left + container.left);\n                rect.setAttribute('y', r.top - offset.top + container.top);\n                rect.setAttribute('height', r.height);\n                rect.setAttribute('width', r.width);\n                rect.setAttribute('fill', 'none');\n\n                var line = _svg2.default.createElement('line');\n                line.setAttribute('x1', r.left - offset.left + container.left);\n                line.setAttribute('x2', r.left - offset.left + container.left + r.width);\n                line.setAttribute('y1', r.top - offset.top + container.top + r.height - 1);\n                line.setAttribute('y2', r.top - offset.top + container.top + r.height - 1);\n\n                line.setAttribute('stroke-width', 1);\n                line.setAttribute('stroke', 'black'); //TODO: match text color?\n                line.setAttribute('stroke-linecap', 'square');\n\n                docFrag.appendChild(rect);\n\n                docFrag.appendChild(line);\n            }\n\n            this.element.appendChild(docFrag);\n        }\n    }]);\n\n    return Underline;\n}(Highlight);\n\nfunction coords(el, container) {\n    var offset = container.getBoundingClientRect();\n    var rect = el.getBoundingClientRect();\n\n    return {\n        top: rect.top - offset.top,\n        left: rect.left - offset.left,\n        height: el.scrollHeight,\n        width: el.scrollWidth\n    };\n}\n\nfunction setCoords(el, coords) {\n    el.style.setProperty('top', coords.top + 'px', 'important');\n    el.style.setProperty('left', coords.left + 'px', 'important');\n    el.style.setProperty('height', coords.height + 'px', 'important');\n    el.style.setProperty('width', coords.width + 'px', 'important');\n}\n\nfunction contains(rect1, rect2) {\n    return rect2.right <= rect1.right && rect2.left >= rect1.left && rect2.top >= rect1.top && rect2.bottom <= rect1.bottom;\n}\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterReject }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_REJECT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_REJECT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterReject\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterReject` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterReject: createMethod(7)\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ebook\"},[_c('title-bar',{attrs:{\"isTitleAndMenuShow\":_vm.isTitleAndMenuShow}}),_c('div',{staticClass:\"read-wrapper\"},[_c('div',{attrs:{\"id\":\"read\"}}),_c('div',{staticClass:\"mask\"},[_c('div',{staticClass:\"left\",on:{\"click\":_vm.prePage}}),_c('div',{staticClass:\"center\",on:{\"click\":_vm.tiggleShowTitleAndMenu}}),_c('div',{staticClass:\"right\",on:{\"click\":_vm.nextPage}})])]),_c('menu-bar',{ref:\"menubar\",attrs:{\"isTitleAndMenuShow\":_vm.isTitleAndMenuShow,\"fontSizeList\":_vm.fontSizeList,\"defaultFontSize\":_vm.defaultFontSize,\"themeList\":_vm.themeList,\"defaultTheme\":_vm.defaultTheme,\"bookAvailable\":_vm.bookAvailable,\"navigation\":_vm.navigation},on:{\"setFontSize\":_vm.setFontSize,\"setTheme\":_vm.setTheme,\"onProgressChange\":_vm.onProgressChange,\"jumpTo\":_vm.jumpTo}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Book from \"./book\";\nimport EpubCFI from \"./epubcfi\";\nimport Rendition from \"./rendition\";\nimport Contents from \"./contents\";\nimport Layout from \"./layout\";\nimport ePub from \"./epub\";\n\nexport default ePub;\nexport {\n\tBook,\n\tEpubCFI,\n\tRendition,\n\tContents,\n\tLayout\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide-down\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isTitleAndMenuShow),expression:\"isTitleAndMenuShow\"}],staticClass:\"title-wrapper\"},[_c('div',{staticClass:\"left\"},[_c('span',{staticClass:\"icon-back icon\"})]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-cart icon\"})]),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-person icon\"})]),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-more icon\"})])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <transition name=\"slide-down\">\n      <div class=\"title-wrapper\"\n      v-show=\"isTitleAndMenuShow\">\n        <div class=\"left\">\n          <span class=\"icon-back icon\"></span>\n        </div>\n        <div class=\"right\">\n          <div class=\"icon-wrapper\">\n            <span class=\"icon-cart icon\"></span>\n          </div>\n          <div class=\"icon-wrapper\">\n            <span class=\"icon-person icon\"></span>\n          </div>\n          <div class=\"icon-wrapper\">\n            <span class=\"icon-more icon\"></span>\n          </div>\n        </div>\n      </div>\n    </transition>\n</template>\n\n<script>\n  export default {\n    name: 'TitleBar',\n    props: {\n      isTitleAndMenuShow: {\n        type: Boolean,\n        default: false\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../assets/styles/global.scss';\n.title-wrapper {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 1.306667rem;\n    display: flex;\n    z-index: 100;\n    background-color: #fff;\n    box-shadow: 0 .213333rem .213333rem rgba(0, 0, 0, .15);\n    .left {\n      width: 1.6rem;\n      @include center;\n    }\n    .right {\n      flex: 1;\n      display: flex;\n      justify-content: flex-end;\n      .icon-wrapper {\n        width: 1.066667rem;\n        @include center;\n      }\n    }\n  }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TitleBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TitleBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TitleBar.vue?vue&type=template&id=0727a918&scoped=true&\"\nimport script from \"./TitleBar.vue?vue&type=script&lang=js&\"\nexport * from \"./TitleBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TitleBar.vue?vue&type=style&index=0&id=0727a918&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0727a918\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('transition',{attrs:{\"name\":\"slide-up\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isTitleAndMenuShow),expression:\"isTitleAndMenuShow\"}],staticClass:\"menu-wrapper\",class:{'hide-box-shadow': _vm.isSettingShow || !_vm.isTitleAndMenuShow}},[_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-menu icon\",on:{\"click\":function($event){return _vm.showSetting(3)}}})]),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-progress icon\",on:{\"click\":function($event){return _vm.showSetting(2)}}})]),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-bright icon\",on:{\"click\":function($event){return _vm.showSetting(1)}}})]),_c('div',{staticClass:\"icon-wrapper\"},[_c('span',{staticClass:\"icon-a icon\",on:{\"click\":function($event){return _vm.showSetting(0)}}},[_vm._v(\"A\")])])])]),_c('transition',{attrs:{\"name\":\"slide-up\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSettingShow),expression:\"isSettingShow\"}],staticClass:\"setting-wrapper\"},[(_vm.showTag==0)?_c('div',{staticClass:\"setting-font-size\"},[_c('div',{staticClass:\"preview\",style:({fontSize: _vm.fontSizeList[0].fontSize+'px'})},[_vm._v(\"A\")]),_c('div',{staticClass:\"select\"},_vm._l((_vm.fontSizeList),function(item,index){return _c('div',{key:index,staticClass:\"select-wrapper\",on:{\"click\":function($event){return _vm.setFontSize(item.fontSize)}}},[_c('div',{staticClass:\"line\"}),_c('div',{staticClass:\"point-wrapper\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.defaultFontSize==item.fontSize),expression:\"defaultFontSize==item.fontSize\"}],staticClass:\"point\"},[_c('div',{staticClass:\"small-point\"})])]),_c('div',{staticClass:\"line\"})])}),0),_c('div',{staticClass:\"preview\",style:({fontSize: _vm.fontSizeList[_vm.fontSizeList.length-1].fontSize+'px'})},[_vm._v(\"A\")])]):(_vm.showTag==1)?_c('div',{staticClass:\"setting-theme\"},_vm._l((_vm.themeList),function(item,index){return _c('div',{key:index,staticClass:\"setting-theme-item\",on:{\"click\":function($event){return _vm.setTheme(index)}}},[_c('div',{staticClass:\"preview\",class:{'no-border': item.style.body.background!=='#fff'},style:({background: item.style.body.background})}),_c('div',{staticClass:\"text\",class:{'selected': _vm.defaultTheme==index}},[_vm._v(_vm._s(item.name))])])}),0):(_vm.showTag==2)?_c('div',{staticClass:\"setting-progress\"},[_c('div',{staticClass:\"progress-wrapper\"},[_c('input',{ref:\"progress\",staticClass:\"progress\",attrs:{\"type\":\"range\",\"max\":\"100\",\"min\":\"0\",\"step\":\"1\",\"disabled\":!_vm.bookAvailable},domProps:{\"value\":_vm.progress},on:{\"change\":function($event){return _vm.onProgressChange($event.target.value)},\"input\":function($event){return _vm.onProgressInput($event.target.value)}}})]),_c('div',{staticClass:\"text-wrapper\"},[_c('span',[_vm._v(_vm._s(_vm.bookAvailable ? _vm.progress + '%' : '...'))])])]):_vm._e()])]),_c('content-view',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showContent),expression:\"showContent\"}],attrs:{\"navigation\":_vm.navigation,\"bookAvailable\":_vm.bookAvailable},on:{\"jumpTo\":_vm.jumpTo}}),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showContent),expression:\"showContent\"}],staticClass:\"content-mask\",on:{\"click\":_vm.hideContent}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide-right\"}},[_c('div',{staticClass:\"content\"},[(_vm.bookAvailable)?_c('div',{staticClass:\"content-wrapper\"},_vm._l((_vm.navigation.toc),function(item,index){return _c('div',{key:index,staticClass:\"content-item\",on:{\"click\":function($event){return _vm.jumpTo(item.href)}}},[_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(item.label))])])}),0):_c('div',{staticClass:\"empty\"},[_vm._v(\"...\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <transition name=\"slide-right\">\n    <div class=\"content\">\n      <div class=\"content-wrapper\" v-if=\"bookAvailable\">\n        <div class=\"content-item\" v-for=\"(item, index) in navigation.toc\"\n        :key=\"index\"\n        @click=\"jumpTo(item.href)\">\n          <span class=\"text\">{{item.label}}</span>\n        </div>\n      </div>\n      <div class=\"empty\" v-else>...</div>\n    </div>\n  </transition>\n</template>\n\n<script>\n  export default {\n    name: 'Content',\n    props: {\n      navigation: Object,\n      bookAvailable: Boolean\n    },\n    methods: {\n      jumpTo(href) {\n        this.$emit('jumpTo', href)\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n.content {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 102;\n  width: 80%;\n  height: 100%;\n  background-color: #fff;\n  .content-wrapper {\n    width: 100%;\n    height: 100%;\n    .content-item {\n      padding: .533333rem .4rem;\n      border-bottom: .026667rem solid #f4f4f4;\n      .text {\n        font-size: .373333rem;\n        color: #333;\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Content.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Content.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Content.vue?vue&type=template&id=1743cea0&scoped=true&\"\nimport script from \"./Content.vue?vue&type=script&lang=js&\"\nexport * from \"./Content.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Content.vue?vue&type=style&index=0&id=1743cea0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1743cea0\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <transition name=\"slide-up\">\n      <div class=\"menu-wrapper\"\n        v-show=\"isTitleAndMenuShow\"\n        :class=\"{'hide-box-shadow': isSettingShow || !isTitleAndMenuShow}\">\n        <div class=\"icon-wrapper\">\n          <span class=\"icon-menu icon\" @click=\"showSetting(3)\"></span>\n        </div>\n        <div class=\"icon-wrapper\">\n          <span class=\"icon-progress icon\" @click=\"showSetting(2)\"></span>\n        </div>\n        <div class=\"icon-wrapper\">\n          <span class=\"icon-bright icon\" @click=\"showSetting(1)\"></span>\n        </div>\n        <div class=\"icon-wrapper\">\n          <span class=\"icon-a icon\" @click=\"showSetting(0)\">A</span>\n        </div>\n      </div>\n    </transition>\n\n    <transition name=\"slide-up\">\n      <div class=\"setting-wrapper\"\n      v-show=\"isSettingShow\">\n        <div class=\"setting-font-size\" v-if=\"showTag==0\">\n          <div class=\"preview\" :style=\"{fontSize: fontSizeList[0].fontSize+'px'}\">A</div>\n          <div class=\"select\">\n            <div class=\"select-wrapper\" \n            v-for=\"(item, index) in fontSizeList\" \n            :key=\"index\"\n            @click=\"setFontSize(item.fontSize)\">\n              <div class=\"line\"></div>\n              <div class=\"point-wrapper\">\n                <div class=\"point\"\n                v-show=\"defaultFontSize==item.fontSize\">\n                  <div class=\"small-point\"></div>\n                </div>\n              </div>\n              <div class=\"line\"></div>\n            </div>\n          </div>\n          <div class=\"preview\" :style=\"{fontSize: fontSizeList[fontSizeList.length-1].fontSize+'px'}\">A</div>          \n        </div>\n        <div class=\"setting-theme\" v-else-if=\"showTag==1\">\n          <div class=\"setting-theme-item\" v-for=\"(item, index) of themeList\" \n          :key=\"index\"\n          @click=\"setTheme(index)\">\n            <div class=\"preview\" :style=\"{background: item.style.body.background}\" \n            :class=\"{'no-border': item.style.body.background!=='#fff'}\"></div>\n            <div class=\"text\" :class=\"{'selected': defaultTheme==index}\">{{item.name}}</div>\n          </div>\n        </div>\n        <div class=\"setting-progress\" v-else-if=\"showTag==2\">\n          <div class=\"progress-wrapper\">\n            <input type=\"range\" class=\"progress\"\n                  max=\"100\"\n                  min=\"0\"\n                  step=\"1\"\n                  @change=\"onProgressChange($event.target.value)\"\n                  @input=\"onProgressInput($event.target.value)\"\n                  :value=\"progress\"\n                  :disabled=\"!bookAvailable\"\n                  ref=\"progress\"\n            >\n            <!-- input- -->\n            <!-- change- -->\n          </div>\n          <div class=\"text-wrapper\">\n            <span>{{bookAvailable ? progress + '%' : '...'}}</span>\n          </div>\n        </div>\n      </div>\n    </transition>\n\n    <content-view\n      :navigation='navigation'\n      :bookAvailable='bookAvailable'\n      v-show='showContent'\n      @jumpTo='jumpTo'\n      >\n    </content-view>\n\n    <transition name=\"fade\">\n      <div class=\"content-mask\"\n      v-show=\"showContent\"\n      @click=\"hideContent\"></div>\n    </transition>\n  </div>\n  \n</template>\n\n<script>\nimport ContentView from './Content'\n  export default {\n    name: 'MenuBar',\n    components: {\n      ContentView\n    },\n\n    props: {\n      isTitleAndMenuShow: {\n        type: Boolean,\n        default: false\n      },\n      fontSizeList: Array,\n      defaultFontSize: Number,\n      themeList: Array,\n      defaultTheme: Number,\n      bookAvailable: Boolean,\n      navigation: Object\n    },\n\n    data() {\n      return {\n        isSettingShow: false,\n        showTag: 0,\n        progress: 0,\n        showContent: false\n      }\n    },\n\n    methods: {\n      showSetting(tag) {\n        this.showTag = tag\n        // 3\n        if(tag==3)\n        {\n          this.isSettingShow = false\n          this.showContent = true\n        } else {\n          this.isSettingShow = true\n        }\n      },\n      setFontSize(fontSize) {\n        this.$emit('setFontSize', fontSize)\n      },\n      setTheme(index) {\n        this.$emit('setTheme', index)\n      },\n      // \n      onProgressInput(progress) {\n        this.progress = progress\n        this.$refs.progress.style.backgroundSize = `${this.progress}% 100%`\n      },\n      // \n      onProgressChange(progress) {\n        this.$emit('onProgressChange', progress)\n      },\n      jumpTo(href) {\n        this.$emit('jumpTo', href)\n      },\n      hideSetting() {\n        this.isSettingShow = false\n      },\n      hideContent() {\n        this.showContent = false\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../assets/styles/global.scss';\n.menu-wrapper {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 1.28rem;\n    display: flex;\n    z-index: 102;\n    background-color: #fff;\n    box-shadow: 0 -.213333rem .213333rem rgba(0, 0, 0, .15);\n    &.hide-box-shadow {\n      box-shadow: none;\n    }\n    .icon-wrapper {\n      flex: 1;\n      @include center;\n      .icon-progress {\n        font-size: .746667rem;\n      }\n      .icon-bright {\n        font-size: .64rem;\n      }\n    }\n  }\n\n.setting-wrapper {\n  position: absolute;\n  bottom: 1.28rem;\n  left: 0;\n  width: 100%;\n  height: 1.6rem;\n  background-color: #fff;\n  box-shadow: 0 -0.213333rem .213333rem rgba(0, 0, 0, .15);\n  z-index: 101;\n  .setting-font-size {\n    display: flex;\n    height: 100%;\n    .preview {\n      width: px2rem(40);\n      @include center;\n    }\n    .select {\n\n      flex: 1;\n      display: flex;\n      .select-wrapper {\n        flex: 1;\n        display: flex;\n        align-items: center;\n        // : select-wrapper\n        &:first-child {\n          .line {\n            &:first-child {\n              border-top: none;\n            }\n          }\n        }\n        &:last-child {\n          .line {\n            &:last-child {\n              border-top: none;\n            }\n          }\n        }\n        .line {\n          flex: 1;\n          height: 0;\n          border-top: px2rem(1) solid #ccc;\n        }\n        .point-wrapper {\n          position: relative;\n          flex: 0 0 0;\n          width: 0;\n          height: .186667rem;\n          border-left: .026667rem solid #ccc;\n          .point {\n            position: absolute;\n            top: -0.213333rem;\n            left: -0.266667rem;\n            width: .533333rem;\n            height: .533333rem;\n            border-radius: 50%;\n            background-color: #fff;\n            border: .026667rem solid #ccc;\n            box-shadow: 0 .106667rem .106667rem rgba(0, 0, 0, .15);\n            @include center;\n            .small-point {\n              width: .133333rem;\n              height: .133333rem;\n              background-color: #000;\n              border-radius: 50%;\n            }\n          }\n        }\n      }\n    }\n  }\n  .setting-theme {\n    height: 100%;\n    display: flex;\n    .setting-theme-item {\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      padding: .133333rem;\n      box-sizing: border-box;\n      .preview {\n        flex: 1;\n        border: 1px solid #ccc;\n        box-sizing: border-box;  //width\n        &.no-border {\n          border: none;\n        }\n      }\n      .text {\n        flex: 0 0 .8rem;\n        font-size: .373333rem;\n        color: #ccc;\n        @include center;\n        &.selected {\n          color: #333;\n        }\n      }\n    }\n  }\n  .setting-progress {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    .progress-wrapper {\n      width: 100%;\n      height: 100%;\n      @include center;\n      padding: 0 px2rem(30);\n      box-sizing: border-box;\n      .progress {\n        width: 100%;\n        -webkit-appearance: none;\n        // \n        height: px2rem(2);\n        // \n        background: -webkit-linear-gradient(#999, #999) no-repeat, #ddd;\n        background-size: 0 100%;\n        &:focus {\n          outline: none;\n        }\n        &::-webkit-slider-thumb {\n          -webkit-appearance: none;\n          height: px2rem(20);\n          width: px2rem(20);\n          border-radius: 50%;\n          background: white;\n          box-shadow: 0 4px 4px 0 rgba(0, 0, 0, .15);\n          border: px2rem(1) solid #ddd;\n        }\n      }\n    }\n    .text-wrapper {\n      position: absolute;\n      left: 0;\n      bottom: 0;\n      width: 100%;\n      color: #333;\n      font-size: px2rem(12);\n      text-align: center;\n    }\n  }\n}\n\n.content-mask {\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 101;\n  display: flex;\n  width: 100%;\n  height: 100%;\n  background: rgba(51, 51, 51, .8);\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MenuBar.vue?vue&type=template&id=021e05e6&scoped=true&\"\nimport script from \"./MenuBar.vue?vue&type=script&lang=js&\"\nexport * from \"./MenuBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MenuBar.vue?vue&type=style&index=0&id=021e05e6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"021e05e6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"ebook\">\n    <title-bar :isTitleAndMenuShow='isTitleAndMenuShow'/>\n\n    <div class=\"read-wrapper\">\n      <div id=\"read\"></div>\n      <div class=\"mask\">\n        <div class=\"left\" @click=\"prePage\"></div>\n        <div class=\"center\" @click=\"tiggleShowTitleAndMenu\"></div>\n        <div class=\"right\" @click=\"nextPage\"></div>\n      </div>\n    </div>\n\n    <menu-bar \n    :isTitleAndMenuShow='isTitleAndMenuShow'\n    :fontSizeList='fontSizeList'\n    :defaultFontSize='defaultFontSize'\n    @setFontSize='setFontSize'\n    :themeList='themeList'\n    :defaultTheme='defaultTheme'\n    @setTheme='setTheme'\n    :bookAvailable='bookAvailable'\n    @onProgressChange=\"onProgressChange\"\n    @jumpTo='jumpTo'\n    :navigation='navigation'\n    ref=\"menubar\">\n    </menu-bar>\n  </div>\n</template>\n\n<script>\nimport Epub from 'epubjs'  // epubjs\nconst DOWNLOAD_URL = '/books/three-bodies.epub' // \n\n// title  menu \nimport TitleBar from 'components/TitleBar'\nimport MenuBar from 'components/MenuBar'\n\nexport default {\n  // ES6 \n  name: 'Ebook',\n  components: {\n    TitleBar,\n    MenuBar\n  },\n  data() {\n    return {\n      isTitleAndMenuShow: false,  //\n      fontSizeList: [\n        { fontSize: 12},\n        { fontSize: 14},\n        { fontSize: 16},\n        { fontSize: 18},\n        { fontSize: 20},\n        { fontSize: 22},\n        { fontSize: 24}\n      ],  // \n      defaultFontSize: 16, // \n      themeList: [\n        {\n          name: \"default\",\n          style: {\n            body: {\n              'color': '#000', 'background':'#fff'\n            }\n          }\n        },\n        {\n          name: \"eye\",\n          style: {\n            body: {\n              'color': '#000', 'background':'#ceeaba'\n            }\n          }\n        },\n        {\n          name: \"night\",\n          style: {\n            body: {\n              'color': '#fff', 'background':'#000'\n            }\n          }\n        },\n        {\n          name: \"gold\",\n          style: {\n            body: {\n              'color': '#000', 'background':'rgb(241, 236, 226)'\n            }\n          }\n        },\n      ],     // \n      defaultTheme: 0,\n      bookAvailable: false, // \n      navigation: {},   // \n    }\n  },\n  methods: {\n    // \n    createEpub() {\n      // book\n      this.book = new Epub(DOWNLOAD_URL)\n      // Book.renderToRendition\n      this.rendition = this.book.renderTo('read', {\n        width: window.innerWidth,\n        height: window.innerHeight,\n        // IOS\n        method: 'default'\n        //epubjs....\n      })\n      //  Rendtion.display\n      this.rendition.display()\n      // theme\n      this.themes = this.rendition.themes\n      //\n      this.setFontSize(this.defaultFontSize)\n      //this.themes.register(name, style)  \n      //this.themes.select(name)     \n      this.registerTheme()\n      this.setTheme(this.defaultTheme)\n      //locations\n      //console.log(this.book.locations)\n      this.book.ready.then(() => {\n        this.navigation = this.book.navigation\n        return this.book.locations.generate()\n      }).then(result => {\n        this.locations = this.book.locations\n        // \n        this.bookAvailable = true\n        this.onProgressChange(0)\n      })\n    },\n\n    // \n    prePage() {\n      if(this.rendition) {\n        this.rendition.prev()\n      }\n    },\n\n    // \n    nextPage() {\n      if(this.rendition) {\n        this.rendition.next()\n      }\n    },\n\n    // \n    tiggleShowTitleAndMenu() {\n      this.isTitleAndMenuShow = !this.isTitleAndMenuShow\n      if(!this.isTitleAndMenuShow) {\n        this.$refs.menubar.isSettingShow = false\n      }\n    },\n\n    // ,epubjsapi...\n    setFontSize(fontSize) {\n      this.defaultFontSize = fontSize\n      if(this.themes) {\n        this.themes.fontSize(fontSize + 'px')\n      }\n    },\n\n    // \n    registerTheme() {\n      this.themeList.forEach(theme => {\n        this.themes.register(theme.name, theme.style)\n      })\n    },\n\n    // \n    setTheme(index) {\n      this.defaultTheme = index\n      this.themes.select(this.themeList[index].name)\n    },\n\n    // 0-100\n    onProgressChange(progress) {\n      const percentage = progress / 100\n      const location = percentage > 0 ? this.locations.cfiFromPercentage(percentage) : 0\n      this.rendition.display(location)\n    },\n\n    // \n    jumpTo(href) {\n      this.rendition.display(href)\n      this.hideTitleAndMenu()\n    },\n\n    // \n    hideTitleAndMenu() {\n      this.isTitleAndMenuShow = false\n      this.$refs.menubar.hideSetting()\n      this.$refs.menubar.hideContent()\n    }\n  },\n  mounted() {\n    // \n    this.createEpub()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../assets/styles/global.scss';\n// main.jsmixin -_-\n.ebook {\n  position: relative;\n  .read-wrapper {\n    .mask {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 99;\n      display: flex;\n      width: 100%;\n      height: 100%;\n      .left {\n        flex: 0 0 2.666667rem;\n      }\n      .center {\n        flex: 1;\n      }\n      .right {\n        flex: 0 0 2.666667rem;\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ebook.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ebook.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Ebook.vue?vue&type=template&id=3cef6e76&scoped=true&\"\nimport script from \"./Ebook.vue?vue&type=script&lang=js&\"\nexport * from \"./Ebook.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Ebook.vue?vue&type=style&index=0&id=3cef6e76&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3cef6e76\",\n  null\n  \n)\n\nexport default component.exports","/*!\n\nJSZip v3.7.1 - A JavaScript class for generating and reading zip files\n<http://stuartk.com/jszip>\n\n(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>\nDual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/master/LICENSE.markdown.\n\nJSZip uses the library pako released under the MIT license :\nhttps://github.com/nodeca/pako/blob/master/LICENSE\n*/\n\n!function(t){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).JSZip=t()}}(function(){return function s(a,o,h){function u(r,t){if(!o[r]){if(!a[r]){var e=\"function\"==typeof require&&require;if(!t&&e)return e(r,!0);if(l)return l(r,!0);var i=new Error(\"Cannot find module '\"+r+\"'\");throw i.code=\"MODULE_NOT_FOUND\",i}var n=o[r]={exports:{}};a[r][0].call(n.exports,function(t){var e=a[r][1][t];return u(e||t)},n,n.exports,s,a,o,h)}return o[r].exports}for(var l=\"function\"==typeof require&&require,t=0;t<h.length;t++)u(h[t]);return u}({1:[function(t,e,r){\"use strict\";var c=t(\"./utils\"),d=t(\"./support\"),p=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";r.encode=function(t){for(var e,r,i,n,s,a,o,h=[],u=0,l=t.length,f=l,d=\"string\"!==c.getTypeOf(t);u<t.length;)f=l-u,i=d?(e=t[u++],r=u<l?t[u++]:0,u<l?t[u++]:0):(e=t.charCodeAt(u++),r=u<l?t.charCodeAt(u++):0,u<l?t.charCodeAt(u++):0),n=e>>2,s=(3&e)<<4|r>>4,a=1<f?(15&r)<<2|i>>6:64,o=2<f?63&i:64,h.push(p.charAt(n)+p.charAt(s)+p.charAt(a)+p.charAt(o));return h.join(\"\")},r.decode=function(t){var e,r,i,n,s,a,o=0,h=0,u=\"data:\";if(t.substr(0,u.length)===u)throw new Error(\"Invalid base64 input, it looks like a data url.\");var l,f=3*(t=t.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\")).length/4;if(t.charAt(t.length-1)===p.charAt(64)&&f--,t.charAt(t.length-2)===p.charAt(64)&&f--,f%1!=0)throw new Error(\"Invalid base64 input, bad content length.\");for(l=d.uint8array?new Uint8Array(0|f):new Array(0|f);o<t.length;)e=p.indexOf(t.charAt(o++))<<2|(n=p.indexOf(t.charAt(o++)))>>4,r=(15&n)<<4|(s=p.indexOf(t.charAt(o++)))>>2,i=(3&s)<<6|(a=p.indexOf(t.charAt(o++))),l[h++]=e,64!==s&&(l[h++]=r),64!==a&&(l[h++]=i);return l}},{\"./support\":30,\"./utils\":32}],2:[function(t,e,r){\"use strict\";var i=t(\"./external\"),n=t(\"./stream/DataWorker\"),s=t(\"./stream/Crc32Probe\"),a=t(\"./stream/DataLengthProbe\");function o(t,e,r,i,n){this.compressedSize=t,this.uncompressedSize=e,this.crc32=r,this.compression=i,this.compressedContent=n}o.prototype={getContentWorker:function(){var t=new n(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a(\"data_length\")),e=this;return t.on(\"end\",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error(\"Bug : uncompressed data size mismatch\")}),t},getCompressedWorker:function(){return new n(i.Promise.resolve(this.compressedContent)).withStreamInfo(\"compressedSize\",this.compressedSize).withStreamInfo(\"uncompressedSize\",this.uncompressedSize).withStreamInfo(\"crc32\",this.crc32).withStreamInfo(\"compression\",this.compression)}},o.createWorkerFrom=function(t,e,r){return t.pipe(new s).pipe(new a(\"uncompressedSize\")).pipe(e.compressWorker(r)).pipe(new a(\"compressedSize\")).withStreamInfo(\"compression\",e)},e.exports=o},{\"./external\":6,\"./stream/Crc32Probe\":25,\"./stream/DataLengthProbe\":26,\"./stream/DataWorker\":27}],3:[function(t,e,r){\"use strict\";var i=t(\"./stream/GenericWorker\");r.STORE={magic:\"\\0\\0\",compressWorker:function(t){return new i(\"STORE compression\")},uncompressWorker:function(){return new i(\"STORE decompression\")}},r.DEFLATE=t(\"./flate\")},{\"./flate\":7,\"./stream/GenericWorker\":28}],4:[function(t,e,r){\"use strict\";var i=t(\"./utils\");var o=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?\"string\"!==i.getTypeOf(t)?function(t,e,r,i){var n=o,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^n[255&(t^e[a])];return-1^t}(0|e,t,t.length,0):function(t,e,r,i){var n=o,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^n[255&(t^e.charCodeAt(a))];return-1^t}(0|e,t,t.length,0):0}},{\"./utils\":32}],5:[function(t,e,r){\"use strict\";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,e,r){\"use strict\";var i=null;i=\"undefined\"!=typeof Promise?Promise:t(\"lie\"),e.exports={Promise:i}},{lie:37}],7:[function(t,e,r){\"use strict\";var i=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,n=t(\"pako\"),s=t(\"./utils\"),a=t(\"./stream/GenericWorker\"),o=i?\"uint8array\":\"array\";function h(t,e){a.call(this,\"FlateWorker/\"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}r.magic=\"\\b\\0\",s.inherits(h,a),h.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,t.data),!1)},h.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(t){return new h(\"Deflate\",t)},r.uncompressWorker=function(){return new h(\"Inflate\",{})}},{\"./stream/GenericWorker\":28,\"./utils\":32,pako:38}],8:[function(t,e,r){\"use strict\";function A(t,e){var r,i=\"\";for(r=0;r<e;r++)i+=String.fromCharCode(255&t),t>>>=8;return i}function i(t,e,r,i,n,s){var a,o,h=t.file,u=t.compression,l=s!==O.utf8encode,f=I.transformTo(\"string\",s(h.name)),d=I.transformTo(\"string\",O.utf8encode(h.name)),c=h.comment,p=I.transformTo(\"string\",s(c)),m=I.transformTo(\"string\",O.utf8encode(c)),_=d.length!==h.name.length,g=m.length!==c.length,b=\"\",v=\"\",y=\"\",w=h.dir,k=h.date,x={crc32:0,compressedSize:0,uncompressedSize:0};e&&!r||(x.crc32=t.crc32,x.compressedSize=t.compressedSize,x.uncompressedSize=t.uncompressedSize);var S=0;e&&(S|=8),l||!_&&!g||(S|=2048);var z=0,C=0;w&&(z|=16),\"UNIX\"===n?(C=798,z|=function(t,e){var r=t;return t||(r=e?16893:33204),(65535&r)<<16}(h.unixPermissions,w)):(C=20,z|=function(t){return 63&(t||0)}(h.dosPermissions)),a=k.getUTCHours(),a<<=6,a|=k.getUTCMinutes(),a<<=5,a|=k.getUTCSeconds()/2,o=k.getUTCFullYear()-1980,o<<=4,o|=k.getUTCMonth()+1,o<<=5,o|=k.getUTCDate(),_&&(v=A(1,1)+A(B(f),4)+d,b+=\"up\"+A(v.length,2)+v),g&&(y=A(1,1)+A(B(p),4)+m,b+=\"uc\"+A(y.length,2)+y);var E=\"\";return E+=\"\\n\\0\",E+=A(S,2),E+=u.magic,E+=A(a,2),E+=A(o,2),E+=A(x.crc32,4),E+=A(x.compressedSize,4),E+=A(x.uncompressedSize,4),E+=A(f.length,2),E+=A(b.length,2),{fileRecord:R.LOCAL_FILE_HEADER+E+f+b,dirRecord:R.CENTRAL_FILE_HEADER+A(C,2)+E+A(p.length,2)+\"\\0\\0\\0\\0\"+A(z,4)+A(i,4)+f+b+p}}var I=t(\"../utils\"),n=t(\"../stream/GenericWorker\"),O=t(\"../utf8\"),B=t(\"../crc32\"),R=t(\"../signature\");function s(t,e,r,i){n.call(this,\"ZipFileWorker\"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}I.inherits(s,n),s.prototype.push=function(t){var e=t.meta.percent||0,r=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,n.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-i-1))/r:100}}))},s.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var r=i(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},s.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,r=i(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),e)this.push({data:function(t){return R.DATA_DESCRIPTOR+A(t.crc32,4)+A(t.compressedSize,4)+A(t.uncompressedSize,4)}(t),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},s.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var r=this.bytesWritten-t,i=function(t,e,r,i,n){var s=I.transformTo(\"string\",n(i));return R.CENTRAL_DIRECTORY_END+\"\\0\\0\\0\\0\"+A(t,2)+A(t,2)+A(e,4)+A(r,4)+A(s.length,2)+s}(this.dirRecords.length,r,t,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},s.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},s.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on(\"data\",function(t){e.processChunk(t)}),t.on(\"end\",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on(\"error\",function(t){e.error(t)}),this},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},s.prototype.error=function(t){var e=this._sources;if(!n.prototype.error.call(this,t))return!1;for(var r=0;r<e.length;r++)try{e[r].error(t)}catch(t){}return!0},s.prototype.lock=function(){n.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=s},{\"../crc32\":4,\"../signature\":23,\"../stream/GenericWorker\":28,\"../utf8\":31,\"../utils\":32}],9:[function(t,e,r){\"use strict\";var u=t(\"../compressions\"),i=t(\"./ZipFileWorker\");r.generateWorker=function(t,a,e){var o=new i(a.streamFiles,e,a.platform,a.encodeFileName),h=0;try{t.forEach(function(t,e){h++;var r=function(t,e){var r=t||e,i=u[r];if(!i)throw new Error(r+\" is not a valid compression method !\");return i}(e.options.compression,a.compression),i=e.options.compressionOptions||a.compressionOptions||{},n=e.dir,s=e.date;e._compressWorker(r,i).withStreamInfo(\"file\",{name:t,dir:n,date:s,comment:e.comment||\"\",unixPermissions:e.unixPermissions,dosPermissions:e.dosPermissions}).pipe(o)}),o.entriesCount=h}catch(t){o.error(t)}return o}},{\"../compressions\":3,\"./ZipFileWorker\":8}],10:[function(t,e,r){\"use strict\";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error(\"The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.\");this.files=Object.create(null),this.comment=null,this.root=\"\",this.clone=function(){var t=new i;for(var e in this)\"function\"!=typeof this[e]&&(t[e]=this[e]);return t}}(i.prototype=t(\"./object\")).loadAsync=t(\"./load\"),i.support=t(\"./support\"),i.defaults=t(\"./defaults\"),i.version=\"3.7.1\",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=t(\"./external\"),e.exports=i},{\"./defaults\":5,\"./external\":6,\"./load\":11,\"./object\":15,\"./support\":30}],11:[function(t,e,r){\"use strict\";var i=t(\"./utils\"),n=t(\"./external\"),o=t(\"./utf8\"),h=t(\"./zipEntries\"),s=t(\"./stream/Crc32Probe\"),u=t(\"./nodejsUtils\");function l(i){return new n.Promise(function(t,e){var r=i.decompressed.getContentWorker().pipe(new s);r.on(\"error\",function(t){e(t)}).on(\"end\",function(){r.streamInfo.crc32!==i.decompressed.crc32?e(new Error(\"Corrupted zip : CRC32 mismatch\")):t()}).resume()})}e.exports=function(t,s){var a=this;return s=i.extend(s||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),u.isNode&&u.isStream(t)?n.Promise.reject(new Error(\"JSZip can't accept a stream when loading a zip file.\")):i.prepareContent(\"the loaded zip file\",t,!0,s.optimizedBinaryString,s.base64).then(function(t){var e=new h(s);return e.load(t),e}).then(function(t){var e=[n.Promise.resolve(t)],r=t.files;if(s.checkCRC32)for(var i=0;i<r.length;i++)e.push(l(r[i]));return n.Promise.all(e)}).then(function(t){for(var e=t.shift(),r=e.files,i=0;i<r.length;i++){var n=r[i];a.file(n.fileNameStr,n.decompressed,{binary:!0,optimizedBinaryString:!0,date:n.date,dir:n.dir,comment:n.fileCommentStr.length?n.fileCommentStr:null,unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions,createFolders:s.createFolders})}return e.zipComment.length&&(a.comment=e.zipComment),a})}},{\"./external\":6,\"./nodejsUtils\":14,\"./stream/Crc32Probe\":25,\"./utf8\":31,\"./utils\":32,\"./zipEntries\":33}],12:[function(t,e,r){\"use strict\";var i=t(\"../utils\"),n=t(\"../stream/GenericWorker\");function s(t,e){n.call(this,\"Nodejs stream input adapter for \"+t),this._upstreamEnded=!1,this._bindStream(e)}i.inherits(s,n),s.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on(\"data\",function(t){e.push({data:t,meta:{percent:0}})}).on(\"error\",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on(\"end\",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},s.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=s},{\"../stream/GenericWorker\":28,\"../utils\":32}],13:[function(t,e,r){\"use strict\";var n=t(\"readable-stream\").Readable;function i(t,e,r){n.call(this,e),this._helper=t;var i=this;t.on(\"data\",function(t,e){i.push(t)||i._helper.pause(),r&&r(e)}).on(\"error\",function(t){i.emit(\"error\",t)}).on(\"end\",function(){i.push(null)})}t(\"../utils\").inherits(i,n),i.prototype._read=function(){this._helper.resume()},e.exports=i},{\"../utils\":32,\"readable-stream\":16}],14:[function(t,e,r){\"use strict\";e.exports={isNode:\"undefined\"!=typeof Buffer,newBufferFrom:function(t,e){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(t,e);if(\"number\"==typeof t)throw new Error('The \"data\" argument must not be a number');return new Buffer(t,e)},allocBuffer:function(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&\"function\"==typeof t.on&&\"function\"==typeof t.pause&&\"function\"==typeof t.resume}}},{}],15:[function(t,e,r){\"use strict\";function s(t,e,r){var i,n=u.getTypeOf(e),s=u.extend(r||{},f);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),\"string\"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(t=g(t)),s.createFolders&&(i=_(t))&&b.call(this,i,!0);var a=\"string\"===n&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!a),(e instanceof d&&0===e.uncompressedSize||s.dir||!e||0===e.length)&&(s.base64=!1,s.binary=!0,e=\"\",s.compression=\"STORE\",n=\"string\");var o=null;o=e instanceof d||e instanceof l?e:p.isNode&&p.isStream(e)?new m(t,e):u.prepareContent(t,e,s.binary,s.optimizedBinaryString,s.base64);var h=new c(t,o,s);this.files[t]=h}var n=t(\"./utf8\"),u=t(\"./utils\"),l=t(\"./stream/GenericWorker\"),a=t(\"./stream/StreamHelper\"),f=t(\"./defaults\"),d=t(\"./compressedObject\"),c=t(\"./zipObject\"),o=t(\"./generate\"),p=t(\"./nodejsUtils\"),m=t(\"./nodejs/NodejsStreamInputAdapter\"),_=function(t){\"/\"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf(\"/\");return 0<e?t.substring(0,e):\"\"},g=function(t){return\"/\"!==t.slice(-1)&&(t+=\"/\"),t},b=function(t,e){return e=void 0!==e?e:f.createFolders,t=g(t),this.files[t]||s.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function h(t){return\"[object RegExp]\"===Object.prototype.toString.call(t)}var i={load:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},forEach:function(t){var e,r,i;for(e in this.files)i=this.files[e],(r=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(r,i)},filter:function(r){var i=[];return this.forEach(function(t,e){r(t,e)&&i.push(e)}),i},file:function(t,e,r){if(1!==arguments.length)return t=this.root+t,s.call(this,t,e,r),this;if(h(t)){var i=t;return this.filter(function(t,e){return!e.dir&&i.test(t)})}var n=this.files[this.root+t];return n&&!n.dir?n:null},folder:function(r){if(!r)return this;if(h(r))return this.filter(function(t,e){return e.dir&&r.test(t)});var t=this.root+r,e=b.call(this,t),i=this.clone();return i.root=e.name,i},remove:function(r){r=this.root+r;var t=this.files[r];if(t||(\"/\"!==r.slice(-1)&&(r+=\"/\"),t=this.files[r]),t&&!t.dir)delete this.files[r];else for(var e=this.filter(function(t,e){return e.name.slice(0,r.length)===r}),i=0;i<e.length;i++)delete this.files[e[i].name];return this},generate:function(t){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},generateInternalStream:function(t){var e,r={};try{if((r=u.extend(t||{},{streamFiles:!1,compression:\"STORE\",compressionOptions:null,type:\"\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:n.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),\"binarystring\"===r.type&&(r.type=\"string\"),!r.type)throw new Error(\"No output type specified.\");u.checkSupport(r.type),\"darwin\"!==r.platform&&\"freebsd\"!==r.platform&&\"linux\"!==r.platform&&\"sunos\"!==r.platform||(r.platform=\"UNIX\"),\"win32\"===r.platform&&(r.platform=\"DOS\");var i=r.comment||this.comment||\"\";e=o.generateWorker(this,r,i)}catch(t){(e=new l(\"error\")).error(t)}return new a(e,r.type||\"string\",r.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type=\"nodebuffer\"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=i},{\"./compressedObject\":2,\"./defaults\":5,\"./generate\":9,\"./nodejs/NodejsStreamInputAdapter\":12,\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31,\"./utils\":32,\"./zipObject\":35}],16:[function(t,e,r){e.exports=t(\"stream\")},{stream:void 0}],17:[function(t,e,r){\"use strict\";var i=t(\"./DataReader\");function n(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t(\"../utils\").inherits(n,i),n.prototype.byteAt=function(t){return this.data[this.zero+t]},n.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),r=t.charCodeAt(1),i=t.charCodeAt(2),n=t.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===e&&this.data[s+1]===r&&this.data[s+2]===i&&this.data[s+3]===n)return s-this.zero;return-1},n.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1),i=t.charCodeAt(2),n=t.charCodeAt(3),s=this.readData(4);return e===s[0]&&r===s[1]&&i===s[2]&&n===s[3]},n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{\"../utils\":32,\"./DataReader\":18}],18:[function(t,e,r){\"use strict\";var i=t(\"../utils\");function n(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+t+\"). Corrupted zip ?\")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,r=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)r=(r<<8)+this.byteAt(e);return this.index+=t,r},readString:function(t){return i.transformTo(\"string\",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=n},{\"../utils\":32}],19:[function(t,e,r){\"use strict\";var i=t(\"./Uint8ArrayReader\");function n(t){i.call(this,t)}t(\"../utils\").inherits(n,i),n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{\"../utils\":32,\"./Uint8ArrayReader\":21}],20:[function(t,e,r){\"use strict\";var i=t(\"./DataReader\");function n(t){i.call(this,t)}t(\"../utils\").inherits(n,i),n.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},n.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},n.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{\"../utils\":32,\"./DataReader\":18}],21:[function(t,e,r){\"use strict\";var i=t(\"./ArrayReader\");function n(t){i.call(this,t)}t(\"../utils\").inherits(n,i),n.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=n},{\"../utils\":32,\"./ArrayReader\":17}],22:[function(t,e,r){\"use strict\";var i=t(\"../utils\"),n=t(\"../support\"),s=t(\"./ArrayReader\"),a=t(\"./StringReader\"),o=t(\"./NodeBufferReader\"),h=t(\"./Uint8ArrayReader\");e.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),\"string\"!==e||n.uint8array?\"nodebuffer\"===e?new o(t):n.uint8array?new h(i.transformTo(\"uint8array\",t)):new s(i.transformTo(\"array\",t)):new a(t)}},{\"../support\":30,\"../utils\":32,\"./ArrayReader\":17,\"./NodeBufferReader\":19,\"./StringReader\":20,\"./Uint8ArrayReader\":21}],23:[function(t,e,r){\"use strict\";r.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",r.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",r.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",r.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",r.DATA_DESCRIPTOR=\"PK\u0007\\b\"},{}],24:[function(t,e,r){\"use strict\";var i=t(\"./GenericWorker\"),n=t(\"../utils\");function s(t){i.call(this,\"ConvertWorker to \"+t),this.destType=t}n.inherits(s,i),s.prototype.processChunk=function(t){this.push({data:n.transformTo(this.destType,t.data),meta:t.meta})},e.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],25:[function(t,e,r){\"use strict\";var i=t(\"./GenericWorker\"),n=t(\"../crc32\");function s(){i.call(this,\"Crc32Probe\"),this.withStreamInfo(\"crc32\",0)}t(\"../utils\").inherits(s,i),s.prototype.processChunk=function(t){this.streamInfo.crc32=n(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=s},{\"../crc32\":4,\"../utils\":32,\"./GenericWorker\":28}],26:[function(t,e,r){\"use strict\";var i=t(\"../utils\"),n=t(\"./GenericWorker\");function s(t){n.call(this,\"DataLengthProbe for \"+t),this.propName=t,this.withStreamInfo(t,0)}i.inherits(s,n),s.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}n.prototype.processChunk.call(this,t)},e.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],27:[function(t,e,r){\"use strict\";var i=t(\"../utils\"),n=t(\"./GenericWorker\");function s(t){n.call(this,\"DataWorker\");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=\"\",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}i.inherits(s,n),s.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case\"string\":t=this.data.substring(this.index,e);break;case\"uint8array\":t=this.data.subarray(this.index,e);break;case\"array\":case\"nodebuffer\":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=s},{\"../utils\":32,\"./GenericWorker\":28}],28:[function(t,e,r){\"use strict\";function i(t){this.name=t||\"default\",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit(\"data\",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(\"end\"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit(\"error\",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit(\"error\",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on(\"data\",function(t){e.processChunk(t)}),t.on(\"end\",function(){e.end()}),t.on(\"error\",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t=\"Worker \"+this.name;return this.previous?this.previous+\" -> \"+t:t}},e.exports=i},{}],29:[function(t,e,r){\"use strict\";var h=t(\"../utils\"),n=t(\"./ConvertWorker\"),s=t(\"./GenericWorker\"),u=t(\"../base64\"),i=t(\"../support\"),a=t(\"../external\"),o=null;if(i.nodestream)try{o=t(\"../nodejs/NodejsStreamOutputAdapter\")}catch(t){}function l(t,o){return new a.Promise(function(e,r){var i=[],n=t._internalType,s=t._outputType,a=t._mimeType;t.on(\"data\",function(t,e){i.push(t),o&&o(e)}).on(\"error\",function(t){i=[],r(t)}).on(\"end\",function(){try{var t=function(t,e,r){switch(t){case\"blob\":return h.newBlob(h.transformTo(\"arraybuffer\",e),r);case\"base64\":return u.encode(e);default:return h.transformTo(t,e)}}(s,function(t,e){var r,i=0,n=null,s=0;for(r=0;r<e.length;r++)s+=e[r].length;switch(t){case\"string\":return e.join(\"\");case\"array\":return Array.prototype.concat.apply([],e);case\"uint8array\":for(n=new Uint8Array(s),r=0;r<e.length;r++)n.set(e[r],i),i+=e[r].length;return n;case\"nodebuffer\":return Buffer.concat(e);default:throw new Error(\"concat : unsupported type '\"+t+\"'\")}}(n,i),a);e(t)}catch(t){r(t)}i=[]}).resume()})}function f(t,e,r){var i=e;switch(e){case\"blob\":case\"arraybuffer\":i=\"uint8array\";break;case\"base64\":i=\"string\"}try{this._internalType=i,this._outputType=e,this._mimeType=r,h.checkSupport(i),this._worker=t.pipe(new n(i)),t.lock()}catch(t){this._worker=new s(\"error\"),this._worker.error(t)}}f.prototype={accumulate:function(t){return l(this,t)},on:function(t,e){var r=this;return\"data\"===t?this._worker.on(t,function(t){e.call(r,t.data,t.meta)}):this._worker.on(t,function(){h.delay(e,arguments,r)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(h.checkSupport(\"nodestream\"),\"nodebuffer\"!==this._outputType)throw new Error(this._outputType+\" is not supported by this method\");return new o(this,{objectMode:\"nodebuffer\"!==this._outputType},t)}},e.exports=f},{\"../base64\":1,\"../external\":6,\"../nodejs/NodejsStreamOutputAdapter\":13,\"../support\":30,\"../utils\":32,\"./ConvertWorker\":24,\"./GenericWorker\":28}],30:[function(t,e,r){\"use strict\";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,r.nodebuffer=\"undefined\"!=typeof Buffer,r.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)r.blob=!1;else{var i=new ArrayBuffer(0);try{r.blob=0===new Blob([i],{type:\"application/zip\"}).size}catch(t){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(i),r.blob=0===n.getBlob(\"application/zip\").size}catch(t){r.blob=!1}}}try{r.nodestream=!!t(\"readable-stream\").Readable}catch(t){r.nodestream=!1}},{\"readable-stream\":16}],31:[function(t,e,s){\"use strict\";for(var o=t(\"./utils\"),h=t(\"./support\"),r=t(\"./nodejsUtils\"),i=t(\"./stream/GenericWorker\"),u=new Array(256),n=0;n<256;n++)u[n]=252<=n?6:248<=n?5:240<=n?4:224<=n?3:192<=n?2:1;u[254]=u[254]=1;function a(){i.call(this,\"utf-8 decode\"),this.leftOver=null}function l(){i.call(this,\"utf-8 encode\")}s.utf8encode=function(t){return h.nodebuffer?r.newBufferFrom(t,\"utf-8\"):function(t){var e,r,i,n,s,a=t.length,o=0;for(n=0;n<a;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=h.uint8array?new Uint8Array(o):new Array(o),n=s=0;s<o;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),r<128?e[s++]=r:(r<2048?e[s++]=192|r>>>6:(r<65536?e[s++]=224|r>>>12:(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63),e[s++]=128|r>>>6&63),e[s++]=128|63&r);return e}(t)},s.utf8decode=function(t){return h.nodebuffer?o.transformTo(\"nodebuffer\",t).toString(\"utf-8\"):function(t){var e,r,i,n,s=t.length,a=new Array(2*s);for(e=r=0;e<s;)if((i=t[e++])<128)a[r++]=i;else if(4<(n=u[i]))a[r++]=65533,e+=n-1;else{for(i&=2===n?31:3===n?15:7;1<n&&e<s;)i=i<<6|63&t[e++],n--;1<n?a[r++]=65533:i<65536?a[r++]=i:(i-=65536,a[r++]=55296|i>>10&1023,a[r++]=56320|1023&i)}return a.length!==r&&(a.subarray?a=a.subarray(0,r):a.length=r),o.applyFromCharCode(a)}(t=o.transformTo(h.uint8array?\"uint8array\":\"array\",t))},o.inherits(a,i),a.prototype.processChunk=function(t){var e=o.transformTo(h.uint8array?\"uint8array\":\"array\",t.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var r=e;(e=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),e.set(r,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var i=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+u[t[r]]>e?r:e}(e),n=e;i!==e.length&&(h.uint8array?(n=e.subarray(0,i),this.leftOver=e.subarray(i,e.length)):(n=e.slice(0,i),this.leftOver=e.slice(i,e.length))),this.push({data:s.utf8decode(n),meta:t.meta})},a.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s.Utf8DecodeWorker=a,o.inherits(l,i),l.prototype.processChunk=function(t){this.push({data:s.utf8encode(t.data),meta:t.meta})},s.Utf8EncodeWorker=l},{\"./nodejsUtils\":14,\"./stream/GenericWorker\":28,\"./support\":30,\"./utils\":32}],32:[function(t,e,a){\"use strict\";var o=t(\"./support\"),h=t(\"./base64\"),r=t(\"./nodejsUtils\"),i=t(\"set-immediate-shim\"),u=t(\"./external\");function n(t){return t}function l(t,e){for(var r=0;r<t.length;++r)e[r]=255&t.charCodeAt(r);return e}a.newBlob=function(e,r){a.checkSupport(\"blob\");try{return new Blob([e],{type:r})}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(r)}catch(t){throw new Error(\"Bug : can't construct the Blob.\")}}};var s={stringifyByChunk:function(t,e,r){var i=[],n=0,s=t.length;if(s<=r)return String.fromCharCode.apply(null,t);for(;n<s;)\"array\"===e||\"nodebuffer\"===e?i.push(String.fromCharCode.apply(null,t.slice(n,Math.min(n+r,s)))):i.push(String.fromCharCode.apply(null,t.subarray(n,Math.min(n+r,s)))),n+=r;return i.join(\"\")},stringifyByChar:function(t){for(var e=\"\",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},applyCanBeUsed:{uint8array:function(){try{return o.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return o.nodebuffer&&1===String.fromCharCode.apply(null,r.allocBuffer(1)).length}catch(t){return!1}}()}};function f(t){var e=65536,r=a.getTypeOf(t),i=!0;if(\"uint8array\"===r?i=s.applyCanBeUsed.uint8array:\"nodebuffer\"===r&&(i=s.applyCanBeUsed.nodebuffer),i)for(;1<e;)try{return s.stringifyByChunk(t,r,e)}catch(t){e=Math.floor(e/2)}return s.stringifyByChar(t)}function d(t,e){for(var r=0;r<t.length;r++)e[r]=t[r];return e}a.applyFromCharCode=f;var c={};c.string={string:n,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return c.string.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:function(t){return l(t,r.allocBuffer(t.length))}},c.array={string:f,array:n,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(t)}},c.arraybuffer={string:function(t){return f(new Uint8Array(t))},array:function(t){return d(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:n,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return r.newBufferFrom(new Uint8Array(t))}},c.uint8array={string:f,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:n,nodebuffer:function(t){return r.newBufferFrom(t)}},c.nodebuffer={string:f,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return c.nodebuffer.uint8array(t).buffer},uint8array:function(t){return d(t,new Uint8Array(t.length))},nodebuffer:n},a.transformTo=function(t,e){if(e=e||\"\",!t)return e;a.checkSupport(t);var r=a.getTypeOf(e);return c[r][t](e)},a.getTypeOf=function(t){return\"string\"==typeof t?\"string\":\"[object Array]\"===Object.prototype.toString.call(t)?\"array\":o.nodebuffer&&r.isBuffer(t)?\"nodebuffer\":o.uint8array&&t instanceof Uint8Array?\"uint8array\":o.arraybuffer&&t instanceof ArrayBuffer?\"arraybuffer\":void 0},a.checkSupport=function(t){if(!o[t.toLowerCase()])throw new Error(t+\" is not supported by this platform\")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(t){var e,r,i=\"\";for(r=0;r<(t||\"\").length;r++)i+=\"\\\\x\"+((e=t.charCodeAt(r))<16?\"0\":\"\")+e.toString(16).toUpperCase();return i},a.delay=function(t,e,r){i(function(){t.apply(r||null,e||[])})},a.inherits=function(t,e){function r(){}r.prototype=e.prototype,t.prototype=new r},a.extend=function(){var t,e,r={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===r[e]&&(r[e]=arguments[t][e]);return r},a.prepareContent=function(r,t,i,n,s){return u.Promise.resolve(t).then(function(i){return o.blob&&(i instanceof Blob||-1!==[\"[object File]\",\"[object Blob]\"].indexOf(Object.prototype.toString.call(i)))&&\"undefined\"!=typeof FileReader?new u.Promise(function(e,r){var t=new FileReader;t.onload=function(t){e(t.target.result)},t.onerror=function(t){r(t.target.error)},t.readAsArrayBuffer(i)}):i}).then(function(t){var e=a.getTypeOf(t);return e?(\"arraybuffer\"===e?t=a.transformTo(\"uint8array\",t):\"string\"===e&&(s?t=h.decode(t):i&&!0!==n&&(t=function(t){return l(t,o.uint8array?new Uint8Array(t.length):new Array(t.length))}(t))),t):u.Promise.reject(new Error(\"Can't read the data of '\"+r+\"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?\"))})}},{\"./base64\":1,\"./external\":6,\"./nodejsUtils\":14,\"./support\":30,\"set-immediate-shim\":54}],33:[function(t,e,r){\"use strict\";var i=t(\"./reader/readerFor\"),n=t(\"./utils\"),s=t(\"./signature\"),a=t(\"./zipEntry\"),o=(t(\"./utf8\"),t(\"./support\"));function h(t){this.files=[],this.loadOptions=t}h.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error(\"Corrupted zip or bug: unexpected signature (\"+n.pretty(e)+\", expected \"+n.pretty(t)+\")\")}},isSignature:function(t,e){var r=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(r),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=o.uint8array?\"uint8array\":\"array\",r=n.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,r,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),r=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(t=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error(\"Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html\"):new Error(\"Corrupted zip: can't find end of central directory\");this.reader.setIndex(t);var e=t;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(t),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var i=e-r;if(0<i)this.isSignature(e,s.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error(\"Corrupted zip: missing \"+Math.abs(i)+\" bytes.\")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=h},{\"./reader/readerFor\":22,\"./signature\":23,\"./support\":30,\"./utf8\":31,\"./utils\":32,\"./zipEntry\":34}],34:[function(t,e,r){\"use strict\";var i=t(\"./reader/readerFor\"),s=t(\"./utils\"),n=t(\"./compressedObject\"),a=t(\"./crc32\"),o=t(\"./utf8\"),h=t(\"./compressions\"),u=t(\"./support\");function l(t,e){this.options=t,this.loadOptions=e}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,r;if(t.skip(22),this.fileNameLength=t.readInt(2),r=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)\");if(null===(e=function(t){for(var e in h)if(h.hasOwnProperty(e)&&h[e].magic===t)return h[e];return null}(this.compressionMethod)))throw new Error(\"Corrupted zip : compression \"+s.pretty(this.compressionMethod)+\" unknown (inner file : \"+s.transformTo(\"string\",this.fileName)+\")\");this.decompressed=new n(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,r,i,n=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<n;)e=t.readInt(2),r=t.readInt(2),i=t.readData(r),this.extraFields[e]={id:e,length:r,value:i};t.setIndex(n)},handleUTF8:function(){var t=u.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var r=s.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var n=s.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(n)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileName)!==e.readInt(4)?null:o.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:a(this.fileComment)!==e.readInt(4)?null:o.utf8decode(e.readData(t.length-5))}return null}},e.exports=l},{\"./compressedObject\":2,\"./compressions\":3,\"./crc32\":4,\"./reader/readerFor\":22,\"./support\":30,\"./utf8\":31,\"./utils\":32}],35:[function(t,e,r){\"use strict\";function i(t,e,r){this.name=t,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=e,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var s=t(\"./stream/StreamHelper\"),n=t(\"./stream/DataWorker\"),a=t(\"./utf8\"),o=t(\"./compressedObject\"),h=t(\"./stream/GenericWorker\");i.prototype={internalStream:function(t){var e=null,r=\"string\";try{if(!t)throw new Error(\"No output type specified.\");var i=\"string\"===(r=t.toLowerCase())||\"text\"===r;\"binarystring\"!==r&&\"text\"!==r||(r=\"string\"),e=this._decompressWorker();var n=!this._dataBinary;n&&!i&&(e=e.pipe(new a.Utf8EncodeWorker)),!n&&i&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new h(\"error\")).error(t)}return new s(e,r,\"\")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||\"nodebuffer\").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof o&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(r,t,e)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof h?this._data:new n(this._data)}};for(var u=[\"asText\",\"asBinary\",\"asNodeBuffer\",\"asUint8Array\",\"asArrayBuffer\"],l=function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},f=0;f<u.length;f++)i.prototype[u[f]]=l;e.exports=i},{\"./compressedObject\":2,\"./stream/DataWorker\":27,\"./stream/GenericWorker\":28,\"./stream/StreamHelper\":29,\"./utf8\":31}],36:[function(t,l,e){(function(e){\"use strict\";var r,i,t=e.MutationObserver||e.WebKitMutationObserver;if(t){var n=0,s=new t(u),a=e.document.createTextNode(\"\");s.observe(a,{characterData:!0}),r=function(){a.data=n=++n%2}}else if(e.setImmediate||void 0===e.MessageChannel)r=\"document\"in e&&\"onreadystatechange\"in e.document.createElement(\"script\")?function(){var t=e.document.createElement(\"script\");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var o=new e.MessageChannel;o.port1.onmessage=u,r=function(){o.port2.postMessage(0)}}var h=[];function u(){var t,e;i=!0;for(var r=h.length;r;){for(e=h,h=[],t=-1;++t<r;)e[t]();r=h.length}i=!1}l.exports=function(t){1!==h.push(t)||i||r()}}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],37:[function(t,e,r){\"use strict\";var n=t(\"immediate\");function u(){}var l={},s=[\"REJECTED\"],a=[\"FULFILLED\"],i=[\"PENDING\"];function o(t){if(\"function\"!=typeof t)throw new TypeError(\"resolver must be a function\");this.state=i,this.queue=[],this.outcome=void 0,t!==u&&c(this,t)}function h(t,e,r){this.promise=t,\"function\"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),\"function\"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(e,r,i){n(function(){var t;try{t=r(i)}catch(t){return l.reject(e,t)}t===e?l.reject(e,new TypeError(\"Cannot resolve promise with itself\")):l.resolve(e,t)})}function d(t){var e=t&&t.then;if(t&&(\"object\"==typeof t||\"function\"==typeof t)&&\"function\"==typeof e)return function(){e.apply(t,arguments)}}function c(e,t){var r=!1;function i(t){r||(r=!0,l.reject(e,t))}function n(t){r||(r=!0,l.resolve(e,t))}var s=p(function(){t(n,i)});\"error\"===s.status&&i(s.value)}function p(t,e){var r={};try{r.value=t(e),r.status=\"success\"}catch(t){r.status=\"error\",r.value=t}return r}(e.exports=o).prototype.finally=function(e){if(\"function\"!=typeof e)return this;var r=this.constructor;return this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})})},o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){if(\"function\"!=typeof t&&this.state===a||\"function\"!=typeof e&&this.state===s)return this;var r=new this.constructor(u);this.state!==i?f(r,this.state===a?t:e,this.outcome):this.queue.push(new h(r,t,e));return r},h.prototype.callFulfilled=function(t){l.resolve(this.promise,t)},h.prototype.otherCallFulfilled=function(t){f(this.promise,this.onFulfilled,t)},h.prototype.callRejected=function(t){l.reject(this.promise,t)},h.prototype.otherCallRejected=function(t){f(this.promise,this.onRejected,t)},l.resolve=function(t,e){var r=p(d,e);if(\"error\"===r.status)return l.reject(t,r.value);var i=r.value;if(i)c(t,i);else{t.state=a,t.outcome=e;for(var n=-1,s=t.queue.length;++n<s;)t.queue[n].callFulfilled(e)}return t},l.reject=function(t,e){t.state=s,t.outcome=e;for(var r=-1,i=t.queue.length;++r<i;)t.queue[r].callRejected(e);return t},o.resolve=function(t){if(t instanceof this)return t;return l.resolve(new this(u),t)},o.reject=function(t){var e=new this(u);return l.reject(e,t)},o.all=function(t){var r=this;if(\"[object Array]\"!==Object.prototype.toString.call(t))return this.reject(new TypeError(\"must be an array\"));var i=t.length,n=!1;if(!i)return this.resolve([]);var s=new Array(i),a=0,e=-1,o=new this(u);for(;++e<i;)h(t[e],e);return o;function h(t,e){r.resolve(t).then(function(t){s[e]=t,++a!==i||n||(n=!0,l.resolve(o,s))},function(t){n||(n=!0,l.reject(o,t))})}},o.race=function(t){var e=this;if(\"[object Array]\"!==Object.prototype.toString.call(t))return this.reject(new TypeError(\"must be an array\"));var r=t.length,i=!1;if(!r)return this.resolve([]);var n=-1,s=new this(u);for(;++n<r;)a=t[n],e.resolve(a).then(function(t){i||(i=!0,l.resolve(s,t))},function(t){i||(i=!0,l.reject(s,t))});var a;return s}},{immediate:36}],38:[function(t,e,r){\"use strict\";var i={};(0,t(\"./lib/utils/common\").assign)(i,t(\"./lib/deflate\"),t(\"./lib/inflate\"),t(\"./lib/zlib/constants\")),e.exports=i},{\"./lib/deflate\":39,\"./lib/inflate\":40,\"./lib/utils/common\":41,\"./lib/zlib/constants\":44}],39:[function(t,e,r){\"use strict\";var a=t(\"./zlib/deflate\"),o=t(\"./utils/common\"),h=t(\"./utils/strings\"),n=t(\"./zlib/messages\"),s=t(\"./zlib/zstream\"),u=Object.prototype.toString,l=0,f=-1,d=0,c=8;function p(t){if(!(this instanceof p))return new p(t);this.options=o.assign({level:f,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:\"\"},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==l)throw new Error(n[r]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i=\"string\"==typeof e.dictionary?h.string2buf(e.dictionary):\"[object ArrayBuffer]\"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(r=a.deflateSetDictionary(this.strm,i))!==l)throw new Error(n[r]);this._dict_set=!0}}function i(t,e){var r=new p(e);if(r.push(t,!0),r.err)throw r.msg||n[r.err];return r.result}p.prototype.push=function(t,e){var r,i,n=this.strm,s=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,\"string\"==typeof t?n.input=h.string2buf(t):\"[object ArrayBuffer]\"===u.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new o.Buf8(s),n.next_out=0,n.avail_out=s),1!==(r=a.deflate(n,i))&&r!==l)return this.onEnd(r),!(this.ended=!0);0!==n.avail_out&&(0!==n.avail_in||4!==i&&2!==i)||(\"string\"===this.options.to?this.onData(h.buf2binstring(o.shrinkBuf(n.output,n.next_out))):this.onData(o.shrinkBuf(n.output,n.next_out)))}while((0<n.avail_in||0===n.avail_out)&&1!==r);return 4===i?(r=a.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l):2!==i||(this.onEnd(l),!(n.avail_out=0))},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){t===l&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Deflate=p,r.deflate=i,r.deflateRaw=function(t,e){return(e=e||{}).raw=!0,i(t,e)},r.gzip=function(t,e){return(e=e||{}).gzip=!0,i(t,e)}},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/deflate\":46,\"./zlib/messages\":51,\"./zlib/zstream\":53}],40:[function(t,e,r){\"use strict\";var d=t(\"./zlib/inflate\"),c=t(\"./utils/common\"),p=t(\"./utils/strings\"),m=t(\"./zlib/constants\"),i=t(\"./zlib/messages\"),n=t(\"./zlib/zstream\"),s=t(\"./zlib/gzheader\"),_=Object.prototype.toString;function a(t){if(!(this instanceof a))return new a(t);this.options=c.assign({chunkSize:16384,windowBits:0,to:\"\"},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new n,this.strm.avail_out=0;var r=d.inflateInit2(this.strm,e.windowBits);if(r!==m.Z_OK)throw new Error(i[r]);this.header=new s,d.inflateGetHeader(this.strm,this.header)}function o(t,e){var r=new a(e);if(r.push(t,!0),r.err)throw r.msg||i[r.err];return r.result}a.prototype.push=function(t,e){var r,i,n,s,a,o,h=this.strm,u=this.options.chunkSize,l=this.options.dictionary,f=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?m.Z_FINISH:m.Z_NO_FLUSH,\"string\"==typeof t?h.input=p.binstring2buf(t):\"[object ArrayBuffer]\"===_.call(t)?h.input=new Uint8Array(t):h.input=t,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new c.Buf8(u),h.next_out=0,h.avail_out=u),(r=d.inflate(h,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&l&&(o=\"string\"==typeof l?p.string2buf(l):\"[object ArrayBuffer]\"===_.call(l)?new Uint8Array(l):l,r=d.inflateSetDictionary(this.strm,o)),r===m.Z_BUF_ERROR&&!0===f&&(r=m.Z_OK,f=!1),r!==m.Z_STREAM_END&&r!==m.Z_OK)return this.onEnd(r),!(this.ended=!0);h.next_out&&(0!==h.avail_out&&r!==m.Z_STREAM_END&&(0!==h.avail_in||i!==m.Z_FINISH&&i!==m.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(n=p.utf8border(h.output,h.next_out),s=h.next_out-n,a=p.buf2string(h.output,n),h.next_out=s,h.avail_out=u-s,s&&c.arraySet(h.output,h.output,n,s,0),this.onData(a)):this.onData(c.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(f=!0)}while((0<h.avail_in||0===h.avail_out)&&r!==m.Z_STREAM_END);return r===m.Z_STREAM_END&&(i=m.Z_FINISH),i===m.Z_FINISH?(r=d.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===m.Z_OK):i!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(h.avail_out=0))},a.prototype.onData=function(t){this.chunks.push(t)},a.prototype.onEnd=function(t){t===m.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},r.Inflate=a,r.inflate=o,r.inflateRaw=function(t,e){return(e=e||{}).raw=!0,o(t,e)},r.ungzip=o},{\"./utils/common\":41,\"./utils/strings\":42,\"./zlib/constants\":44,\"./zlib/gzheader\":47,\"./zlib/inflate\":49,\"./zlib/messages\":51,\"./zlib/zstream\":53}],41:[function(t,e,r){\"use strict\";var i=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;r.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var r=e.shift();if(r){if(\"object\"!=typeof r)throw new TypeError(r+\"must be non-object\");for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}}return t},r.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,r,i,n){if(e.subarray&&t.subarray)t.set(e.subarray(r,r+i),n);else for(var s=0;s<i;s++)t[n+s]=e[r+s]},flattenChunks:function(t){var e,r,i,n,s,a;for(e=i=0,r=t.length;e<r;e++)i+=t[e].length;for(a=new Uint8Array(i),e=n=0,r=t.length;e<r;e++)s=t[e],a.set(s,n),n+=s.length;return a}},s={arraySet:function(t,e,r,i,n){for(var s=0;s<i;s++)t[n+s]=e[r+s]},flattenChunks:function(t){return[].concat.apply([],t)}};r.setTyped=function(t){t?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,n)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(i)},{}],42:[function(t,e,r){\"use strict\";var h=t(\"./common\"),n=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(t){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){s=!1}for(var u=new h.Buf8(256),i=0;i<256;i++)u[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;function l(t,e){if(e<65537&&(t.subarray&&s||!t.subarray&&n))return String.fromCharCode.apply(null,h.shrinkBuf(t,e));for(var r=\"\",i=0;i<e;i++)r+=String.fromCharCode(t[i]);return r}u[254]=u[254]=1,r.string2buf=function(t){var e,r,i,n,s,a=t.length,o=0;for(n=0;n<a;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new h.Buf8(o),n=s=0;s<o;n++)55296==(64512&(r=t.charCodeAt(n)))&&n+1<a&&56320==(64512&(i=t.charCodeAt(n+1)))&&(r=65536+(r-55296<<10)+(i-56320),n++),r<128?e[s++]=r:(r<2048?e[s++]=192|r>>>6:(r<65536?e[s++]=224|r>>>12:(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63),e[s++]=128|r>>>6&63),e[s++]=128|63&r);return e},r.buf2binstring=function(t){return l(t,t.length)},r.binstring2buf=function(t){for(var e=new h.Buf8(t.length),r=0,i=e.length;r<i;r++)e[r]=t.charCodeAt(r);return e},r.buf2string=function(t,e){var r,i,n,s,a=e||t.length,o=new Array(2*a);for(r=i=0;r<a;)if((n=t[r++])<128)o[i++]=n;else if(4<(s=u[n]))o[i++]=65533,r+=s-1;else{for(n&=2===s?31:3===s?15:7;1<s&&r<a;)n=n<<6|63&t[r++],s--;1<s?o[i++]=65533:n<65536?o[i++]=n:(n-=65536,o[i++]=55296|n>>10&1023,o[i++]=56320|1023&n)}return l(o,i)},r.utf8border=function(t,e){var r;for((e=e||t.length)>t.length&&(e=t.length),r=e-1;0<=r&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+u[t[r]]>e?r:e}},{\"./common\":41}],43:[function(t,e,r){\"use strict\";e.exports=function(t,e,r,i){for(var n=65535&t|0,s=t>>>16&65535|0,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;s=s+(n=n+e[i++]|0)|0,--a;);n%=65521,s%=65521}return n|s<<16|0}},{}],44:[function(t,e,r){\"use strict\";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,r){\"use strict\";var o=function(){for(var t,e=[],r=0;r<256;r++){t=r;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e}();e.exports=function(t,e,r,i){var n=o,s=i+r;t^=-1;for(var a=i;a<s;a++)t=t>>>8^n[255&(t^e[a])];return-1^t}},{}],46:[function(t,e,r){\"use strict\";var h,d=t(\"../utils/common\"),u=t(\"./trees\"),c=t(\"./adler32\"),p=t(\"./crc32\"),i=t(\"./messages\"),l=0,f=4,m=0,_=-2,g=-1,b=4,n=2,v=8,y=9,s=286,a=30,o=19,w=2*s+1,k=15,x=3,S=258,z=S+x+1,C=42,E=113,A=1,I=2,O=3,B=4;function R(t,e){return t.msg=i[e],e}function T(t){return(t<<1)-(4<t?9:0)}function D(t){for(var e=t.length;0<=--e;)t[e]=0}function F(t){var e=t.state,r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(d.arraySet(t.output,e.pending_buf,e.pending_out,r,t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))}function N(t,e){u._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,F(t.strm)}function U(t,e){t.pending_buf[t.pending++]=e}function P(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function L(t,e){var r,i,n=t.max_chain_length,s=t.strstart,a=t.prev_length,o=t.nice_match,h=t.strstart>t.w_size-z?t.strstart-(t.w_size-z):0,u=t.window,l=t.w_mask,f=t.prev,d=t.strstart+S,c=u[s+a-1],p=u[s+a];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do{if(u[(r=e)+a]===p&&u[r+a-1]===c&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do{}while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<d);if(i=S-(d-s),s=d-S,a<i){if(t.match_start=e,o<=(a=i))break;c=u[s+a-1],p=u[s+a]}}}while((e=f[e&l])>h&&0!=--n);return a<=t.lookahead?a:t.lookahead}function j(t){var e,r,i,n,s,a,o,h,u,l,f=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=f+(f-z)){for(d.arraySet(t.window,t.window,f,f,0),t.match_start-=f,t.strstart-=f,t.block_start-=f,e=r=t.hash_size;i=t.head[--e],t.head[e]=f<=i?i-f:0,--r;);for(e=r=f;i=t.prev[--e],t.prev[e]=f<=i?i-f:0,--r;);n+=f}if(0===t.strm.avail_in)break;if(a=t.strm,o=t.window,h=t.strstart+t.lookahead,u=n,l=void 0,l=a.avail_in,u<l&&(l=u),r=0===l?0:(a.avail_in-=l,d.arraySet(o,a.input,a.next_in,l,h),1===a.state.wrap?a.adler=c(a.adler,o,l,h):2===a.state.wrap&&(a.adler=p(a.adler,o,l,h)),a.next_in+=l,a.total_in+=l,l),t.lookahead+=r,t.lookahead+t.insert>=x)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+x-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<x)););}while(t.lookahead<z&&0!==t.strm.avail_in)}function Z(t,e){for(var r,i;;){if(t.lookahead<z){if(j(t),t.lookahead<z&&e===l)return A;if(0===t.lookahead)break}if(r=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-z&&(t.match_length=L(t,r)),t.match_length>=x)if(i=u._tr_tally(t,t.strstart-t.match_start,t.match_length-x),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=x){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=t.strstart<x-1?t.strstart:x-1,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}function W(t,e){for(var r,i,n;;){if(t.lookahead<z){if(j(t),t.lookahead<z&&e===l)return A;if(0===t.lookahead)break}if(r=0,t.lookahead>=x&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=x-1,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-z&&(t.match_length=L(t,r),t.match_length<=5&&(1===t.strategy||t.match_length===x&&4096<t.strstart-t.match_start)&&(t.match_length=x-1)),t.prev_length>=x&&t.match_length<=t.prev_length){for(n=t.strstart+t.lookahead-x,i=u._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-x),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+x-1])&t.hash_mask,r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=x-1,t.strstart++,i&&(N(t,!1),0===t.strm.avail_out))return A}else if(t.match_available){if((i=u._tr_tally(t,0,t.window[t.strstart-1]))&&N(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return A}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=u._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<x-1?t.strstart:x-1,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}function M(t,e,r,i,n){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=i,this.func=n}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(2*w),this.dyn_dtree=new d.Buf16(2*(2*a+1)),this.bl_tree=new d.Buf16(2*(2*o+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(k+1),this.heap=new d.Buf16(2*s+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(2*s+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=n,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?C:E,t.adler=2===e.wrap?0:1,e.last_flush=l,u._tr_init(e),m):R(t,_)}function K(t){var e=G(t);return e===m&&function(t){t.window_size=2*t.w_size,D(t.head),t.max_lazy_match=h[t.level].max_lazy,t.good_match=h[t.level].good_length,t.nice_match=h[t.level].nice_length,t.max_chain_length=h[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=x-1,t.match_available=0,t.ins_h=0}(t.state),e}function Y(t,e,r,i,n,s){if(!t)return _;var a=1;if(e===g&&(e=6),i<0?(a=0,i=-i):15<i&&(a=2,i-=16),n<1||y<n||r!==v||i<8||15<i||e<0||9<e||s<0||b<s)return R(t,_);8===i&&(i=9);var o=new H;return(t.state=o).strm=t,o.wrap=a,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+x-1)/x),o.window=new d.Buf8(2*o.w_size),o.head=new d.Buf16(o.hash_size),o.prev=new d.Buf16(o.w_size),o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new d.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=e,o.strategy=s,o.method=r,K(t)}h=[new M(0,0,0,0,function(t,e){var r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(j(t),0===t.lookahead&&e===l)return A;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+r;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,N(t,!1),0===t.strm.avail_out))return A;if(t.strstart-t.block_start>=t.w_size-z&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(N(t,!0),0===t.strm.avail_out?O:B):(t.strstart>t.block_start&&(N(t,!1),t.strm.avail_out),A)}),new M(4,4,8,4,Z),new M(4,5,16,8,Z),new M(4,6,32,32,Z),new M(4,4,16,16,W),new M(8,16,32,32,W),new M(8,16,128,128,W),new M(8,32,128,256,W),new M(32,128,258,1024,W),new M(32,258,258,4096,W)],r.deflateInit=function(t,e){return Y(t,e,v,15,8,0)},r.deflateInit2=Y,r.deflateReset=K,r.deflateResetKeep=G,r.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?_:(t.state.gzhead=e,m):_},r.deflate=function(t,e){var r,i,n,s;if(!t||!t.state||5<e||e<0)return t?R(t,_):_;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&e!==f)return R(t,0===t.avail_out?-5:_);if(i.strm=t,r=i.last_flush,i.last_flush=e,i.status===C)if(2===i.wrap)t.adler=0,U(i,31),U(i,139),U(i,8),i.gzhead?(U(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),U(i,255&i.gzhead.time),U(i,i.gzhead.time>>8&255),U(i,i.gzhead.time>>16&255),U(i,i.gzhead.time>>24&255),U(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),U(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(U(i,255&i.gzhead.extra.length),U(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=p(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(U(i,0),U(i,0),U(i,0),U(i,0),U(i,0),U(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),U(i,3),i.status=E);else{var a=v+(i.w_bits-8<<4)<<8;a|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(a|=32),a+=31-a%31,i.status=E,P(i,a),0!==i.strstart&&(P(i,t.adler>>>16),P(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),F(t),n=i.pending,i.pending!==i.pending_buf_size));)U(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),F(t),n=i.pending,i.pending===i.pending_buf_size)){s=1;break}s=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,U(i,s)}while(0!==s);i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),0===s&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),F(t),n=i.pending,i.pending===i.pending_buf_size)){s=1;break}s=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,U(i,s)}while(0!==s);i.gzhead.hcrc&&i.pending>n&&(t.adler=p(t.adler,i.pending_buf,i.pending-n,n)),0===s&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&F(t),i.pending+2<=i.pending_buf_size&&(U(i,255&t.adler),U(i,t.adler>>8&255),t.adler=0,i.status=E)):i.status=E),0!==i.pending){if(F(t),0===t.avail_out)return i.last_flush=-1,m}else if(0===t.avail_in&&T(e)<=T(r)&&e!==f)return R(t,-5);if(666===i.status&&0!==t.avail_in)return R(t,-5);if(0!==t.avail_in||0!==i.lookahead||e!==l&&666!==i.status){var o=2===i.strategy?function(t,e){for(var r;;){if(0===t.lookahead&&(j(t),0===t.lookahead)){if(e===l)return A;break}if(t.match_length=0,r=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}(i,e):3===i.strategy?function(t,e){for(var r,i,n,s,a=t.window;;){if(t.lookahead<=S){if(j(t),t.lookahead<=S&&e===l)return A;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=x&&0<t.strstart&&(i=a[n=t.strstart-1])===a[++n]&&i===a[++n]&&i===a[++n]){s=t.strstart+S;do{}while(i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&n<s);t.match_length=S-(s-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=x?(r=u._tr_tally(t,1,t.match_length-x),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(N(t,!1),0===t.strm.avail_out))return A}return t.insert=0,e===f?(N(t,!0),0===t.strm.avail_out?O:B):t.last_lit&&(N(t,!1),0===t.strm.avail_out)?A:I}(i,e):h[i.level].func(i,e);if(o!==O&&o!==B||(i.status=666),o===A||o===O)return 0===t.avail_out&&(i.last_flush=-1),m;if(o===I&&(1===e?u._tr_align(i):5!==e&&(u._tr_stored_block(i,0,0,!1),3===e&&(D(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),F(t),0===t.avail_out))return i.last_flush=-1,m}return e!==f?m:i.wrap<=0?1:(2===i.wrap?(U(i,255&t.adler),U(i,t.adler>>8&255),U(i,t.adler>>16&255),U(i,t.adler>>24&255),U(i,255&t.total_in),U(i,t.total_in>>8&255),U(i,t.total_in>>16&255),U(i,t.total_in>>24&255)):(P(i,t.adler>>>16),P(i,65535&t.adler)),F(t),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?m:1)},r.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==C&&69!==e&&73!==e&&91!==e&&103!==e&&e!==E&&666!==e?R(t,_):(t.state=null,e===E?R(t,-3):m):_},r.deflateSetDictionary=function(t,e){var r,i,n,s,a,o,h,u,l=e.length;if(!t||!t.state)return _;if(2===(s=(r=t.state).wrap)||1===s&&r.status!==C||r.lookahead)return _;for(1===s&&(t.adler=c(t.adler,e,l,0)),r.wrap=0,l>=r.w_size&&(0===s&&(D(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new d.Buf8(r.w_size),d.arraySet(u,e,l-r.w_size,r.w_size,0),e=u,l=r.w_size),a=t.avail_in,o=t.next_in,h=t.input,t.avail_in=l,t.next_in=0,t.input=e,j(r);r.lookahead>=x;){for(i=r.strstart,n=r.lookahead-(x-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+x-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++,--n;);r.strstart=i,r.lookahead=x-1,j(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=x-1,r.match_available=0,t.next_in=o,t.input=h,t.avail_in=a,r.wrap=s,m},r.deflateInfo=\"pako deflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./messages\":51,\"./trees\":52}],47:[function(t,e,r){\"use strict\";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,r){\"use strict\";e.exports=function(t,e){var r,i,n,s,a,o,h,u,l,f,d,c,p,m,_,g,b,v,y,w,k,x,S,z,C;r=t.state,i=t.next_in,z=t.input,n=i+(t.avail_in-5),s=t.next_out,C=t.output,a=s-(e-t.avail_out),o=s+(t.avail_out-257),h=r.dmax,u=r.wsize,l=r.whave,f=r.wnext,d=r.window,c=r.hold,p=r.bits,m=r.lencode,_=r.distcode,g=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;t:do{p<15&&(c+=z[i++]<<p,p+=8,c+=z[i++]<<p,p+=8),v=m[c&g];e:for(;;){if(c>>>=y=v>>>24,p-=y,0===(y=v>>>16&255))C[s++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=m[(65535&v)+(c&(1<<y)-1)];continue e}if(32&y){r.mode=12;break t}t.msg=\"invalid literal/length code\",r.mode=30;break t}w=65535&v,(y&=15)&&(p<y&&(c+=z[i++]<<p,p+=8),w+=c&(1<<y)-1,c>>>=y,p-=y),p<15&&(c+=z[i++]<<p,p+=8,c+=z[i++]<<p,p+=8),v=_[c&b];r:for(;;){if(c>>>=y=v>>>24,p-=y,!(16&(y=v>>>16&255))){if(0==(64&y)){v=_[(65535&v)+(c&(1<<y)-1)];continue r}t.msg=\"invalid distance code\",r.mode=30;break t}if(k=65535&v,p<(y&=15)&&(c+=z[i++]<<p,(p+=8)<y&&(c+=z[i++]<<p,p+=8)),h<(k+=c&(1<<y)-1)){t.msg=\"invalid distance too far back\",r.mode=30;break t}if(c>>>=y,p-=y,(y=s-a)<k){if(l<(y=k-y)&&r.sane){t.msg=\"invalid distance too far back\",r.mode=30;break t}if(S=d,(x=0)===f){if(x+=u-y,y<w){for(w-=y;C[s++]=d[x++],--y;);x=s-k,S=C}}else if(f<y){if(x+=u+f-y,(y-=f)<w){for(w-=y;C[s++]=d[x++],--y;);if(x=0,f<w){for(w-=y=f;C[s++]=d[x++],--y;);x=s-k,S=C}}}else if(x+=f-y,y<w){for(w-=y;C[s++]=d[x++],--y;);x=s-k,S=C}for(;2<w;)C[s++]=S[x++],C[s++]=S[x++],C[s++]=S[x++],w-=3;w&&(C[s++]=S[x++],1<w&&(C[s++]=S[x++]))}else{for(x=s-k;C[s++]=C[x++],C[s++]=C[x++],C[s++]=C[x++],2<(w-=3););w&&(C[s++]=C[x++],1<w&&(C[s++]=C[x++]))}break}}break}}while(i<n&&s<o);i-=w=p>>3,c&=(1<<(p-=w<<3))-1,t.next_in=i,t.next_out=s,t.avail_in=i<n?n-i+5:5-(i-n),t.avail_out=s<o?o-s+257:257-(s-o),r.hold=c,r.bits=p}},{}],49:[function(t,e,r){\"use strict\";var I=t(\"../utils/common\"),O=t(\"./adler32\"),B=t(\"./crc32\"),R=t(\"./inffast\"),T=t(\"./inftrees\"),D=1,F=2,N=0,U=-2,P=1,i=852,n=592;function L(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function s(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new I.Buf16(320),this.work=new I.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg=\"\",e.wrap&&(t.adler=1&e.wrap),e.mode=P,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new I.Buf32(i),e.distcode=e.distdyn=new I.Buf32(n),e.sane=1,e.back=-1,N):U}function o(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,a(t)):U}function h(t,e){var r,i;return t&&t.state?(i=t.state,e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?U:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=r,i.wbits=e,o(t))):U}function u(t,e){var r,i;return t?(i=new s,(t.state=i).window=null,(r=h(t,e))!==N&&(t.state=null),r):U}var l,f,d=!0;function j(t){if(d){var e;for(l=new I.Buf32(512),f=new I.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(T(D,t.lens,0,288,l,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;T(F,t.lens,0,32,f,0,t.work,{bits:5}),d=!1}t.lencode=l,t.lenbits=9,t.distcode=f,t.distbits=5}function Z(t,e,r,i){var n,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new I.Buf8(s.wsize)),i>=s.wsize?(I.arraySet(s.window,e,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i<(n=s.wsize-s.wnext)&&(n=i),I.arraySet(s.window,e,r-i,n,s.wnext),(i-=n)?(I.arraySet(s.window,e,r-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0}r.inflateReset=o,r.inflateReset2=h,r.inflateResetKeep=a,r.inflateInit=function(t){return u(t,15)},r.inflateInit2=u,r.inflate=function(t,e){var r,i,n,s,a,o,h,u,l,f,d,c,p,m,_,g,b,v,y,w,k,x,S,z,C=0,E=new I.Buf8(4),A=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return U;12===(r=t.state).mode&&(r.mode=13),a=t.next_out,n=t.output,h=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,u=r.hold,l=r.bits,f=o,d=h,x=N;t:for(;;)switch(r.mode){case P:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(2&r.wrap&&35615===u){E[r.check=0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0),l=u=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg=\"incorrect header check\",r.mode=30;break}if(8!=(15&u)){t.msg=\"unknown compression method\",r.mode=30;break}if(l-=4,k=8+(15&(u>>>=4)),0===r.wbits)r.wbits=k;else if(k>r.wbits){t.msg=\"invalid window size\",r.mode=30;break}r.dmax=1<<k,t.adler=r.check=1,r.mode=512&u?10:12,l=u=0;break;case 2:for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(r.flags=u,8!=(255&r.flags)){t.msg=\"unknown compression method\",r.mode=30;break}if(57344&r.flags){t.msg=\"unknown header flags set\",r.mode=30;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=3;case 3:for(;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,r.check=B(r.check,E,4,0)),l=u=0,r.mode=4;case 4:for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=B(r.check,E,2,0)),l=u=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(o<(c=r.length)&&(c=o),c&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),I.arraySet(r.head.extra,i,s,c,k)),512&r.flags&&(r.check=B(r.check,i,c,s)),o-=c,s+=c,r.length-=c),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break t;for(c=0;k=i[s+c++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k)),k&&c<o;);if(512&r.flags&&(r.check=B(r.check,i,c,s)),o-=c,s+=c,k)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break t;for(c=0;k=i[s+c++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k)),k&&c<o;);if(512&r.flags&&(r.check=B(r.check,i,c,s)),o-=c,s+=c,k)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(u!==(65535&r.check)){t.msg=\"header crc mismatch\",r.mode=30;break}l=u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=12;break;case 10:for(;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}t.adler=r.check=L(u),l=u=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=l,2;t.adler=r.check=1,r.mode=12;case 12:if(5===e||6===e)break t;case 13:if(r.last){u>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}switch(r.last=1&u,l-=1,3&(u>>>=1)){case 0:r.mode=14;break;case 1:if(j(r),r.mode=20,6!==e)break;u>>>=2,l-=2;break t;case 2:r.mode=17;break;case 3:t.msg=\"invalid block type\",r.mode=30}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if((65535&u)!=(u>>>16^65535)){t.msg=\"invalid stored block lengths\",r.mode=30;break}if(r.length=65535&u,l=u=0,r.mode=15,6===e)break t;case 15:r.mode=16;case 16:if(c=r.length){if(o<c&&(c=o),h<c&&(c=h),0===c)break t;I.arraySet(n,i,s,c,a),o-=c,s+=c,h-=c,a+=c,r.length-=c;break}r.mode=12;break;case 17:for(;l<14;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,286<r.nlen||30<r.ndist){t.msg=\"too many length or distance symbols\",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.lens[A[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[A[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},x=T(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,x){t.msg=\"invalid code lengths set\",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(b<16)u>>>=_,l-=_,r.lens[r.have++]=b;else{if(16===b){for(z=_+2;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(u>>>=_,l-=_,0===r.have){t.msg=\"invalid bit length repeat\",r.mode=30;break}k=r.lens[r.have-1],c=3+(3&u),u>>>=2,l-=2}else if(17===b){for(z=_+3;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}l-=_,k=0,c=3+(7&(u>>>=_)),u>>>=3,l-=3}else{for(z=_+7;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}l-=_,k=0,c=11+(127&(u>>>=_)),u>>>=7,l-=7}if(r.have+c>r.nlen+r.ndist){t.msg=\"invalid bit length repeat\",r.mode=30;break}for(;c--;)r.lens[r.have++]=k}}if(30===r.mode)break;if(0===r.lens[256]){t.msg=\"invalid code -- missing end-of-block\",r.mode=30;break}if(r.lenbits=9,S={bits:r.lenbits},x=T(D,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,x){t.msg=\"invalid literal/lengths set\",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},x=T(F,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,x){t.msg=\"invalid distances set\",r.mode=30;break}if(r.mode=20,6===e)break t;case 20:r.mode=21;case 21:if(6<=o&&258<=h){t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=l,R(t,d),a=t.next_out,n=t.output,h=t.avail_out,s=t.next_in,i=t.input,o=t.avail_in,u=r.hold,l=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;g=(C=r.lencode[u&(1<<r.lenbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(g&&0==(240&g)){for(v=_,y=g,w=b;g=(C=r.lencode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,r.length=b,0===g){r.mode=26;break}if(32&g){r.back=-1,r.mode=12;break}if(64&g){t.msg=\"invalid literal/length code\",r.mode=30;break}r.extra=15&g,r.mode=22;case 22:if(r.extra){for(z=r.extra;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;g=(C=r.distcode[u&(1<<r.distbits)-1])>>>16&255,b=65535&C,!((_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(0==(240&g)){for(v=_,y=g,w=b;g=(C=r.distcode[w+((u&(1<<v+y)-1)>>v)])>>>16&255,b=65535&C,!(v+(_=C>>>24)<=l);){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}u>>>=v,l-=v,r.back+=v}if(u>>>=_,l-=_,r.back+=_,64&g){t.msg=\"invalid distance code\",r.mode=30;break}r.offset=b,r.extra=15&g,r.mode=24;case 24:if(r.extra){for(z=r.extra;l<z;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg=\"invalid distance too far back\",r.mode=30;break}r.mode=25;case 25:if(0===h)break t;if(c=d-h,r.offset>c){if((c=r.offset-c)>r.whave&&r.sane){t.msg=\"invalid distance too far back\",r.mode=30;break}p=c>r.wnext?(c-=r.wnext,r.wsize-c):r.wnext-c,c>r.length&&(c=r.length),m=r.window}else m=n,p=a-r.offset,c=r.length;for(h<c&&(c=h),h-=c,r.length-=c;n[a++]=m[p++],--c;);0===r.length&&(r.mode=21);break;case 26:if(0===h)break t;n[a++]=r.length,h--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===o)break t;o--,u|=i[s++]<<l,l+=8}if(d-=h,t.total_out+=d,r.total+=d,d&&(t.adler=r.check=r.flags?B(r.check,n,d,a-d):O(r.check,n,d,a-d)),d=h,(r.flags?u:L(u))!==r.check){t.msg=\"incorrect data check\",r.mode=30;break}l=u=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===o)break t;o--,u+=i[s++]<<l,l+=8}if(u!==(4294967295&r.total)){t.msg=\"incorrect length check\",r.mode=30;break}l=u=0}r.mode=29;case 29:x=1;break t;case 30:x=-3;break t;case 31:return-4;case 32:default:return U}return t.next_out=a,t.avail_out=h,t.next_in=s,t.avail_in=o,r.hold=u,r.bits=l,(r.wsize||d!==t.avail_out&&r.mode<30&&(r.mode<27||4!==e))&&Z(t,t.output,t.next_out,d-t.avail_out)?(r.mode=31,-4):(f-=t.avail_in,d-=t.avail_out,t.total_in+=f,t.total_out+=d,r.total+=d,r.wrap&&d&&(t.adler=r.check=r.flags?B(r.check,n,d,t.next_out-d):O(r.check,n,d,t.next_out-d)),t.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==f&&0===d||4===e)&&x===N&&(x=-5),x)},r.inflateEnd=function(t){if(!t||!t.state)return U;var e=t.state;return e.window&&(e.window=null),t.state=null,N},r.inflateGetHeader=function(t,e){var r;return t&&t.state?0==(2&(r=t.state).wrap)?U:((r.head=e).done=!1,N):U},r.inflateSetDictionary=function(t,e){var r,i=e.length;return t&&t.state?0!==(r=t.state).wrap&&11!==r.mode?U:11===r.mode&&O(1,e,i,0)!==r.check?-3:Z(t,e,i,i)?(r.mode=31,-4):(r.havedict=1,N):U},r.inflateInfo=\"pako inflate (from Nodeca project)\"},{\"../utils/common\":41,\"./adler32\":43,\"./crc32\":45,\"./inffast\":48,\"./inftrees\":50}],50:[function(t,e,r){\"use strict\";var D=t(\"../utils/common\"),F=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],N=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],U=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,r,i,n,s,a,o){var h,u,l,f,d,c,p,m,_,g=o.bits,b=0,v=0,y=0,w=0,k=0,x=0,S=0,z=0,C=0,E=0,A=null,I=0,O=new D.Buf16(16),B=new D.Buf16(16),R=null,T=0;for(b=0;b<=15;b++)O[b]=0;for(v=0;v<i;v++)O[e[r+v]]++;for(k=g,w=15;1<=w&&0===O[w];w--);if(w<k&&(k=w),0===w)return n[s++]=20971520,n[s++]=20971520,o.bits=1,0;for(y=1;y<w&&0===O[y];y++);for(k<y&&(k=y),b=z=1;b<=15;b++)if(z<<=1,(z-=O[b])<0)return-1;if(0<z&&(0===t||1!==w))return-1;for(B[1]=0,b=1;b<15;b++)B[b+1]=B[b]+O[b];for(v=0;v<i;v++)0!==e[r+v]&&(a[B[e[r+v]]++]=v);if(c=0===t?(A=R=a,19):1===t?(A=F,I-=257,R=N,T-=257,256):(A=U,R=P,-1),b=y,d=s,S=v=E=0,l=-1,f=(C=1<<(x=k))-1,1===t&&852<C||2===t&&592<C)return 1;for(;;){for(p=b-S,_=a[v]<c?(m=0,a[v]):a[v]>c?(m=R[T+a[v]],A[I+a[v]]):(m=96,0),h=1<<b-S,y=u=1<<x;n[d+(E>>S)+(u-=h)]=p<<24|m<<16|_|0,0!==u;);for(h=1<<b-1;E&h;)h>>=1;if(0!==h?(E&=h-1,E+=h):E=0,v++,0==--O[b]){if(b===w)break;b=e[r+a[v]]}if(k<b&&(E&f)!==l){for(0===S&&(S=k),d+=y,z=1<<(x=b-S);x+S<w&&!((z-=O[x+S])<=0);)x++,z<<=1;if(C+=1<<x,1===t&&852<C||2===t&&592<C)return 1;n[l=E&f]=k<<24|x<<16|d-s|0}}return 0!==E&&(n[d+E]=b-S<<24|64<<16|0),o.bits=k,0}},{\"../utils/common\":41}],51:[function(t,e,r){\"use strict\";e.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},{}],52:[function(t,e,r){\"use strict\";var n=t(\"../utils/common\"),o=0,h=1;function i(t){for(var e=t.length;0<=--e;)t[e]=0}var s=0,a=29,u=256,l=u+1+a,f=30,d=19,_=2*l+1,g=15,c=16,p=7,m=256,b=16,v=17,y=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(l+2));i(z);var C=new Array(2*f);i(C);var E=new Array(512);i(E);var A=new Array(256);i(A);var I=new Array(a);i(I);var O,B,R,T=new Array(f);function D(t,e,r,i,n){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=t&&t.length}function F(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function N(t){return t<256?E[t]:E[256+(t>>>7)]}function U(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function P(t,e,r){t.bi_valid>c-r?(t.bi_buf|=e<<t.bi_valid&65535,U(t,t.bi_buf),t.bi_buf=e>>c-t.bi_valid,t.bi_valid+=r-c):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)}function L(t,e,r){P(t,r[2*e],r[2*e+1])}function j(t,e){for(var r=0;r|=1&t,t>>>=1,r<<=1,0<--e;);return r>>>1}function Z(t,e,r){var i,n,s=new Array(g+1),a=0;for(i=1;i<=g;i++)s[i]=a=a+r[i-1]<<1;for(n=0;n<=e;n++){var o=t[2*n+1];0!==o&&(t[2*n]=j(s[o]++,o))}}function W(t){var e;for(e=0;e<l;e++)t.dyn_ltree[2*e]=0;for(e=0;e<f;e++)t.dyn_dtree[2*e]=0;for(e=0;e<d;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*m]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function M(t){8<t.bi_valid?U(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function H(t,e,r,i){var n=2*e,s=2*r;return t[n]<t[s]||t[n]===t[s]&&i[e]<=i[r]}function G(t,e,r){for(var i=t.heap[r],n=r<<1;n<=t.heap_len&&(n<t.heap_len&&H(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!H(e,i,t.heap[n],t.depth));)t.heap[r]=t.heap[n],r=n,n<<=1;t.heap[r]=i}function K(t,e,r){var i,n,s,a,o=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],n=t.pending_buf[t.l_buf+o],o++,0===i?L(t,n,e):(L(t,(s=A[n])+u+1,e),0!==(a=w[s])&&P(t,n-=I[s],a),L(t,s=N(--i),r),0!==(a=k[s])&&P(t,i-=T[s],a)),o<t.last_lit;);L(t,m,e)}function Y(t,e){var r,i,n,s=e.dyn_tree,a=e.stat_desc.static_tree,o=e.stat_desc.has_stree,h=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=_,r=0;r<h;r++)0!==s[2*r]?(t.heap[++t.heap_len]=u=r,t.depth[r]=0):s[2*r+1]=0;for(;t.heap_len<2;)s[2*(n=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[n]=0,t.opt_len--,o&&(t.static_len-=a[2*n+1]);for(e.max_code=u,r=t.heap_len>>1;1<=r;r--)G(t,s,r);for(n=h;r=t.heap[1],t.heap[1]=t.heap[t.heap_len--],G(t,s,1),i=t.heap[1],t.heap[--t.heap_max]=r,t.heap[--t.heap_max]=i,s[2*n]=s[2*r]+s[2*i],t.depth[n]=(t.depth[r]>=t.depth[i]?t.depth[r]:t.depth[i])+1,s[2*r+1]=s[2*i+1]=n,t.heap[1]=n++,G(t,s,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var r,i,n,s,a,o,h=e.dyn_tree,u=e.max_code,l=e.stat_desc.static_tree,f=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(s=0;s<=g;s++)t.bl_count[s]=0;for(h[2*t.heap[t.heap_max]+1]=0,r=t.heap_max+1;r<_;r++)p<(s=h[2*h[2*(i=t.heap[r])+1]+1]+1)&&(s=p,m++),h[2*i+1]=s,u<i||(t.bl_count[s]++,a=0,c<=i&&(a=d[i-c]),o=h[2*i],t.opt_len+=o*(s+a),f&&(t.static_len+=o*(l[2*i+1]+a)));if(0!==m){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,m-=2}while(0<m);for(s=p;0!==s;s--)for(i=t.bl_count[s];0!==i;)u<(n=t.heap[--r])||(h[2*n+1]!==s&&(t.opt_len+=(s-h[2*n+1])*h[2*n],h[2*n+1]=s),i--)}}(t,e),Z(s,u,t.bl_count)}function X(t,e,r){var i,n,s=-1,a=e[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),e[2*(r+1)+1]=65535,i=0;i<=r;i++)n=a,a=e[2*(i+1)+1],++o<h&&n===a||(o<u?t.bl_tree[2*n]+=o:0!==n?(n!==s&&t.bl_tree[2*n]++,t.bl_tree[2*b]++):o<=10?t.bl_tree[2*v]++:t.bl_tree[2*y]++,s=n,u=(o=0)===a?(h=138,3):n===a?(h=6,3):(h=7,4))}function V(t,e,r){var i,n,s=-1,a=e[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),i=0;i<=r;i++)if(n=a,a=e[2*(i+1)+1],!(++o<h&&n===a)){if(o<u)for(;L(t,n,t.bl_tree),0!=--o;);else 0!==n?(n!==s&&(L(t,n,t.bl_tree),o--),L(t,b,t.bl_tree),P(t,o-3,2)):o<=10?(L(t,v,t.bl_tree),P(t,o-3,3)):(L(t,y,t.bl_tree),P(t,o-11,7));s=n,u=(o=0)===a?(h=138,3):n===a?(h=6,3):(h=7,4)}}i(T);var q=!1;function J(t,e,r,i){P(t,(s<<1)+(i?1:0),3),function(t,e,r,i){M(t),i&&(U(t,r),U(t,~r)),n.arraySet(t.pending_buf,t.window,e,r,t.pending),t.pending+=r}(t,e,r,!0)}r._tr_init=function(t){q||(function(){var t,e,r,i,n,s=new Array(g+1);for(i=r=0;i<a-1;i++)for(I[i]=r,t=0;t<1<<w[i];t++)A[r++]=i;for(A[r-1]=i,i=n=0;i<16;i++)for(T[i]=n,t=0;t<1<<k[i];t++)E[n++]=i;for(n>>=7;i<f;i++)for(T[i]=n<<7,t=0;t<1<<k[i]-7;t++)E[256+n++]=i;for(e=0;e<=g;e++)s[e]=0;for(t=0;t<=143;)z[2*t+1]=8,t++,s[8]++;for(;t<=255;)z[2*t+1]=9,t++,s[9]++;for(;t<=279;)z[2*t+1]=7,t++,s[7]++;for(;t<=287;)z[2*t+1]=8,t++,s[8]++;for(Z(z,l+1,s),t=0;t<f;t++)C[2*t+1]=5,C[2*t]=j(t,5);O=new D(z,w,u+1,l,g),B=new D(C,k,0,f,g),R=new D(new Array(0),x,0,d,p)}(),q=!0),t.l_desc=new F(t.dyn_ltree,O),t.d_desc=new F(t.dyn_dtree,B),t.bl_desc=new F(t.bl_tree,R),t.bi_buf=0,t.bi_valid=0,W(t)},r._tr_stored_block=J,r._tr_flush_block=function(t,e,r,i){var n,s,a=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return h;for(e=32;e<u;e++)if(0!==t.dyn_ltree[2*e])return h;return o}(t)),Y(t,t.l_desc),Y(t,t.d_desc),a=function(t){var e;for(X(t,t.dyn_ltree,t.l_desc.max_code),X(t,t.dyn_dtree,t.d_desc.max_code),Y(t,t.bl_desc),e=d-1;3<=e&&0===t.bl_tree[2*S[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),n=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=n&&(n=s)):n=s=r+5,r+4<=n&&-1!==e?J(t,e,r,i):4===t.strategy||s===n?(P(t,2+(i?1:0),3),K(t,z,C)):(P(t,4+(i?1:0),3),function(t,e,r,i){var n;for(P(t,e-257,5),P(t,r-1,5),P(t,i-4,4),n=0;n<i;n++)P(t,t.bl_tree[2*S[n]+1],3);V(t,t.dyn_ltree,e-1),V(t,t.dyn_dtree,r-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),K(t,t.dyn_ltree,t.dyn_dtree)),W(t),i&&M(t)},r._tr_tally=function(t,e,r){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(A[r]+u+1)]++,t.dyn_dtree[2*N(e)]++),t.last_lit===t.lit_bufsize-1},r._tr_align=function(t){P(t,2,3),L(t,m,z),function(t){16===t.bi_valid?(U(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{\"../utils/common\":41}],53:[function(t,e,r){\"use strict\";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,r){\"use strict\";e.exports=\"function\"==typeof setImmediate?setImmediate:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},{}]},{},[10])(10)});","'use strict';\n\nvar d        = require('d')\n  , callable = require('es5-ext/object/valid-callable')\n\n  , apply = Function.prototype.apply, call = Function.prototype.call\n  , create = Object.create, defineProperty = Object.defineProperty\n  , defineProperties = Object.defineProperties\n  , hasOwnProperty = Object.prototype.hasOwnProperty\n  , descriptor = { configurable: true, enumerable: false, writable: true }\n\n  , on, once, off, emit, methods, descriptors, base;\n\non = function (type, listener) {\n\tvar data;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) {\n\t\tdata = descriptor.value = create(null);\n\t\tdefineProperty(this, '__ee__', descriptor);\n\t\tdescriptor.value = null;\n\t} else {\n\t\tdata = this.__ee__;\n\t}\n\tif (!data[type]) data[type] = listener;\n\telse if (typeof data[type] === 'object') data[type].push(listener);\n\telse data[type] = [data[type], listener];\n\n\treturn this;\n};\n\nonce = function (type, listener) {\n\tvar once, self;\n\n\tcallable(listener);\n\tself = this;\n\ton.call(this, type, once = function () {\n\t\toff.call(self, type, once);\n\t\tapply.call(listener, this, arguments);\n\t});\n\n\tonce.__eeOnceListener__ = listener;\n\treturn this;\n};\n\noff = function (type, listener) {\n\tvar data, listeners, candidate, i;\n\n\tcallable(listener);\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return this;\n\tdata = this.__ee__;\n\tif (!data[type]) return this;\n\tlisteners = data[type];\n\n\tif (typeof listeners === 'object') {\n\t\tfor (i = 0; (candidate = listeners[i]); ++i) {\n\t\t\tif ((candidate === listener) ||\n\t\t\t\t\t(candidate.__eeOnceListener__ === listener)) {\n\t\t\t\tif (listeners.length === 2) data[type] = listeners[i ? 0 : 1];\n\t\t\t\telse listeners.splice(i, 1);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif ((listeners === listener) ||\n\t\t\t\t(listeners.__eeOnceListener__ === listener)) {\n\t\t\tdelete data[type];\n\t\t}\n\t}\n\n\treturn this;\n};\n\nemit = function (type) {\n\tvar i, l, listener, listeners, args;\n\n\tif (!hasOwnProperty.call(this, '__ee__')) return;\n\tlisteners = this.__ee__[type];\n\tif (!listeners) return;\n\n\tif (typeof listeners === 'object') {\n\t\tl = arguments.length;\n\t\targs = new Array(l - 1);\n\t\tfor (i = 1; i < l; ++i) args[i - 1] = arguments[i];\n\n\t\tlisteners = listeners.slice();\n\t\tfor (i = 0; (listener = listeners[i]); ++i) {\n\t\t\tapply.call(listener, this, args);\n\t\t}\n\t} else {\n\t\tswitch (arguments.length) {\n\t\tcase 1:\n\t\t\tcall.call(listeners, this);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tcall.call(listeners, this, arguments[1]);\n\t\t\tbreak;\n\t\tcase 3:\n\t\t\tcall.call(listeners, this, arguments[1], arguments[2]);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tl = arguments.length;\n\t\t\targs = new Array(l - 1);\n\t\t\tfor (i = 1; i < l; ++i) {\n\t\t\t\targs[i - 1] = arguments[i];\n\t\t\t}\n\t\t\tapply.call(listeners, this, args);\n\t\t}\n\t}\n};\n\nmethods = {\n\ton: on,\n\tonce: once,\n\toff: off,\n\temit: emit\n};\n\ndescriptors = {\n\ton: d(on),\n\tonce: d(once),\n\toff: d(off),\n\temit: d(emit)\n};\n\nbase = defineProperties({}, descriptors);\n\nmodule.exports = exports = function (o) {\n\treturn (o == null) ? create(base) : defineProperties(Object(o), descriptors);\n};\nexports.methods = methods;\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.proxyMouse = proxyMouse;\nexports.clone = clone;\n// import 'babelify/polyfill'; // needed for Object.assign\n\nexports.default = {\n    proxyMouse: proxyMouse\n};\n\n/**\n * Start proxying all mouse events that occur on the target node to each node in\n * a set of tracked nodes.\n *\n * The items in tracked do not strictly have to be DOM Nodes, but they do have\n * to have dispatchEvent, getBoundingClientRect, and getClientRects methods.\n *\n * @param target {Node} The node on which to listen for mouse events.\n * @param tracked {Node[]} A (possibly mutable) array of nodes to which to proxy\n *                         events.\n */\n\nfunction proxyMouse(target, tracked) {\n    function dispatch(e) {\n        // We walk through the set of tracked elements in reverse order so that\n        // events are sent to those most recently added first.\n        //\n        // This is the least surprising behaviour as it simulates the way the\n        // browser would work if items added later were drawn \"on top of\"\n        // earlier ones.\n        for (var i = tracked.length - 1; i >= 0; i--) {\n            var t = tracked[i];\n            var x = e.clientX;\n            var y = e.clientY;\n\n            if (e.touches && e.touches.length) {\n                x = e.touches[0].clientX;\n                y = e.touches[0].clientY;\n            }\n\n            if (!contains(t, target, x, y)) {\n                continue;\n            }\n\n            // The event targets this mark, so dispatch a cloned event:\n            t.dispatchEvent(clone(e));\n            // We only dispatch the cloned event to the first matching mark.\n            break;\n        }\n    }\n\n    if (target.nodeName === \"iframe\" || target.nodeName === \"IFRAME\") {\n\n        try {\n            // Try to get the contents if same domain\n            this.target = target.contentDocument;\n        } catch (err) {\n            this.target = target;\n        }\n    } else {\n        this.target = target;\n    }\n\n    var _arr = ['mouseup', 'mousedown', 'click', 'touchstart'];\n    for (var _i = 0; _i < _arr.length; _i++) {\n        var ev = _arr[_i];\n        this.target.addEventListener(ev, function (e) {\n            return dispatch(e);\n        }, false);\n    }\n}\n\n/**\n * Clone a mouse event object.\n *\n * @param e {MouseEvent} A mouse event object to clone.\n * @returns {MouseEvent}\n */\nfunction clone(e) {\n    var opts = Object.assign({}, e, { bubbles: false });\n    try {\n        return new MouseEvent(e.type, opts);\n    } catch (err) {\n        // compat: webkit\n        var copy = document.createEvent('MouseEvents');\n        copy.initMouseEvent(e.type, false, opts.cancelable, opts.view, opts.detail, opts.screenX, opts.screenY, opts.clientX, opts.clientY, opts.ctrlKey, opts.altKey, opts.shiftKey, opts.metaKey, opts.button, opts.relatedTarget);\n        return copy;\n    }\n}\n\n/**\n * Check if the item contains the point denoted by the passed coordinates\n * @param item {Object} An object with getBoundingClientRect and getClientRects\n *                      methods.\n * @param x {Number}\n * @param y {Number}\n * @returns {Boolean}\n */\nfunction contains(item, target, x, y) {\n    // offset\n    var offset = target.getBoundingClientRect();\n\n    function rectContains(r, x, y) {\n        var top = r.top - offset.top;\n        var left = r.left - offset.left;\n        var bottom = top + r.height;\n        var right = left + r.width;\n        return top <= y && left <= x && bottom > y && right > x;\n    }\n\n    // Check overall bounding box first\n    var rect = item.getBoundingClientRect();\n    if (!rectContains(rect, x, y)) {\n        return false;\n    }\n\n    // Then continue to check each child rect\n    var rects = item.getClientRects();\n    for (var i = 0, len = rects.length; i < len; i++) {\n        if (rectContains(rects[i], x, y)) {\n            return true;\n        }\n    }\n    return false;\n}\n","//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\r\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\r\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\r\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\r\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\r\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\r\n//var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\r\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\r\n\r\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\r\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\r\nvar S_TAG = 0;//tag name offerring\r\nvar S_ATTR = 1;//attr name offerring \r\nvar S_ATTR_SPACE=2;//attr name end and space offer\r\nvar S_EQ = 3;//=space?\r\nvar S_ATTR_NOQUOT_VALUE = 4;//attr value(no quot value only)\r\nvar S_ATTR_END = 5;//attr value end and no space(quot end)\r\nvar S_TAG_SPACE = 6;//(attr value end || tag end ) && (space offer)\r\nvar S_TAG_CLOSE = 7;//closed el<el />\r\n\r\nfunction XMLReader(){\r\n\t\r\n}\r\n\r\nXMLReader.prototype = {\r\n\tparse:function(source,defaultNSMap,entityMap){\r\n\t\tvar domBuilder = this.domBuilder;\r\n\t\tdomBuilder.startDocument();\r\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\r\n\t\tparse(source,defaultNSMap,entityMap,\r\n\t\t\t\tdomBuilder,this.errorHandler);\r\n\t\tdomBuilder.endDocument();\r\n\t}\r\n}\r\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\r\n\tfunction fixedFromCharCode(code) {\r\n\t\t// String.prototype.fromCharCode does not supports\r\n\t\t// > 2 bytes unicode chars directly\r\n\t\tif (code > 0xffff) {\r\n\t\t\tcode -= 0x10000;\r\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\r\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\r\n\r\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\r\n\t\t} else {\r\n\t\t\treturn String.fromCharCode(code);\r\n\t\t}\r\n\t}\r\n\tfunction entityReplacer(a){\r\n\t\tvar k = a.slice(1,-1);\r\n\t\tif(k in entityMap){\r\n\t\t\treturn entityMap[k]; \r\n\t\t}else if(k.charAt(0) === '#'){\r\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\r\n\t\t}else{\r\n\t\t\terrorHandler.error('entity not found:'+a);\r\n\t\t\treturn a;\r\n\t\t}\r\n\t}\r\n\tfunction appendText(end){//has some bugs\r\n\t\tif(end>start){\r\n\t\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\tlocator&&position(start);\r\n\t\t\tdomBuilder.characters(xt,0,end-start);\r\n\t\t\tstart = end\r\n\t\t}\r\n\t}\r\n\tfunction position(p,m){\r\n\t\twhile(p>=lineEnd && (m = linePattern.exec(source))){\r\n\t\t\tlineStart = m.index;\r\n\t\t\tlineEnd = lineStart + m[0].length;\r\n\t\t\tlocator.lineNumber++;\r\n\t\t\t//console.log('line++:',locator,startPos,endPos)\r\n\t\t}\r\n\t\tlocator.columnNumber = p-lineStart+1;\r\n\t}\r\n\tvar lineStart = 0;\r\n\tvar lineEnd = 0;\r\n\tvar linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\r\n\tvar locator = domBuilder.locator;\r\n\t\r\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\r\n\tvar closeMap = {};\r\n\tvar start = 0;\r\n\twhile(true){\r\n\t\ttry{\r\n\t\t\tvar tagStart = source.indexOf('<',start);\r\n\t\t\tif(tagStart<0){\r\n\t\t\t\tif(!source.substr(start).match(/^\\s*$/)){\r\n\t\t\t\t\tvar doc = domBuilder.doc;\r\n\t    \t\t\tvar text = doc.createTextNode(source.substr(start));\r\n\t    \t\t\tdoc.appendChild(text);\r\n\t    \t\t\tdomBuilder.currentElement = text;\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(tagStart>start){\r\n\t\t\t\tappendText(tagStart);\r\n\t\t\t}\r\n\t\t\tswitch(source.charAt(tagStart+1)){\r\n\t\t\tcase '/':\r\n\t\t\t\tvar end = source.indexOf('>',tagStart+3);\r\n\t\t\t\tvar tagName = source.substring(tagStart+2,end);\r\n\t\t\t\tvar config = parseStack.pop();\r\n\t\t\t\tif(end<0){\r\n\t\t\t\t\t\r\n\t        \t\ttagName = source.substring(tagStart+2).replace(/[\\s<].*/,'');\r\n\t        \t\t//console.error('#@@@@@@'+tagName)\r\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' is not complete:'+config.tagName);\r\n\t        \t\tend = tagStart+1+tagName.length;\r\n\t        \t}else if(tagName.match(/\\s</)){\r\n\t        \t\ttagName = tagName.replace(/[\\s<].*/,'');\r\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' maybe not complete');\r\n\t        \t\tend = tagStart+1+tagName.length;\r\n\t\t\t\t}\r\n\t\t\t\t//console.error(parseStack.length,parseStack)\r\n\t\t\t\t//console.error(config);\r\n\t\t\t\tvar localNSMap = config.localNSMap;\r\n\t\t\t\tvar endMatch = config.tagName == tagName;\r\n\t\t\t\tvar endIgnoreCaseMach = endMatch || config.tagName&&config.tagName.toLowerCase() == tagName.toLowerCase()\r\n\t\t        if(endIgnoreCaseMach){\r\n\t\t        \tdomBuilder.endElement(config.uri,config.localName,tagName);\r\n\t\t\t\t\tif(localNSMap){\r\n\t\t\t\t\t\tfor(var prefix in localNSMap){\r\n\t\t\t\t\t\t\tdomBuilder.endPrefixMapping(prefix) ;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!endMatch){\r\n\t\t            \terrorHandler.fatalError(\"end tag name: \"+tagName+' is not match the current start tagName:'+config.tagName );\r\n\t\t\t\t\t}\r\n\t\t        }else{\r\n\t\t        \tparseStack.push(config)\r\n\t\t        }\r\n\t\t\t\t\r\n\t\t\t\tend++;\r\n\t\t\t\tbreak;\r\n\t\t\t\t// end elment\r\n\t\t\tcase '?':// <?...?>\r\n\t\t\t\tlocator&&position(tagStart);\r\n\t\t\t\tend = parseInstruction(source,tagStart,domBuilder);\r\n\t\t\t\tbreak;\r\n\t\t\tcase '!':// <!doctype,<![CDATA,<!--\r\n\t\t\t\tlocator&&position(tagStart);\r\n\t\t\t\tend = parseDCC(source,tagStart,domBuilder,errorHandler);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tlocator&&position(tagStart);\r\n\t\t\t\tvar el = new ElementAttributes();\r\n\t\t\t\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\r\n\t\t\t\t//elStartEnd\r\n\t\t\t\tvar end = parseElementStartPart(source,tagStart,el,currentNSMap,entityReplacer,errorHandler);\r\n\t\t\t\tvar len = el.length;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\r\n\t\t\t\t\tel.closed = true;\r\n\t\t\t\t\tif(!entityMap.nbsp){\r\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(locator && len){\r\n\t\t\t\t\tvar locator2 = copyLocator(locator,{});\r\n\t\t\t\t\t//try{//attribute position fixed\r\n\t\t\t\t\tfor(var i = 0;i<len;i++){\r\n\t\t\t\t\t\tvar a = el[i];\r\n\t\t\t\t\t\tposition(a.offset);\r\n\t\t\t\t\t\ta.locator = copyLocator(locator,{});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//}catch(e){console.error('@@@@@'+e)}\r\n\t\t\t\t\tdomBuilder.locator = locator2\r\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\r\n\t\t\t\t\t\tparseStack.push(el)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdomBuilder.locator = locator;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\r\n\t\t\t\t\t\tparseStack.push(el)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(el.uri === 'http://www.w3.org/1999/xhtml' && !el.closed){\r\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tend++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}catch(e){\r\n\t\t\terrorHandler.error('element parse error: '+e)\r\n\t\t\t//errorHandler.error('element parse error: '+e);\r\n\t\t\tend = -1;\r\n\t\t\t//throw e;\r\n\t\t}\r\n\t\tif(end>start){\r\n\t\t\tstart = end;\r\n\t\t}else{\r\n\t\t\t//TODO: sax\r\n\t\t\tappendText(Math.max(tagStart,start)+1);\r\n\t\t}\r\n\t}\r\n}\r\nfunction copyLocator(f,t){\r\n\tt.lineNumber = f.lineNumber;\r\n\tt.columnNumber = f.columnNumber;\r\n\treturn t;\r\n}\r\n\r\n/**\r\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\r\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\r\n */\r\nfunction parseElementStartPart(source,start,el,currentNSMap,entityReplacer,errorHandler){\r\n\tvar attrName;\r\n\tvar value;\r\n\tvar p = ++start;\r\n\tvar s = S_TAG;//status\r\n\twhile(true){\r\n\t\tvar c = source.charAt(p);\r\n\t\tswitch(c){\r\n\t\tcase '=':\r\n\t\t\tif(s === S_ATTR){//attrName\r\n\t\t\t\tattrName = source.slice(start,p);\r\n\t\t\t\ts = S_EQ;\r\n\t\t\t}else if(s === S_ATTR_SPACE){\r\n\t\t\t\ts = S_EQ;\r\n\t\t\t}else{\r\n\t\t\t\t//fatalError: equal must after attrName or space after attrName\r\n\t\t\t\tthrow new Error('attribute equal must after attrName');\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase '\\'':\r\n\t\tcase '\"':\r\n\t\t\tif(s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\r\n\t\t\t\t){//equal\r\n\t\t\t\tif(s === S_ATTR){\r\n\t\t\t\t\terrorHandler.warning('attribute value must after \"=\"')\r\n\t\t\t\t\tattrName = source.slice(start,p)\r\n\t\t\t\t}\r\n\t\t\t\tstart = p+1;\r\n\t\t\t\tp = source.indexOf(c,start)\r\n\t\t\t\tif(p>0){\r\n\t\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\t\tel.add(attrName,value,start-1);\r\n\t\t\t\t\ts = S_ATTR_END;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t//fatalError: no end quot match\r\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\r\n\t\t\t\t}\r\n\t\t\t}else if(s == S_ATTR_NOQUOT_VALUE){\r\n\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\t//console.log(attrName,value,start,p)\r\n\t\t\t\tel.add(attrName,value,start);\r\n\t\t\t\t//console.dir(el)\r\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\r\n\t\t\t\tstart = p+1;\r\n\t\t\t\ts = S_ATTR_END\r\n\t\t\t}else{\r\n\t\t\t\t//fatalError: no equal before\r\n\t\t\t\tthrow new Error('attribute value must after \"=\"');\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase '/':\r\n\t\t\tswitch(s){\r\n\t\t\tcase S_TAG:\r\n\t\t\t\tel.setTagName(source.slice(start,p));\r\n\t\t\tcase S_ATTR_END:\r\n\t\t\tcase S_TAG_SPACE:\r\n\t\t\tcase S_TAG_CLOSE:\r\n\t\t\t\ts =S_TAG_CLOSE;\r\n\t\t\t\tel.closed = true;\r\n\t\t\tcase S_ATTR_NOQUOT_VALUE:\r\n\t\t\tcase S_ATTR:\r\n\t\t\tcase S_ATTR_SPACE:\r\n\t\t\t\tbreak;\r\n\t\t\t//case S_EQ:\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\")\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase ''://end document\r\n\t\t\t//throw new Error('unexpected end of input')\r\n\t\t\terrorHandler.error('unexpected end of input');\r\n\t\t\tif(s == S_TAG){\r\n\t\t\t\tel.setTagName(source.slice(start,p));\r\n\t\t\t}\r\n\t\t\treturn p;\r\n\t\tcase '>':\r\n\t\t\tswitch(s){\r\n\t\t\tcase S_TAG:\r\n\t\t\t\tel.setTagName(source.slice(start,p));\r\n\t\t\tcase S_ATTR_END:\r\n\t\t\tcase S_TAG_SPACE:\r\n\t\t\tcase S_TAG_CLOSE:\r\n\t\t\t\tbreak;//normal\r\n\t\t\tcase S_ATTR_NOQUOT_VALUE://Compatible state\r\n\t\t\tcase S_ATTR:\r\n\t\t\t\tvalue = source.slice(start,p);\r\n\t\t\t\tif(value.slice(-1) === '/'){\r\n\t\t\t\t\tel.closed  = true;\r\n\t\t\t\t\tvalue = value.slice(0,-1)\r\n\t\t\t\t}\r\n\t\t\tcase S_ATTR_SPACE:\r\n\t\t\t\tif(s === S_ATTR_SPACE){\r\n\t\t\t\t\tvalue = attrName;\r\n\t\t\t\t}\r\n\t\t\t\tif(s == S_ATTR_NOQUOT_VALUE){\r\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\r\n\t\t\t\t\tel.add(attrName,value.replace(/&#?\\w+;/g,entityReplacer),start)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !value.match(/^(?:disabled|checked|selected)$/i)){\r\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tel.add(value,value,start)\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase S_EQ:\r\n\t\t\t\tthrow new Error('attribute value missed!!');\r\n\t\t\t}\r\n//\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\r\n\t\t\treturn p;\r\n\t\t/*xml space '\\x20' | #x9 | #xD | #xA; */\r\n\t\tcase '\\u0080':\r\n\t\t\tc = ' ';\r\n\t\tdefault:\r\n\t\t\tif(c<= ' '){//space\r\n\t\t\t\tswitch(s){\r\n\t\t\t\tcase S_TAG:\r\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\r\n\t\t\t\t\ts = S_TAG_SPACE;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_ATTR:\r\n\t\t\t\t\tattrName = source.slice(start,p)\r\n\t\t\t\t\ts = S_ATTR_SPACE;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_ATTR_NOQUOT_VALUE:\r\n\t\t\t\t\tvar value = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\r\n\t\t\t\t\tel.add(attrName,value,start)\r\n\t\t\t\tcase S_ATTR_END:\r\n\t\t\t\t\ts = S_TAG_SPACE;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t//case S_TAG_SPACE:\r\n\t\t\t\t//case S_EQ:\r\n\t\t\t\t//case S_ATTR_SPACE:\r\n\t\t\t\t//\tvoid();break;\r\n\t\t\t\t//case S_TAG_CLOSE:\r\n\t\t\t\t\t//ignore warning\r\n\t\t\t\t}\r\n\t\t\t}else{//not space\r\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\r\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\r\n\t\t\t\tswitch(s){\r\n\t\t\t\t//case S_TAG:void();break;\r\n\t\t\t\t//case S_ATTR:void();break;\r\n\t\t\t\t//case S_ATTR_NOQUOT_VALUE:void();break;\r\n\t\t\t\tcase S_ATTR_SPACE:\r\n\t\t\t\t\tvar tagName =  el.tagName;\r\n\t\t\t\t\tif(currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !attrName.match(/^(?:disabled|checked|selected)$/i)){\r\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead2!!')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tel.add(attrName,attrName,start);\r\n\t\t\t\t\tstart = p;\r\n\t\t\t\t\ts = S_ATTR;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_ATTR_END:\r\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\r\n\t\t\t\tcase S_TAG_SPACE:\r\n\t\t\t\t\ts = S_ATTR;\r\n\t\t\t\t\tstart = p;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_EQ:\r\n\t\t\t\t\ts = S_ATTR_NOQUOT_VALUE;\r\n\t\t\t\t\tstart = p;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_TAG_CLOSE:\r\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}//end outer switch\r\n\t\t//console.log('p++',p)\r\n\t\tp++;\r\n\t}\r\n}\r\n/**\r\n * @return true if has new namespace define\r\n */\r\nfunction appendElement(el,domBuilder,currentNSMap){\r\n\tvar tagName = el.tagName;\r\n\tvar localNSMap = null;\r\n\t//var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\r\n\tvar i = el.length;\r\n\twhile(i--){\r\n\t\tvar a = el[i];\r\n\t\tvar qName = a.qName;\r\n\t\tvar value = a.value;\r\n\t\tvar nsp = qName.indexOf(':');\r\n\t\tif(nsp>0){\r\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\r\n\t\t\tvar localName = qName.slice(nsp+1);\r\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\r\n\t\t}else{\r\n\t\t\tlocalName = qName;\r\n\t\t\tprefix = null\r\n\t\t\tnsPrefix = qName === 'xmlns' && ''\r\n\t\t}\r\n\t\t//can not set prefix,because prefix !== ''\r\n\t\ta.localName = localName ;\r\n\t\t//prefix == null for no ns prefix attribute \r\n\t\tif(nsPrefix !== false){//hack!!\r\n\t\t\tif(localNSMap == null){\r\n\t\t\t\tlocalNSMap = {}\r\n\t\t\t\t//console.log(currentNSMap,0)\r\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\r\n\t\t\t\t//console.log(currentNSMap,1)\r\n\t\t\t}\r\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\r\n\t\t\ta.uri = 'http://www.w3.org/2000/xmlns/'\r\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value) \r\n\t\t}\r\n\t}\r\n\tvar i = el.length;\r\n\twhile(i--){\r\n\t\ta = el[i];\r\n\t\tvar prefix = a.prefix;\r\n\t\tif(prefix){//no prefix attribute has no namespace\r\n\t\t\tif(prefix === 'xml'){\r\n\t\t\t\ta.uri = 'http://www.w3.org/XML/1998/namespace';\r\n\t\t\t}if(prefix !== 'xmlns'){\r\n\t\t\t\ta.uri = currentNSMap[prefix || '']\r\n\t\t\t\t\r\n\t\t\t\t//{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tvar nsp = tagName.indexOf(':');\r\n\tif(nsp>0){\r\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\r\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\r\n\t}else{\r\n\t\tprefix = null;//important!!\r\n\t\tlocalName = el.localName = tagName;\r\n\t}\r\n\t//no prefix element has default namespace\r\n\tvar ns = el.uri = currentNSMap[prefix || ''];\r\n\tdomBuilder.startElement(ns,localName,tagName,el);\r\n\t//endPrefixMapping and startPrefixMapping have not any help for dom builder\r\n\t//localNSMap = null\r\n\tif(el.closed){\r\n\t\tdomBuilder.endElement(ns,localName,tagName);\r\n\t\tif(localNSMap){\r\n\t\t\tfor(prefix in localNSMap){\r\n\t\t\t\tdomBuilder.endPrefixMapping(prefix) \r\n\t\t\t}\r\n\t\t}\r\n\t}else{\r\n\t\tel.currentNSMap = currentNSMap;\r\n\t\tel.localNSMap = localNSMap;\r\n\t\t//parseStack.push(el);\r\n\t\treturn true;\r\n\t}\r\n}\r\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\r\n\tif(/^(?:script|textarea)$/i.test(tagName)){\r\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\r\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\r\n\t\tif(/[&<]/.test(text)){\r\n\t\t\tif(/^script$/i.test(tagName)){\r\n\t\t\t\t//if(!/\\]\\]>/.test(text)){\r\n\t\t\t\t\t//lexHandler.startCDATA();\r\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\r\n\t\t\t\t\t//lexHandler.endCDATA();\r\n\t\t\t\t\treturn elEndStart;\r\n\t\t\t\t//}\r\n\t\t\t}//}else{//text area\r\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\tdomBuilder.characters(text,0,text.length);\r\n\t\t\t\treturn elEndStart;\r\n\t\t\t//}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\treturn elStartEnd+1;\r\n}\r\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\r\n\t//if(tagName in closeMap){\r\n\tvar pos = closeMap[tagName];\r\n\tif(pos == null){\r\n\t\t//console.log(tagName)\r\n\t\tpos =  source.lastIndexOf('</'+tagName+'>')\r\n\t\tif(pos<elStartEnd){//\r\n\t\t\tpos = source.lastIndexOf('</'+tagName)\r\n\t\t}\r\n\t\tcloseMap[tagName] =pos\r\n\t}\r\n\treturn pos<elStartEnd;\r\n\t//} \r\n}\r\nfunction _copy(source,target){\r\n\tfor(var n in source){target[n] = source[n]}\r\n}\r\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\r\n\tvar next= source.charAt(start+2)\r\n\tswitch(next){\r\n\tcase '-':\r\n\t\tif(source.charAt(start + 3) === '-'){\r\n\t\t\tvar end = source.indexOf('-->',start+4);\r\n\t\t\t//append comment source.substring(4,end)//<!--\r\n\t\t\tif(end>start){\r\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\r\n\t\t\t\treturn end+3;\r\n\t\t\t}else{\r\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\t//error\r\n\t\t\treturn -1;\r\n\t\t}\r\n\tdefault:\r\n\t\tif(source.substr(start+3,6) == 'CDATA['){\r\n\t\t\tvar end = source.indexOf(']]>',start+9);\r\n\t\t\tdomBuilder.startCDATA();\r\n\t\t\tdomBuilder.characters(source,start+9,end-start-9);\r\n\t\t\tdomBuilder.endCDATA() \r\n\t\t\treturn end+3;\r\n\t\t}\r\n\t\t//<!DOCTYPE\r\n\t\t//startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId) \r\n\t\tvar matchs = split(source,start);\r\n\t\tvar len = matchs.length;\r\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\r\n\t\t\tvar name = matchs[1][0];\r\n\t\t\tvar pubid = len>3 && /^public$/i.test(matchs[2][0]) && matchs[3][0]\r\n\t\t\tvar sysid = len>4 && matchs[4][0];\r\n\t\t\tvar lastMatch = matchs[len-1]\r\n\t\t\tdomBuilder.startDTD(name,pubid && pubid.replace(/^(['\"])(.*?)\\1$/,'$2'),\r\n\t\t\t\t\tsysid && sysid.replace(/^(['\"])(.*?)\\1$/,'$2'));\r\n\t\t\tdomBuilder.endDTD();\r\n\t\t\t\r\n\t\t\treturn lastMatch.index+lastMatch[0].length\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\n\r\n\r\nfunction parseInstruction(source,start,domBuilder){\r\n\tvar end = source.indexOf('?>',start);\r\n\tif(end){\r\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\r\n\t\tif(match){\r\n\t\t\tvar len = match[0].length;\r\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\r\n\t\t\treturn end+2;\r\n\t\t}else{//error\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\n/**\r\n * @param source\r\n */\r\nfunction ElementAttributes(source){\r\n\t\r\n}\r\nElementAttributes.prototype = {\r\n\tsetTagName:function(tagName){\r\n\t\tif(!tagNamePattern.test(tagName)){\r\n\t\t\tthrow new Error('invalid tagName:'+tagName)\r\n\t\t}\r\n\t\tthis.tagName = tagName\r\n\t},\r\n\tadd:function(qName,value,offset){\r\n\t\tif(!tagNamePattern.test(qName)){\r\n\t\t\tthrow new Error('invalid attribute:'+qName)\r\n\t\t}\r\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\r\n\t},\r\n\tlength:0,\r\n\tgetLocalName:function(i){return this[i].localName},\r\n\tgetLocator:function(i){return this[i].locator},\r\n\tgetQName:function(i){return this[i].qName},\r\n\tgetURI:function(i){return this[i].uri},\r\n\tgetValue:function(i){return this[i].value}\r\n//\t,getIndex:function(uri, localName)){\r\n//\t\tif(localName){\r\n//\t\t\t\r\n//\t\t}else{\r\n//\t\t\tvar qName = uri\r\n//\t\t}\r\n//\t},\r\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\r\n//\tgetType:function(uri,localName){}\r\n//\tgetType:function(i){},\r\n}\r\n\r\n\r\n\r\n\r\nfunction _set_proto_(thiz,parent){\r\n\tthiz.__proto__ = parent;\r\n\treturn thiz;\r\n}\r\nif(!(_set_proto_({},_set_proto_.prototype) instanceof _set_proto_)){\r\n\t_set_proto_ = function(thiz,parent){\r\n\t\tfunction p(){};\r\n\t\tp.prototype = parent;\r\n\t\tp = new p();\r\n\t\tfor(parent in thiz){\r\n\t\t\tp[parent] = thiz[parent];\r\n\t\t}\r\n\t\treturn p;\r\n\t}\r\n}\r\n\r\nfunction split(source,start){\r\n\tvar match;\r\n\tvar buf = [];\r\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\r\n\treg.lastIndex = start;\r\n\treg.exec(source);//skip <\r\n\twhile(match = reg.exec(source)){\r\n\t\tbuf.push(match);\r\n\t\tif(match[1])return buf;\r\n\t}\r\n}\r\n\r\nexports.XMLReader = XMLReader;\r\n\r\n","import EventEmitter from \"event-emitter\";\nimport {extend, borders, uuid, isNumber, bounds, defer, createBlobUrl, revokeBlobUrl} from \"../../utils/core\";\nimport EpubCFI from \"../../epubcfi\";\nimport Contents from \"../../contents\";\nimport { EVENTS } from \"../../utils/constants\";\nimport { Pane, Highlight, Underline } from \"marks-pane\";\n\nclass IframeView {\n\tconstructor(section, options) {\n\t\tthis.settings = extend({\n\t\t\tignoreClass : \"\",\n\t\t\taxis: options.layout && options.layout.props.flow === \"scrolled\" ? \"vertical\" : \"horizontal\",\n\t\t\tdirection: undefined,\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t\tlayout: undefined,\n\t\t\tglobalLayoutProperties: {},\n\t\t\tmethod: undefined\n\t\t}, options || {});\n\n\t\tthis.id = \"epubjs-view-\" + uuid();\n\t\tthis.section = section;\n\t\tthis.index = section.index;\n\n\t\tthis.element = this.container(this.settings.axis);\n\n\t\tthis.added = false;\n\t\tthis.displayed = false;\n\t\tthis.rendered = false;\n\n\t\t// this.width  = this.settings.width;\n\t\t// this.height = this.settings.height;\n\n\t\tthis.fixedWidth  = 0;\n\t\tthis.fixedHeight = 0;\n\n\t\t// Blank Cfi for Parsing\n\t\tthis.epubcfi = new EpubCFI();\n\n\t\tthis.layout = this.settings.layout;\n\t\t// Dom events to listen for\n\t\t// this.listenedEvents = [\"keydown\", \"keyup\", \"keypressed\", \"mouseup\", \"mousedown\", \"click\", \"touchend\", \"touchstart\"];\n\n\t\tthis.pane = undefined;\n\t\tthis.highlights = {};\n\t\tthis.underlines = {};\n\t\tthis.marks = {};\n\n\t}\n\n\tcontainer(axis) {\n\t\tvar element = document.createElement(\"div\");\n\n\t\telement.classList.add(\"epub-view\");\n\n\t\t// this.element.style.minHeight = \"100px\";\n\t\telement.style.height = \"0px\";\n\t\telement.style.width = \"0px\";\n\t\telement.style.overflow = \"hidden\";\n\t\telement.style.position = \"relative\";\n\t\telement.style.display = \"block\";\n\n\t\tif(axis && axis == \"horizontal\"){\n\t\t\telement.style.flex = \"none\";\n\t\t} else {\n\t\t\telement.style.flex = \"initial\";\n\t\t}\n\n\t\treturn element;\n\t}\n\n\tcreate() {\n\n\t\tif(this.iframe) {\n\t\t\treturn this.iframe;\n\t\t}\n\n\t\tif(!this.element) {\n\t\t\tthis.element = this.createContainer();\n\t\t}\n\n\t\tthis.iframe = document.createElement(\"iframe\");\n\t\tthis.iframe.id = this.id;\n\t\tthis.iframe.scrolling = \"no\"; // Might need to be removed: breaks ios width calculations\n\t\tthis.iframe.style.overflow = \"hidden\";\n\t\tthis.iframe.seamless = \"seamless\";\n\t\t// Back up if seamless isn't supported\n\t\tthis.iframe.style.border = \"none\";\n\n\t\tthis.iframe.setAttribute(\"enable-annotation\", \"true\");\n\n\t\tthis.resizing = true;\n\n\t\t// this.iframe.style.display = \"none\";\n\t\tthis.element.style.visibility = \"hidden\";\n\t\tthis.iframe.style.visibility = \"hidden\";\n\n\t\tthis.iframe.style.width = \"0\";\n\t\tthis.iframe.style.height = \"0\";\n\t\tthis._width = 0;\n\t\tthis._height = 0;\n\n\t\tthis.element.setAttribute(\"ref\", this.index);\n\n\t\tthis.element.appendChild(this.iframe);\n\t\tthis.added = true;\n\n\t\tthis.elementBounds = bounds(this.element);\n\n\t\t// if(width || height){\n\t\t//   this.resize(width, height);\n\t\t// } else if(this.width && this.height){\n\t\t//   this.resize(this.width, this.height);\n\t\t// } else {\n\t\t//   this.iframeBounds = bounds(this.iframe);\n\t\t// }\n\n\n\t\tif((\"srcdoc\" in this.iframe)) {\n\t\t\tthis.supportsSrcdoc = true;\n\t\t} else {\n\t\t\tthis.supportsSrcdoc = false;\n\t\t}\n\n\t\tif (!this.settings.method) {\n\t\t\tthis.settings.method = this.supportsSrcdoc ? \"srcdoc\" : \"write\";\n\t\t}\n\n\t\treturn this.iframe;\n\t}\n\n\trender(request, show) {\n\n\t\t// view.onLayout = this.layout.format.bind(this.layout);\n\t\tthis.create();\n\n\t\t// Fit to size of the container, apply padding\n\t\tthis.size();\n\n\t\tif(!this.sectionRender) {\n\t\t\tthis.sectionRender = this.section.render(request);\n\t\t}\n\n\t\t// Render Chain\n\t\treturn this.sectionRender\n\t\t\t.then(function(contents){\n\t\t\t\treturn this.load(contents);\n\t\t\t}.bind(this))\n\t\t\t.then(function(){\n\n\t\t\t\t// apply the layout function to the contents\n\t\t\t\tthis.layout.format(this.contents);\n\n\t\t\t\t// find and report the writingMode axis\n\t\t\t\tlet writingMode = this.contents.writingMode();\n\t\t\t\tlet axis = (writingMode.indexOf(\"vertical\") === 0) ? \"vertical\" : \"horizontal\";\n\n\t\t\t\tthis.setAxis(axis);\n\t\t\t\tthis.emit(EVENTS.VIEWS.AXIS, axis);\n\n\n\t\t\t\t// Listen for events that require an expansion of the iframe\n\t\t\t\tthis.addListeners();\n\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\t// Expand the iframe to the full size of the content\n\t\t\t\t\tthis.expand();\n\t\t\t\t\tresolve();\n\t\t\t\t});\n\n\t\t\t}.bind(this), function(e){\n\t\t\t\tthis.emit(EVENTS.VIEWS.LOAD_ERROR, e);\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\treject(e);\n\t\t\t\t});\n\t\t\t}.bind(this))\n\t\t\t.then(function() {\n\t\t\t\tthis.emit(EVENTS.VIEWS.RENDERED, this.section);\n\t\t\t}.bind(this));\n\n\t}\n\n\treset () {\n\t\tif (this.iframe) {\n\t\t\tthis.iframe.style.width = \"0\";\n\t\t\tthis.iframe.style.height = \"0\";\n\t\t\tthis._width = 0;\n\t\t\tthis._height = 0;\n\t\t\tthis._textWidth = undefined;\n\t\t\tthis._contentWidth = undefined;\n\t\t\tthis._textHeight = undefined;\n\t\t\tthis._contentHeight = undefined;\n\t\t}\n\t\tthis._needsReframe = true;\n\t}\n\n\t// Determine locks base on settings\n\tsize(_width, _height) {\n\t\tvar width = _width || this.settings.width;\n\t\tvar height = _height || this.settings.height;\n\n\t\tif(this.layout.name === \"pre-paginated\") {\n\t\t\tthis.lock(\"both\", width, height);\n\t\t} else if(this.settings.axis === \"horizontal\") {\n\t\t\tthis.lock(\"height\", width, height);\n\t\t} else {\n\t\t\tthis.lock(\"width\", width, height);\n\t\t}\n\n\t\tthis.settings.width = width;\n\t\tthis.settings.height = height;\n\t}\n\n\t// Lock an axis to element dimensions, taking borders into account\n\tlock(what, width, height) {\n\t\tvar elBorders = borders(this.element);\n\t\tvar iframeBorders;\n\n\t\tif(this.iframe) {\n\t\t\tiframeBorders = borders(this.iframe);\n\t\t} else {\n\t\t\tiframeBorders = {width: 0, height: 0};\n\t\t}\n\n\t\tif(what == \"width\" && isNumber(width)){\n\t\t\tthis.lockedWidth = width - elBorders.width - iframeBorders.width;\n\t\t\t// this.resize(this.lockedWidth, width); //  width keeps ratio correct\n\t\t}\n\n\t\tif(what == \"height\" && isNumber(height)){\n\t\t\tthis.lockedHeight = height - elBorders.height - iframeBorders.height;\n\t\t\t// this.resize(width, this.lockedHeight);\n\t\t}\n\n\t\tif(what === \"both\" &&\n\t\t\t isNumber(width) &&\n\t\t\t isNumber(height)){\n\n\t\t\tthis.lockedWidth = width - elBorders.width - iframeBorders.width;\n\t\t\tthis.lockedHeight = height - elBorders.height - iframeBorders.height;\n\t\t\t// this.resize(this.lockedWidth, this.lockedHeight);\n\t\t}\n\n\t\tif(this.displayed && this.iframe) {\n\n\t\t\t// this.contents.layout();\n\t\t\tthis.expand();\n\t\t}\n\n\n\n\t}\n\n\t// Resize a single axis based on content dimensions\n\texpand(force) {\n\t\tvar width = this.lockedWidth;\n\t\tvar height = this.lockedHeight;\n\t\tvar columns;\n\n\t\tvar textWidth, textHeight;\n\n\t\tif(!this.iframe || this._expanding) return;\n\n\t\tthis._expanding = true;\n\n\t\tif(this.layout.name === \"pre-paginated\") {\n\t\t\twidth = this.layout.columnWidth;\n\t\t\theight = this.layout.height;\n\t\t}\n\t\t// Expand Horizontally\n\t\telse if(this.settings.axis === \"horizontal\") {\n\t\t\t// Get the width of the text\n\t\t\twidth = this.contents.textWidth();\n\n\t\t\tif (width % this.layout.pageWidth > 0) {\n\t\t\t\twidth = Math.ceil(width / this.layout.pageWidth) * this.layout.pageWidth;\n\t\t\t}\n\n\t\t\tif (this.settings.forceEvenPages) {\n\t\t\t\tcolumns = (width / this.layout.delta);\n\t\t\t\tif ( this.layout.divisor > 1 &&\n\t\t\t\t\t\t this.layout.name === \"reflowable\" &&\n\t\t\t\t\t\t(columns % 2 > 0)) {\n\t\t\t\t\t// add a blank page\n\t\t\t\t\twidth += this.layout.gap + this.layout.columnWidth;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} // Expand Vertically\n\t\telse if(this.settings.axis === \"vertical\") {\n\t\t\theight = this.contents.textHeight();\n\t\t}\n\n\t\t// Only Resize if dimensions have changed or\n\t\t// if Frame is still hidden, so needs reframing\n\t\tif(this._needsReframe || width != this._width || height != this._height){\n\t\t\tthis.reframe(width, height);\n\t\t}\n\n\t\tthis._expanding = false;\n\t}\n\n\treframe(width, height) {\n\t\tvar size;\n\n\t\tif(isNumber(width)){\n\t\t\tthis.element.style.width = width + \"px\";\n\t\t\tthis.iframe.style.width = width + \"px\";\n\t\t\tthis._width = width;\n\t\t}\n\n\t\tif(isNumber(height)){\n\t\t\tthis.element.style.height = height + \"px\";\n\t\t\tthis.iframe.style.height = height + \"px\";\n\t\t\tthis._height = height;\n\t\t}\n\n\t\tlet widthDelta = this.prevBounds ? width - this.prevBounds.width : width;\n\t\tlet heightDelta = this.prevBounds ? height - this.prevBounds.height : height;\n\n\t\tsize = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\twidthDelta: widthDelta,\n\t\t\theightDelta: heightDelta,\n\t\t};\n\n\t\tthis.pane && this.pane.render();\n\n\t\tthis.onResize(this, size);\n\n\t\tthis.emit(EVENTS.VIEWS.RESIZED, size);\n\n\t\tthis.prevBounds = size;\n\n\t\tthis.elementBounds = bounds(this.element);\n\n\t}\n\n\n\tload(contents) {\n\t\tvar loading = new defer();\n\t\tvar loaded = loading.promise;\n\n\t\tif(!this.iframe) {\n\t\t\tloading.reject(new Error(\"No Iframe Available\"));\n\t\t\treturn loaded;\n\t\t}\n\n\t\tthis.iframe.onload = function(event) {\n\n\t\t\tthis.onLoad(event, loading);\n\n\t\t}.bind(this);\n\n\t\tif (this.settings.method === \"blobUrl\") {\n\t\t\tthis.blobUrl = createBlobUrl(contents, \"application/xhtml+xml\");\n\t\t\tthis.iframe.src = this.blobUrl;\n\t\t} else if(this.settings.method === \"srcdoc\"){\n\t\t\tthis.iframe.srcdoc = contents;\n\t\t} else {\n\n\t\t\tthis.document = this.iframe.contentDocument;\n\n\t\t\tif(!this.document) {\n\t\t\t\tloading.reject(new Error(\"No Document Available\"));\n\t\t\t\treturn loaded;\n\t\t\t}\n\n\t\t\tthis.iframe.contentDocument.open();\n\t\t\tthis.iframe.contentDocument.write(contents);\n\t\t\tthis.iframe.contentDocument.close();\n\n\t\t}\n\n\t\treturn loaded;\n\t}\n\n\tonLoad(event, promise) {\n\n\t\tthis.window = this.iframe.contentWindow;\n\t\tthis.document = this.iframe.contentDocument;\n\n\t\tthis.contents = new Contents(this.document, this.document.body, this.section.cfiBase, this.section.index);\n\n\t\tthis.rendering = false;\n\n\t\tvar link = this.document.querySelector(\"link[rel='canonical']\");\n\t\tif (link) {\n\t\t\tlink.setAttribute(\"href\", this.section.canonical);\n\t\t} else {\n\t\t\tlink = this.document.createElement(\"link\");\n\t\t\tlink.setAttribute(\"rel\", \"canonical\");\n\t\t\tlink.setAttribute(\"href\", this.section.canonical);\n\t\t\tthis.document.querySelector(\"head\").appendChild(link);\n\t\t}\n\n\t\tthis.contents.on(EVENTS.CONTENTS.EXPAND, () => {\n\t\t\tif(this.displayed && this.iframe) {\n\t\t\t\tthis.expand();\n\t\t\t\tif (this.contents) {\n\t\t\t\t\tthis.layout.format(this.contents);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.contents.on(EVENTS.CONTENTS.RESIZE, (e) => {\n\t\t\tif(this.displayed && this.iframe) {\n\t\t\t\tthis.expand();\n\t\t\t\tif (this.contents) {\n\t\t\t\t\tthis.layout.format(this.contents);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tpromise.resolve(this.contents);\n\t}\n\n\tsetLayout(layout) {\n\t\tthis.layout = layout;\n\n\t\tif (this.contents) {\n\t\t\tthis.layout.format(this.contents);\n\t\t\tthis.expand();\n\t\t}\n\t}\n\n\tsetAxis(axis) {\n\n\t\t// Force vertical for scrolled\n\t\tif (this.layout.props.flow === \"scrolled\") {\n\t\t\taxis = \"vertical\";\n\t\t}\n\n\t\tthis.settings.axis = axis;\n\n\t\tif(axis == \"horizontal\"){\n\t\t\tthis.element.style.flex = \"none\";\n\t\t} else {\n\t\t\tthis.element.style.flex = \"initial\";\n\t\t}\n\n\t\tthis.size();\n\n\t}\n\n\taddListeners() {\n\t\t//TODO: Add content listeners for expanding\n\t}\n\n\tremoveListeners(layoutFunc) {\n\t\t//TODO: remove content listeners for expanding\n\t}\n\n\tdisplay(request) {\n\t\tvar displayed = new defer();\n\n\t\tif (!this.displayed) {\n\n\t\t\tthis.render(request)\n\t\t\t\t.then(function () {\n\n\t\t\t\t\tthis.emit(EVENTS.VIEWS.DISPLAYED, this);\n\t\t\t\t\tthis.onDisplayed(this);\n\n\t\t\t\t\tthis.displayed = true;\n\t\t\t\t\tdisplayed.resolve(this);\n\n\t\t\t\t}.bind(this), function (err) {\n\t\t\t\t\tdisplayed.reject(err, this);\n\t\t\t\t});\n\n\t\t} else {\n\t\t\tdisplayed.resolve(this);\n\t\t}\n\n\n\t\treturn displayed.promise;\n\t}\n\n\tshow() {\n\n\t\tthis.element.style.visibility = \"visible\";\n\n\t\tif(this.iframe){\n\t\t\tthis.iframe.style.visibility = \"visible\";\n\n\t\t\t// Remind Safari to redraw the iframe\n\t\t\tthis.iframe.style.transform = \"translateZ(0)\";\n\t\t\tthis.iframe.offsetWidth;\n\t\t\tthis.iframe.style.transform = null;\n\t\t}\n\n\t\tthis.emit(EVENTS.VIEWS.SHOWN, this);\n\t}\n\n\thide() {\n\t\t// this.iframe.style.display = \"none\";\n\t\tthis.element.style.visibility = \"hidden\";\n\t\tthis.iframe.style.visibility = \"hidden\";\n\n\t\tthis.stopExpanding = true;\n\t\tthis.emit(EVENTS.VIEWS.HIDDEN, this);\n\t}\n\n\toffset() {\n\t\treturn {\n\t\t\ttop: this.element.offsetTop,\n\t\t\tleft: this.element.offsetLeft\n\t\t}\n\t}\n\n\twidth() {\n\t\treturn this._width;\n\t}\n\n\theight() {\n\t\treturn this._height;\n\t}\n\n\tposition() {\n\t\treturn this.element.getBoundingClientRect();\n\t}\n\n\tlocationOf(target) {\n\t\tvar parentPos = this.iframe.getBoundingClientRect();\n\t\tvar targetPos = this.contents.locationOf(target, this.settings.ignoreClass);\n\n\t\treturn {\n\t\t\t\"left\": targetPos.left,\n\t\t\t\"top\": targetPos.top\n\t\t};\n\t}\n\n\tonDisplayed(view) {\n\t\t// Stub, override with a custom functions\n\t}\n\n\tonResize(view, e) {\n\t\t// Stub, override with a custom functions\n\t}\n\n\tbounds(force) {\n\t\tif(force || !this.elementBounds) {\n\t\t\tthis.elementBounds = bounds(this.element);\n\t\t}\n\n\t\treturn this.elementBounds;\n\t}\n\n\thighlight(cfiRange, data={}, cb, className = \"epubjs-hl\", styles = {}) {\n\t\tif (!this.contents) {\n\t\t\treturn;\n\t\t}\n\t\tconst attributes = Object.assign({\"fill\": \"yellow\", \"fill-opacity\": \"0.3\", \"mix-blend-mode\": \"multiply\"}, styles);\n\t\tlet range = this.contents.range(cfiRange);\n\n\t\tlet emitter = () => {\n\t\t\tthis.emit(EVENTS.VIEWS.MARK_CLICKED, cfiRange, data);\n\t\t};\n\n\t\tdata[\"epubcfi\"] = cfiRange;\n\n\t\tif (!this.pane) {\n\t\t\tthis.pane = new Pane(this.iframe, this.element);\n\t\t}\n\n\t\tlet m = new Highlight(range, className, data, attributes);\n\t\tlet h = this.pane.addMark(m);\n\n\t\tthis.highlights[cfiRange] = { \"mark\": h, \"element\": h.element, \"listeners\": [emitter, cb] };\n\n\t\th.element.setAttribute(\"ref\", className);\n\t\th.element.addEventListener(\"click\", emitter);\n\t\th.element.addEventListener(\"touchstart\", emitter);\n\n\t\tif (cb) {\n\t\t\th.element.addEventListener(\"click\", cb);\n\t\t\th.element.addEventListener(\"touchstart\", cb);\n\t\t}\n\t\treturn h;\n\t}\n\n\tunderline(cfiRange, data={}, cb, className = \"epubjs-ul\", styles = {}) {\n\t\tif (!this.contents) {\n\t\t\treturn;\n\t\t}\n\t\tconst attributes = Object.assign({\"stroke\": \"black\", \"stroke-opacity\": \"0.3\", \"mix-blend-mode\": \"multiply\"}, styles);\n\t\tlet range = this.contents.range(cfiRange);\n\t\tlet emitter = () => {\n\t\t\tthis.emit(EVENTS.VIEWS.MARK_CLICKED, cfiRange, data);\n\t\t};\n\n\t\tdata[\"epubcfi\"] = cfiRange;\n\n\t\tif (!this.pane) {\n\t\t\tthis.pane = new Pane(this.iframe, this.element);\n\t\t}\n\n\t\tlet m = new Underline(range, className, data, attributes);\n\t\tlet h = this.pane.addMark(m);\n\n\t\tthis.underlines[cfiRange] = { \"mark\": h, \"element\": h.element, \"listeners\": [emitter, cb] };\n\n\t\th.element.setAttribute(\"ref\", className);\n\t\th.element.addEventListener(\"click\", emitter);\n\t\th.element.addEventListener(\"touchstart\", emitter);\n\n\t\tif (cb) {\n\t\t\th.element.addEventListener(\"click\", cb);\n\t\t\th.element.addEventListener(\"touchstart\", cb);\n\t\t}\n\t\treturn h;\n\t}\n\n\tmark(cfiRange, data={}, cb) {\n\n\t\tif (!this.contents) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (cfiRange in this.marks) {\n\t\t\tlet item = this.marks[cfiRange];\n\t\t\treturn item;\n\t\t}\n\n\t\tlet range = this.contents.range(cfiRange);\n\t\tif (!range) {\n\t\t\treturn;\n\t\t}\n\t\tlet container = range.commonAncestorContainer;\n\t\tlet parent = (container.nodeType === 1) ? container : container.parentNode;\n\n\t\tlet emitter = (e) => {\n\t\t\tthis.emit(EVENTS.VIEWS.MARK_CLICKED, cfiRange, data);\n\t\t};\n\n\t\tif (range.collapsed && container.nodeType === 1) {\n\t\t\trange = new Range();\n\t\t\trange.selectNodeContents(container);\n\t\t} else if (range.collapsed) { // Webkit doesn't like collapsed ranges\n\t\t\trange = new Range();\n\t\t\trange.selectNodeContents(parent);\n\t\t}\n\n\t\tlet top, right, left;\n\n\t\tif(this.layout.name === \"pre-paginated\" ||\n\t\t\tthis.settings.axis !== \"horizontal\") {\n\t\t\tlet pos = range.getBoundingClientRect();\n\t\t\ttop = pos.top;\n\t\t\tright = pos.right;\n\t\t} else {\n\t\t\t// Element might break columns, so find the left most element\n\t\t\tlet rects = range.getClientRects();\n\t\t\tlet rect;\n\t\t\tfor (var i = 0; i != rects.length; i++) {\n\t\t\t\trect = rects[i];\n\t\t\t\tif (!left || rect.left < left) {\n\t\t\t\t\tleft = rect.left;\n\t\t\t\t\tright = left + this.layout.columnWidth - this.layout.gap;\n\t\t\t\t\ttop = rect.top;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\n\t\tlet mark = this.document.createElement(\"a\");\n\t\tmark.setAttribute(\"ref\", \"epubjs-mk\");\n\t\tmark.style.position = \"absolute\";\n\t\tmark.style.top = `${top}px`;\n\t\tmark.style.left = `${right}px`;\n\n\t\tmark.dataset[\"epubcfi\"] = cfiRange;\n\n\t\tif (data) {\n\t\t\tObject.keys(data).forEach((key) => {\n\t\t\t\tmark.dataset[key] = data[key];\n\t\t\t});\n\t\t}\n\n\t\tif (cb) {\n\t\t\tmark.addEventListener(\"click\", cb);\n\t\t\tmark.addEventListener(\"touchstart\", cb);\n\t\t}\n\n\t\tmark.addEventListener(\"click\", emitter);\n\t\tmark.addEventListener(\"touchstart\", emitter);\n\n\t\tthis.element.appendChild(mark);\n\n\t\tthis.marks[cfiRange] = { \"element\": mark, \"listeners\": [emitter, cb] };\n\n\t\treturn parent;\n\t}\n\n\tunhighlight(cfiRange) {\n\t\tlet item;\n\t\tif (cfiRange in this.highlights) {\n\t\t\titem = this.highlights[cfiRange];\n\n\t\t\tthis.pane.removeMark(item.mark);\n\t\t\titem.listeners.forEach((l) => {\n\t\t\t\tif (l) { item.element.removeEventListener(\"click\", l) };\n\t\t\t});\n\t\t\tdelete this.highlights[cfiRange];\n\t\t}\n\t}\n\n\tununderline(cfiRange) {\n\t\tlet item;\n\t\tif (cfiRange in this.underlines) {\n\t\t\titem = this.underlines[cfiRange];\n\t\t\tthis.pane.removeMark(item.mark);\n\t\t\titem.listeners.forEach((l) => {\n\t\t\t\tif (l) { item.element.removeEventListener(\"click\", l) };\n\t\t\t});\n\t\t\tdelete this.underlines[cfiRange];\n\t\t}\n\t}\n\n\tunmark(cfiRange) {\n\t\tlet item;\n\t\tif (cfiRange in this.marks) {\n\t\t\titem = this.marks[cfiRange];\n\t\t\tthis.element.removeChild(item.element);\n\t\t\titem.listeners.forEach((l) => {\n\t\t\t\tif (l) { item.element.removeEventListener(\"click\", l) };\n\t\t\t});\n\t\t\tdelete this.marks[cfiRange];\n\t\t}\n\t}\n\n\tdestroy() {\n\n\t\tfor (let cfiRange in this.highlights) {\n\t\t\tthis.unhighlight(cfiRange);\n\t\t}\n\n\t\tfor (let cfiRange in this.underlines) {\n\t\t\tthis.ununderline(cfiRange);\n\t\t}\n\n\t\tfor (let cfiRange in this.marks) {\n\t\t\tthis.unmark(cfiRange);\n\t\t}\n\n\t\tif (this.blobUrl) {\n\t\t\trevokeBlobUrl(this.blobUrl);\n\t\t}\n\n\t\tif(this.displayed){\n\t\t\tthis.displayed = false;\n\n\t\t\tthis.removeListeners();\n\n\t\t\tthis.stopExpanding = true;\n\t\t\tthis.element.removeChild(this.iframe);\n\n\t\t\tthis.iframe = undefined;\n\t\t\tthis.contents = undefined;\n\n\t\t\tthis._textWidth = null;\n\t\t\tthis._textHeight = null;\n\t\t\tthis._width = null;\n\t\t\tthis._height = null;\n\t\t}\n\n\t\t// this.element.style.height = \"0px\";\n\t\t// this.element.style.width = \"0px\";\n\t}\n}\n\nEventEmitter(IframeView.prototype);\n\nexport default IframeView;\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Ebook.vue?vue&type=style&index=0&id=3cef6e76&lang=scss&scoped=true&\"","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","import {uuid, isNumber, isElement, windowBounds} from \"../../utils/core\";\nimport throttle from 'lodash/throttle'\n\nclass Stage {\n\tconstructor(_options) {\n\t\tthis.settings = _options || {};\n\t\tthis.id = \"epubjs-container-\" + uuid();\n\n\t\tthis.container = this.create(this.settings);\n\n\t\tif(this.settings.hidden) {\n\t\t\tthis.wrapper = this.wrap(this.container);\n\t\t}\n\n\t}\n\n\t/*\n\t* Creates an element to render to.\n\t* Resizes to passed width and height or to the elements size\n\t*/\n\tcreate(options){\n\t\tlet height  = options.height;// !== false ? options.height : \"100%\";\n\t\tlet width   = options.width;// !== false ? options.width : \"100%\";\n\t\tlet overflow  = options.overflow || false;\n\t\tlet axis = options.axis || \"vertical\";\n\t\tlet direction = options.direction;\n\n\t\tif(options.height && isNumber(options.height)) {\n\t\t\theight = options.height + \"px\";\n\t\t}\n\n\t\tif(options.width && isNumber(options.width)) {\n\t\t\twidth = options.width + \"px\";\n\t\t}\n\n\t\t// Create new container element\n\t\tlet container = document.createElement(\"div\");\n\n\t\tcontainer.id = this.id;\n\t\tcontainer.classList.add(\"epub-container\");\n\n\t\t// Style Element\n\t\t// container.style.fontSize = \"0\";\n\t\tcontainer.style.wordSpacing = \"0\";\n\t\tcontainer.style.lineHeight = \"0\";\n\t\tcontainer.style.verticalAlign = \"top\";\n\t\tcontainer.style.position = \"relative\";\n\n\t\tif(axis === \"horizontal\") {\n\t\t\t// container.style.whiteSpace = \"nowrap\";\n\t\t\tcontainer.style.display = \"flex\";\n\t\t\tcontainer.style.flexDirection = \"row\";\n\t\t\tcontainer.style.flexWrap = \"nowrap\";\n\t\t}\n\n\t\tif(width){\n\t\t\tcontainer.style.width = width;\n\t\t}\n\n\t\tif(height){\n\t\t\tcontainer.style.height = height;\n\t\t}\n\n\t\tif (overflow) {\n\t\t\tcontainer.style.overflow = overflow;\n\t\t}\n\n\t\tif (direction) {\n\t\t\tcontainer.dir = direction;\n\t\t\tcontainer.style[\"direction\"] = direction;\n\t\t}\n\n\t\tif (direction && this.settings.fullsize) {\n\t\t\tdocument.body.style[\"direction\"] = direction;\n\t\t}\n\n\t\treturn container;\n\t}\n\n\twrap(container) {\n\t\tvar wrapper = document.createElement(\"div\");\n\n\t\twrapper.style.visibility = \"hidden\";\n\t\twrapper.style.overflow = \"hidden\";\n\t\twrapper.style.width = \"0\";\n\t\twrapper.style.height = \"0\";\n\n\t\twrapper.appendChild(container);\n\t\treturn wrapper;\n\t}\n\n\n\tgetElement(_element){\n\t\tvar element;\n\n\t\tif(isElement(_element)) {\n\t\t\telement = _element;\n\t\t} else if (typeof _element === \"string\") {\n\t\t\telement = document.getElementById(_element);\n\t\t}\n\n\t\tif(!element){\n\t\t\tthrow new Error(\"Not an Element\");\n\t\t}\n\n\t\treturn element;\n\t}\n\n\tattachTo(what){\n\n\t\tvar element = this.getElement(what);\n\t\tvar base;\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\tif(this.settings.hidden) {\n\t\t\tbase = this.wrapper;\n\t\t} else {\n\t\t\tbase = this.container;\n\t\t}\n\n\t\telement.appendChild(base);\n\n\t\tthis.element = element;\n\n\t\treturn element;\n\n\t}\n\n\tgetContainer() {\n\t\treturn this.container;\n\t}\n\n\tonResize(func){\n\t\t// Only listen to window for resize event if width and height are not fixed.\n\t\t// This applies if it is set to a percent or auto.\n\t\tif(!isNumber(this.settings.width) ||\n\t\t\t !isNumber(this.settings.height) ) {\n\t\t\tthis.resizeFunc = throttle(func, 50);\n\t\t\twindow.addEventListener(\"resize\", this.resizeFunc, false);\n\t\t}\n\n\t}\n\n\tonOrientationChange(func){\n\t\tthis.orientationChangeFunc = func;\n\t\twindow.addEventListener(\"orientationchange\", this.orientationChangeFunc, false);\n\t}\n\n\tsize(width, height){\n\t\tvar bounds;\n\t\t// var width = _width || this.settings.width;\n\t\t// var height = _height || this.settings.height;\n\n\t\t// If width or height are set to false, inherit them from containing element\n\t\tif(width === null) {\n\t\t\tbounds = this.element.getBoundingClientRect();\n\n\t\t\tif(bounds.width) {\n\t\t\t\twidth = Math.floor(bounds.width);\n\t\t\t\tthis.container.style.width = width + \"px\";\n\t\t\t}\n\t\t} else {\n\t\t\tif (isNumber(width)) {\n\t\t\t\tthis.container.style.width = width + \"px\";\n\t\t\t} else {\n\t\t\t\tthis.container.style.width = width;\n\t\t\t}\n\t\t}\n\n\t\tif(height === null) {\n\t\t\tbounds = bounds || this.element.getBoundingClientRect();\n\n\t\t\tif(bounds.height) {\n\t\t\t\theight = bounds.height;\n\t\t\t\tthis.container.style.height = height + \"px\";\n\t\t\t}\n\n\t\t} else {\n\t\t\tif (isNumber(height)) {\n\t\t\t\tthis.container.style.height = height + \"px\";\n\t\t\t} else {\n\t\t\t\tthis.container.style.height = height;\n\t\t\t}\n\t\t}\n\n\t\tif(!isNumber(width)) {\n\t\t\tbounds = this.container.getBoundingClientRect();\n\t\t\twidth = Math.floor(bounds.width);\n\t\t\t//height = bounds.height;\n\t\t}\n\n\t\tif(!isNumber(height)) {\n\t\t\tbounds = bounds || this.container.getBoundingClientRect();\n\t\t\t//width = bounds.width;\n\t\t\theight = bounds.height;\n\t\t}\n\n\n\t\tthis.containerStyles = window.getComputedStyle(this.container);\n\n\t\tthis.containerPadding = {\n\t\t\tleft: parseFloat(this.containerStyles[\"padding-left\"]) || 0,\n\t\t\tright: parseFloat(this.containerStyles[\"padding-right\"]) || 0,\n\t\t\ttop: parseFloat(this.containerStyles[\"padding-top\"]) || 0,\n\t\t\tbottom: parseFloat(this.containerStyles[\"padding-bottom\"]) || 0\n\t\t};\n\n\t\t// Bounds not set, get them from window\n\t\tlet _windowBounds = windowBounds();\n\t\tlet bodyStyles = window.getComputedStyle(document.body);\n\t\tlet bodyPadding = {\n\t\t\tleft: parseFloat(bodyStyles[\"padding-left\"]) || 0,\n\t\t\tright: parseFloat(bodyStyles[\"padding-right\"]) || 0,\n\t\t\ttop: parseFloat(bodyStyles[\"padding-top\"]) || 0,\n\t\t\tbottom: parseFloat(bodyStyles[\"padding-bottom\"]) || 0\n\t\t};\n\n\t\tif (!width) {\n\t\t\twidth = _windowBounds.width -\n\t\t\t\t\t\t\t\tbodyPadding.left -\n\t\t\t\t\t\t\t\tbodyPadding.right;\n\t\t}\n\t\tif ((this.settings.fullsize && !height) || !height) {\n\t\t\theight = _windowBounds.height -\n\t\t\t\t\t\t\t\tbodyPadding.top -\n\t\t\t\t\t\t\t\tbodyPadding.bottom;\n\t\t}\n\n\t\treturn {\n\t\t\twidth: width -\n\t\t\t\t\t\t\tthis.containerPadding.left -\n\t\t\t\t\t\t\tthis.containerPadding.right,\n\t\t\theight: height -\n\t\t\t\t\t\t\tthis.containerPadding.top -\n\t\t\t\t\t\t\tthis.containerPadding.bottom\n\t\t};\n\n\t}\n\n\tbounds(){\n\t\tlet box;\n\t\tif (this.container.style.overflow !== \"visible\") {\n\t\t\tbox = this.container && this.container.getBoundingClientRect();\n\t\t}\n\n\t\tif(!box || !box.width || !box.height) {\n\t\t\treturn windowBounds();\n\t\t} else {\n\t\t\treturn box;\n\t\t}\n\n\t}\n\n\tgetSheet(){\n\t\tvar style = document.createElement(\"style\");\n\n\t\t// WebKit hack --> https://davidwalsh.name/add-rules-stylesheets\n\t\tstyle.appendChild(document.createTextNode(\"\"));\n\n\t\tdocument.head.appendChild(style);\n\n\t\treturn style.sheet;\n\t}\n\n\taddStyleRules(selector, rulesArray){\n\t\tvar scope = \"#\" + this.id + \" \";\n\t\tvar rules = \"\";\n\n\t\tif(!this.sheet){\n\t\t\tthis.sheet = this.getSheet();\n\t\t}\n\n\t\trulesArray.forEach(function(set) {\n\t\t\tfor (var prop in set) {\n\t\t\t\tif(set.hasOwnProperty(prop)) {\n\t\t\t\t\trules += prop + \":\" + set[prop] + \";\";\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tthis.sheet.insertRule(scope + selector + \" {\" + rules + \"}\", 0);\n\t}\n\n\taxis(axis) {\n\t\tif(axis === \"horizontal\") {\n\t\t\tthis.container.style.display = \"flex\";\n\t\t\tthis.container.style.flexDirection = \"row\";\n\t\t\tthis.container.style.flexWrap = \"nowrap\";\n\t\t} else {\n\t\t\tthis.container.style.display = \"block\";\n\t\t}\n\t}\n\n\t// orientation(orientation) {\n\t// \tif (orientation === \"landscape\") {\n\t//\n\t// \t} else {\n\t//\n\t// \t}\n\t//\n\t// \tthis.orientation = orientation;\n\t// }\n\n\tdirection(dir) {\n\t\tif (this.container) {\n\t\t\tthis.container.dir = dir;\n\t\t\tthis.container.style[\"direction\"] = dir;\n\t\t}\n\n\t\tif (this.settings.fullsize) {\n\t\t\tdocument.body.style[\"direction\"] = dir;\n\t\t}\n\t}\n\n\tdestroy() {\n\t\tvar base;\n\n\t\tif (this.element) {\n\n\t\t\tif(this.settings.hidden) {\n\t\t\t\tbase = this.wrapper;\n\t\t\t} else {\n\t\t\t\tbase = this.container;\n\t\t\t}\n\n\t\t\tif(this.element.contains(this.container)) {\n\t\t\t\tthis.element.removeChild(this.container);\n\t\t\t}\n\n\t\t\twindow.removeEventListener(\"resize\", this.resizeFunc);\n\t\t\twindow.removeEventListener(\"orientationChange\", this.orientationChangeFunc);\n\n\t\t}\n\t}\n}\n\nexport default Stage;\n","class Views {\n\tconstructor(container) {\n\t\tthis.container = container;\n\t\tthis._views = [];\n\t\tthis.length = 0;\n\t\tthis.hidden = false;\n\t}\n\n\tall() {\n\t\treturn this._views;\n\t}\n\n\tfirst() {\n\t\treturn this._views[0];\n\t}\n\n\tlast() {\n\t\treturn this._views[this._views.length-1];\n\t}\n\n\tindexOf(view) {\n\t\treturn this._views.indexOf(view);\n\t}\n\n\tslice() {\n\t\treturn this._views.slice.apply(this._views, arguments);\n\t}\n\n\tget(i) {\n\t\treturn this._views[i];\n\t}\n\n\tappend(view){\n\t\tthis._views.push(view);\n\t\tif(this.container){\n\t\t\tthis.container.appendChild(view.element);\n\t\t}\n\t\tthis.length++;\n\t\treturn view;\n\t}\n\n\tprepend(view){\n\t\tthis._views.unshift(view);\n\t\tif(this.container){\n\t\t\tthis.container.insertBefore(view.element, this.container.firstChild);\n\t\t}\n\t\tthis.length++;\n\t\treturn view;\n\t}\n\n\tinsert(view, index) {\n\t\tthis._views.splice(index, 0, view);\n\n\t\tif(this.container){\n\t\t\tif(index < this.container.children.length){\n\t\t\t\tthis.container.insertBefore(view.element, this.container.children[index]);\n\t\t\t} else {\n\t\t\t\tthis.container.appendChild(view.element);\n\t\t\t}\n\t\t}\n\n\t\tthis.length++;\n\t\treturn view;\n\t}\n\n\tremove(view) {\n\t\tvar index = this._views.indexOf(view);\n\n\t\tif(index > -1) {\n\t\t\tthis._views.splice(index, 1);\n\t\t}\n\n\n\t\tthis.destroy(view);\n\n\t\tthis.length--;\n\t}\n\n\tdestroy(view) {\n\t\tif(view.displayed){\n\t\t\tview.destroy();\n\t\t}\n\n\t\tif(this.container){\n\t\t\t this.container.removeChild(view.element);\n\t\t}\n\t\tview = null;\n\t}\n\n\t// Iterators\n\n\tforEach() {\n\t\treturn this._views.forEach.apply(this._views, arguments);\n\t}\n\n\tclear(){\n\t\t// Remove all views\n\t\tvar view;\n\t\tvar len = this.length;\n\n\t\tif(!this.length) return;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tview = this._views[i];\n\t\t\tthis.destroy(view);\n\t\t}\n\n\t\tthis._views = [];\n\t\tthis.length = 0;\n\t}\n\n\tfind(section){\n\n\t\tvar view;\n\t\tvar len = this.length;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tview = this._views[i];\n\t\t\tif(view.displayed && view.section.index == section.index) {\n\t\t\t\treturn view;\n\t\t\t}\n\t\t}\n\n\t}\n\n\tdisplayed(){\n\t\tvar displayed = [];\n\t\tvar view;\n\t\tvar len = this.length;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tview = this._views[i];\n\t\t\tif(view.displayed){\n\t\t\t\tdisplayed.push(view);\n\t\t\t}\n\t\t}\n\t\treturn displayed;\n\t}\n\n\tshow(){\n\t\tvar view;\n\t\tvar len = this.length;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tview = this._views[i];\n\t\t\tif(view.displayed){\n\t\t\t\tview.show();\n\t\t\t}\n\t\t}\n\t\tthis.hidden = false;\n\t}\n\n\thide(){\n\t\tvar view;\n\t\tvar len = this.length;\n\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tview = this._views[i];\n\t\t\tif(view.displayed){\n\t\t\t\tview.hide();\n\t\t\t}\n\t\t}\n\t\tthis.hidden = true;\n\t}\n}\n\nexport default Views;\n","import EventEmitter from \"event-emitter\";\nimport {extend, defer, windowBounds, isNumber} from \"../../utils/core\";\nimport Mapping from \"../../mapping\";\nimport Queue from \"../../utils/queue\";\nimport Stage from \"../helpers/stage\";\nimport Views from \"../helpers/views\";\nimport { EVENTS } from \"../../utils/constants\";\n\nclass DefaultViewManager {\n\tconstructor(options) {\n\n\t\tthis.name = \"default\";\n\t\tthis.optsSettings = options.settings;\n\t\tthis.View = options.view;\n\t\tthis.request = options.request;\n\t\tthis.renditionQueue = options.queue;\n\t\tthis.q = new Queue(this);\n\n\t\tthis.settings = extend(this.settings || {}, {\n\t\t\tinfinite: true,\n\t\t\thidden: false,\n\t\t\twidth: undefined,\n\t\t\theight: undefined,\n\t\t\taxis: undefined,\n\t\t\tflow: \"scrolled\",\n\t\t\tignoreClass: \"\",\n\t\t\tfullsize: undefined\n\t\t});\n\n\t\textend(this.settings, options.settings || {});\n\n\t\tthis.viewSettings = {\n\t\t\tignoreClass: this.settings.ignoreClass,\n\t\t\taxis: this.settings.axis,\n\t\t\tflow: this.settings.flow,\n\t\t\tlayout: this.layout,\n\t\t\tmethod: this.settings.method, // srcdoc, blobUrl, write\n\t\t\twidth: 0,\n\t\t\theight: 0,\n\t\t\tforceEvenPages: true\n\t\t};\n\n\t\tthis.rendered = false;\n\n\t}\n\n\trender(element, size){\n\t\tlet tag = element.tagName;\n\n\t\tif (typeof this.settings.fullsize === \"undefined\" &&\n\t\t\t\ttag && (tag.toLowerCase() == \"body\" ||\n\t\t\t\ttag.toLowerCase() == \"html\")) {\n\t\t\t\tthis.settings.fullsize = true;\n\t\t}\n\n\t\tif (this.settings.fullsize) {\n\t\t\tthis.settings.overflow = \"visible\";\n\t\t\tthis.overflow = this.settings.overflow;\n\t\t}\n\n\t\tthis.settings.size = size;\n\n\t\t// Save the stage\n\t\tthis.stage = new Stage({\n\t\t\twidth: size.width,\n\t\t\theight: size.height,\n\t\t\toverflow: this.overflow,\n\t\t\thidden: this.settings.hidden,\n\t\t\taxis: this.settings.axis,\n\t\t\tfullsize: this.settings.fullsize,\n\t\t\tdirection: this.settings.direction\n\t\t});\n\n\t\tthis.stage.attachTo(element);\n\n\t\t// Get this stage container div\n\t\tthis.container = this.stage.getContainer();\n\n\t\t// Views array methods\n\t\tthis.views = new Views(this.container);\n\n\t\t// Calculate Stage Size\n\t\tthis._bounds = this.bounds();\n\t\tthis._stageSize = this.stage.size();\n\n\t\t// Set the dimensions for views\n\t\tthis.viewSettings.width = this._stageSize.width;\n\t\tthis.viewSettings.height = this._stageSize.height;\n\n\t\t// Function to handle a resize event.\n\t\t// Will only attach if width and height are both fixed.\n\t\tthis.stage.onResize(this.onResized.bind(this));\n\n\t\tthis.stage.onOrientationChange(this.onOrientationChange.bind(this));\n\n\t\t// Add Event Listeners\n\t\tthis.addEventListeners();\n\n\t\t// Add Layout method\n\t\t// this.applyLayoutMethod();\n\t\tif (this.layout) {\n\t\t\tthis.updateLayout();\n\t\t}\n\n\t\tthis.rendered = true;\n\n\t}\n\n\taddEventListeners(){\n\t\tvar scroller;\n\n\t\twindow.addEventListener(\"unload\", function(e){\n\t\t\tthis.destroy();\n\t\t}.bind(this));\n\n\t\tif(!this.settings.fullsize) {\n\t\t\tscroller = this.container;\n\t\t} else {\n\t\t\tscroller = window;\n\t\t}\n\n\t\tscroller.addEventListener(\"scroll\", this.onScroll.bind(this));\n\t}\n\n\tremoveEventListeners(){\n\t\tvar scroller;\n\n\t\tif(!this.settings.fullsize) {\n\t\t\tscroller = this.container;\n\t\t} else {\n\t\t\tscroller = window;\n\t\t}\n\n\t\tscroller.removeEventListener(\"scroll\", this.onScroll.bind(this));\n\t}\n\n\tdestroy(){\n\t\tclearTimeout(this.orientationTimeout);\n\t\tclearTimeout(this.resizeTimeout);\n\t\tclearTimeout(this.afterScrolled);\n\n\t\tthis.clear();\n\n\t\tthis.removeEventListeners();\n\n\t\tthis.stage.destroy();\n\n\t\tthis.rendered = false;\n\n\t\t/*\n\n\t\t\tclearTimeout(this.trimTimeout);\n\t\t\tif(this.settings.hidden) {\n\t\t\t\tthis.element.removeChild(this.wrapper);\n\t\t\t} else {\n\t\t\t\tthis.element.removeChild(this.container);\n\t\t\t}\n\t\t*/\n\t}\n\n\tonOrientationChange(e) {\n\t\tlet {orientation} = window;\n\n\t\tif(this.optsSettings.resizeOnOrientationChange) {\n\t\t\tthis.resize();\n\t\t}\n\n\t\t// Per ampproject:\n\t\t// In IOS 10.3, the measured size of an element is incorrect if the\n\t\t// element size depends on window size directly and the measurement\n\t\t// happens in window.resize event. Adding a timeout for correct\n\t\t// measurement. See https://github.com/ampproject/amphtml/issues/8479\n\t\tclearTimeout(this.orientationTimeout);\n\t\tthis.orientationTimeout = setTimeout(function(){\n\t\t\tthis.orientationTimeout = undefined;\n\n\t\t\tif(this.optsSettings.resizeOnOrientationChange) {\n\t\t\t\tthis.resize();\n\t\t\t}\n\n\t\t\tthis.emit(EVENTS.MANAGERS.ORIENTATION_CHANGE, orientation);\n\t\t}.bind(this), 500);\n\n\t}\n\n\tonResized(e) {\n\t\tthis.resize();\n\t}\n\n\tresize(width, height){\n\t\tlet stageSize = this.stage.size(width, height);\n\n\t\t// For Safari, wait for orientation to catch up\n\t\t// if the window is a square\n\t\tthis.winBounds = windowBounds();\n\t\tif (this.orientationTimeout &&\n\t\t\t\tthis.winBounds.width === this.winBounds.height) {\n\t\t\t// reset the stage size for next resize\n\t\t\tthis._stageSize = undefined;\n\t\t\treturn;\n\t\t}\n\n\t\tif (this._stageSize &&\n\t\t\t\tthis._stageSize.width === stageSize.width &&\n\t\t\t\tthis._stageSize.height === stageSize.height ) {\n\t\t\t// Size is the same, no need to resize\n\t\t\treturn;\n\t\t}\n\n\t\tthis._stageSize = stageSize;\n\n\t\tthis._bounds = this.bounds();\n\n\t\t// Clear current views\n\t\tthis.clear();\n\n\t\t// Update for new views\n\t\tthis.viewSettings.width = this._stageSize.width;\n\t\tthis.viewSettings.height = this._stageSize.height;\n\n\t\tthis.updateLayout();\n\n\t\tthis.emit(EVENTS.MANAGERS.RESIZED, {\n\t\t\twidth: this._stageSize.width,\n\t\t\theight: this._stageSize.height\n\t\t});\n\t}\n\n\tcreateView(section) {\n\t\treturn new this.View(section, this.viewSettings);\n\t}\n\n\tdisplay(section, target){\n\n\t\tvar displaying = new defer();\n\t\tvar displayed = displaying.promise;\n\n\t\t// Check if moving to target is needed\n\t\tif (target === section.href || isNumber(target)) {\n\t\t\ttarget = undefined;\n\t\t}\n\n\t\t// Check to make sure the section we want isn't already shown\n\t\tvar visible = this.views.find(section);\n\n\t\t// View is already shown, just move to correct location in view\n\t\tif(visible && section) {\n\t\t\tlet offset = visible.offset();\n\n\t\t\tif (this.settings.direction === \"ltr\") {\n\t\t\t\tthis.scrollTo(offset.left, offset.top, true);\n\t\t\t} else {\n\t\t\t\tlet width = visible.width();\n\t\t\t\tthis.scrollTo(offset.left + width, offset.top, true);\n\t\t\t}\n\n\t\t\tif(target) {\n\t\t\t\tlet offset = visible.locationOf(target);\n\t\t\t\tthis.moveTo(offset);\n\t\t\t}\n\n\t\t\tdisplaying.resolve();\n\t\t\treturn displayed;\n\t\t}\n\n\t\t// Hide all current views\n\t\tthis.clear();\n\n\t\tthis.add(section)\n\t\t\t.then(function(view){\n\n\t\t\t\t// Move to correct place within the section, if needed\n\t\t\t\tif(target) {\n\t\t\t\t\tlet offset = view.locationOf(target);\n\t\t\t\t\tthis.moveTo(offset);\n\t\t\t\t}\n\n\t\t\t}.bind(this), (err) => {\n\t\t\t\tdisplaying.reject(err);\n\t\t\t})\n\t\t\t.then(function(){\n\t\t\t\tvar next;\n\t\t\t\tif (this.layout.name === \"pre-paginated\" &&\n\t\t\t\t\t\tthis.layout.divisor > 1) {\n\t\t\t\t\tnext = section.next();\n\t\t\t\t\tif (next) {\n\t\t\t\t\t\treturn this.add(next);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}.bind(this))\n\t\t\t.then(function(){\n\n\t\t\t\tthis.views.show();\n\n\t\t\t\tdisplaying.resolve();\n\n\t\t\t}.bind(this));\n\t\t// .then(function(){\n\t\t// \treturn this.hooks.display.trigger(view);\n\t\t// }.bind(this))\n\t\t// .then(function(){\n\t\t// \tthis.views.show();\n\t\t// }.bind(this));\n\t\treturn displayed;\n\t}\n\n\tafterDisplayed(view){\n\t\tthis.emit(EVENTS.MANAGERS.ADDED, view);\n\t}\n\n\tafterResized(view){\n\t\tthis.emit(EVENTS.MANAGERS.RESIZE, view.section);\n\t}\n\n\tmoveTo(offset){\n\t\tvar distX = 0,\n\t\t\t  distY = 0;\n\n\t\tif(!this.isPaginated) {\n\t\t\tdistY = offset.top;\n\t\t} else {\n\t\t\tdistX = Math.floor(offset.left / this.layout.delta) * this.layout.delta;\n\n\t\t\tif (distX + this.layout.delta > this.container.scrollWidth) {\n\t\t\t\tdistX = this.container.scrollWidth - this.layout.delta;\n\t\t\t}\n\t\t}\n\t\tthis.scrollTo(distX, distY, true);\n\t}\n\n\tadd(section){\n\t\tvar view = this.createView(section);\n\n\t\tthis.views.append(view);\n\n\t\t// view.on(EVENTS.VIEWS.SHOWN, this.afterDisplayed.bind(this));\n\t\tview.onDisplayed = this.afterDisplayed.bind(this);\n\t\tview.onResize = this.afterResized.bind(this);\n\n\t\tview.on(EVENTS.VIEWS.AXIS, (axis) => {\n\t\t\tthis.updateAxis(axis);\n\t\t});\n\n\t\treturn view.display(this.request);\n\n\t}\n\n\tappend(section){\n\t\tvar view = this.createView(section);\n\t\tthis.views.append(view);\n\n\t\tview.onDisplayed = this.afterDisplayed.bind(this);\n\t\tview.onResize = this.afterResized.bind(this);\n\n\t\tview.on(EVENTS.VIEWS.AXIS, (axis) => {\n\t\t\tthis.updateAxis(axis);\n\t\t});\n\n\t\treturn view.display(this.request);\n\t}\n\n\tprepend(section){\n\t\tvar view = this.createView(section);\n\n\t\tview.on(EVENTS.VIEWS.RESIZED, (bounds) => {\n\t\t\tthis.counter(bounds);\n\t\t});\n\n\t\tthis.views.prepend(view);\n\n\t\tview.onDisplayed = this.afterDisplayed.bind(this);\n\t\tview.onResize = this.afterResized.bind(this);\n\n\t\tview.on(EVENTS.VIEWS.AXIS, (axis) => {\n\t\t\tthis.updateAxis(axis);\n\t\t});\n\n\t\treturn view.display(this.request);\n\t}\n\n\tcounter(bounds){\n\t\tif(this.settings.axis === \"vertical\") {\n\t\t\tthis.scrollBy(0, bounds.heightDelta, true);\n\t\t} else {\n\t\t\tthis.scrollBy(bounds.widthDelta, 0, true);\n\t\t}\n\n\t}\n\n\t// resizeView(view) {\n\t//\n\t// \tif(this.settings.globalLayoutProperties.layout === \"pre-paginated\") {\n\t// \t\tview.lock(\"both\", this.bounds.width, this.bounds.height);\n\t// \t} else {\n\t// \t\tview.lock(\"width\", this.bounds.width, this.bounds.height);\n\t// \t}\n\t//\n\t// };\n\n\tnext(){\n\t\tvar next;\n\t\tvar left;\n\n\t\tlet dir = this.settings.direction;\n\n\t\tif(!this.views.length) return;\n\n\t\tif(this.isPaginated && this.settings.axis === \"horizontal\" && (!dir || dir === \"ltr\")) {\n\n\t\t\tthis.scrollLeft = this.container.scrollLeft;\n\n\t\t\tleft = this.container.scrollLeft + this.container.offsetWidth + this.layout.delta;\n\n\t\t\tif(left <= this.container.scrollWidth) {\n\t\t\t\tthis.scrollBy(this.layout.delta, 0, true);\n\t\t\t} else {\n\t\t\t\tnext = this.views.last().section.next();\n\t\t\t}\n\t\t} else if (this.isPaginated && this.settings.axis === \"horizontal\" && dir === \"rtl\") {\n\n\t\t\tthis.scrollLeft = this.container.scrollLeft;\n\n\t\t\tleft = this.container.scrollLeft;\n\n\t\t\tif(left > 0) {\n\t\t\t\tthis.scrollBy(this.layout.delta, 0, true);\n\t\t\t} else {\n\t\t\t\tnext = this.views.last().section.next();\n\t\t\t}\n\n\t\t} else if (this.isPaginated && this.settings.axis === \"vertical\") {\n\n\t\t\tthis.scrollTop = this.container.scrollTop;\n\n\t\t\tlet top  = this.container.scrollTop + this.container.offsetHeight;\n\n\t\t\tif(top < this.container.scrollHeight) {\n\t\t\t\tthis.scrollBy(0, this.layout.height, true);\n\t\t\t} else {\n\t\t\t\tnext = this.views.last().section.next();\n\t\t\t}\n\n\t\t} else {\n\t\t\tnext = this.views.last().section.next();\n\t\t}\n\n\t\tif(next) {\n\t\t\tthis.clear();\n\n\t\t\treturn this.append(next)\n\t\t\t\t.then(function(){\n\t\t\t\t\tvar right;\n\t\t\t\t\tif (this.layout.name === \"pre-paginated\" && this.layout.divisor > 1) {\n\t\t\t\t\t\tright = next.next();\n\t\t\t\t\t\tif (right) {\n\t\t\t\t\t\t\treturn this.append(right);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}.bind(this), (err) => {\n\t\t\t\t\tdisplaying.reject(err);\n\t\t\t\t})\n\t\t\t\t.then(function(){\n\t\t\t\t\tthis.views.show();\n\t\t\t\t}.bind(this));\n\t\t}\n\n\n\t}\n\n\tprev(){\n\t\tvar prev;\n\t\tvar left;\n\t\tlet dir = this.settings.direction;\n\n\t\tif(!this.views.length) return;\n\n\t\tif(this.isPaginated && this.settings.axis === \"horizontal\" && (!dir || dir === \"ltr\")) {\n\n\t\t\tthis.scrollLeft = this.container.scrollLeft;\n\n\t\t\tleft = this.container.scrollLeft;\n\n\t\t\tif(left > 0) {\n\t\t\t\tthis.scrollBy(-this.layout.delta, 0, true);\n\t\t\t} else {\n\t\t\t\tprev = this.views.first().section.prev();\n\t\t\t}\n\n\t\t} else if (this.isPaginated && this.settings.axis === \"horizontal\" && dir === \"rtl\") {\n\n\t\t\tthis.scrollLeft = this.container.scrollLeft;\n\n\t\t\tleft = this.container.scrollLeft + this.container.offsetWidth + this.layout.delta;\n\n\t\t\tif(left <= this.container.scrollWidth) {\n\t\t\t\tthis.scrollBy(-this.layout.delta, 0, true);\n\t\t\t} else {\n\t\t\t\tprev = this.views.first().section.prev();\n\t\t\t}\n\n\t\t} else if (this.isPaginated && this.settings.axis === \"vertical\") {\n\n\t\t\tthis.scrollTop = this.container.scrollTop;\n\n\t\t\tlet top = this.container.scrollTop;\n\n\t\t\tif(top > 0) {\n\t\t\t\tthis.scrollBy(0, -(this.layout.height), true);\n\t\t\t} else {\n\t\t\t\tprev = this.views.first().section.prev();\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tprev = this.views.first().section.prev();\n\n\t\t}\n\n\t\tif(prev) {\n\t\t\tthis.clear();\n\n\t\t\treturn this.prepend(prev)\n\t\t\t\t.then(function(){\n\t\t\t\t\tvar left;\n\t\t\t\t\tif (this.layout.name === \"pre-paginated\" && this.layout.divisor > 1) {\n\t\t\t\t\t\tleft = prev.prev();\n\t\t\t\t\t\tif (left) {\n\t\t\t\t\t\t\treturn this.prepend(left);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}.bind(this), (err) => {\n\t\t\t\t\tdisplaying.reject(err);\n\t\t\t\t})\n\t\t\t\t.then(function(){\n\t\t\t\t\tif(this.isPaginated && this.settings.axis === \"horizontal\") {\n\t\t\t\t\t\tif (this.settings.direction === \"rtl\") {\n\t\t\t\t\t\t\tthis.scrollTo(0, 0, true);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.scrollTo(this.container.scrollWidth - this.layout.delta, 0, true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.views.show();\n\t\t\t\t}.bind(this));\n\t\t}\n\t}\n\n\tcurrent(){\n\t\tvar visible = this.visible();\n\t\tif(visible.length){\n\t\t\t// Current is the last visible view\n\t\t\treturn visible[visible.length-1];\n\t\t}\n\t\treturn null;\n\t}\n\n\tclear () {\n\n\t\t// this.q.clear();\n\n\t\tif (this.views) {\n\t\t\tthis.views.hide();\n\t\t\tthis.scrollTo(0,0, true);\n\t\t\tthis.views.clear();\n\t\t}\n\t}\n\n\tcurrentLocation(){\n\n\t\tif (this.settings.axis === \"vertical\") {\n\t\t\tthis.location = this.scrolledLocation();\n\t\t} else {\n\t\t\tthis.location = this.paginatedLocation();\n\t\t}\n\t\treturn this.location;\n\t}\n\n\tscrolledLocation() {\n\t\tlet visible = this.visible();\n\t\tlet container = this.container.getBoundingClientRect();\n\t\tlet pageHeight = (container.height < window.innerHeight) ? container.height : window.innerHeight;\n\n\t\tlet offset = 0;\n\t\tlet used = 0;\n\n\t\tif(this.settings.fullsize) {\n\t\t\toffset = window.scrollY;\n\t\t}\n\n\t\tlet sections = visible.map((view) => {\n\t\t\tlet {index, href} = view.section;\n\t\t\tlet position = view.position();\n\t\t\tlet height = view.height();\n\n\t\t\tlet startPos = offset + container.top - position.top + used;\n\t\t\tlet endPos = startPos + pageHeight - used;\n\t\t\tif (endPos > height) {\n\t\t\t\tendPos = height;\n\t\t\t\tused = (endPos - startPos);\n\t\t\t}\n\n\t\t\tlet totalPages = this.layout.count(height, pageHeight).pages;\n\n\t\t\tlet currPage = Math.ceil(startPos / pageHeight);\n\t\t\tlet pages = [];\n\t\t\tlet endPage = Math.ceil(endPos / pageHeight);\n\n\t\t\tpages = [];\n\t\t\tfor (var i = currPage; i <= endPage; i++) {\n\t\t\t\tlet pg = i + 1;\n\t\t\t\tpages.push(pg);\n\t\t\t}\n\n\t\t\tlet mapping = this.mapping.page(view.contents, view.section.cfiBase, startPos, endPos);\n\n\t\t\treturn {\n\t\t\t\tindex,\n\t\t\t\thref,\n\t\t\t\tpages,\n\t\t\t\ttotalPages,\n\t\t\t\tmapping\n\t\t\t};\n\t\t});\n\n\t\treturn sections;\n\t}\n\n\tpaginatedLocation(){\n\t\tlet visible = this.visible();\n\t\tlet container = this.container.getBoundingClientRect();\n\n\t\tlet left = 0;\n\t\tlet used = 0;\n\n\t\tif(this.settings.fullsize) {\n\t\t\tleft = window.scrollX;\n\t\t}\n\n\t\tlet sections = visible.map((view) => {\n\t\t\tlet {index, href} = view.section;\n\t\t\tlet offset = view.offset().left;\n\t\t\tlet position = view.position().left;\n\t\t\tlet width = view.width();\n\n\t\t\t// Find mapping\n\t\t\tlet start = left + container.left - position + used;\n\t\t\tlet end = start + this.layout.width - used;\n\n\t\t\tlet mapping = this.mapping.page(view.contents, view.section.cfiBase, start, end);\n\n\t\t\t// Find displayed pages\n\t\t\t//console.log(\"pre\", end, offset + width);\n\t\t\t// if (end > offset + width) {\n\t\t\t// \tend = offset + width;\n\t\t\t// \tused = this.layout.pageWidth;\n\t\t\t// }\n\t\t\t// console.log(\"post\", end);\n\n\t\t\tlet totalPages = this.layout.count(width).pages;\n\t\t\tlet startPage = Math.floor(start / this.layout.pageWidth);\n\t\t\tlet pages = [];\n\t\t\tlet endPage = Math.floor(end / this.layout.pageWidth);\n\n\t\t\t// start page should not be negative\n\t\t\tif (startPage < 0) {\n\t\t\t\tstartPage = 0;\n\t\t\t\tendPage = endPage + 1;\n\t\t\t}\n\n\t\t\t// Reverse page counts for rtl\n\t\t\tif (this.settings.direction === \"rtl\") {\n\t\t\t\tlet tempStartPage = startPage;\n\t\t\t\tstartPage = totalPages - endPage;\n\t\t\t\tendPage = totalPages - tempStartPage;\n\t\t\t}\n\n\n\t\t\tfor (var i = startPage + 1; i <= endPage; i++) {\n\t\t\t\tlet pg = i;\n\t\t\t\tpages.push(pg);\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tindex,\n\t\t\t\thref,\n\t\t\t\tpages,\n\t\t\t\ttotalPages,\n\t\t\t\tmapping\n\t\t\t};\n\t\t});\n\n\t\treturn sections;\n\t}\n\n\tisVisible(view, offsetPrev, offsetNext, _container){\n\t\tvar position = view.position();\n\t\tvar container = _container || this.bounds();\n\n\t\tif(this.settings.axis === \"horizontal\" &&\n\t\t\tposition.right > container.left - offsetPrev &&\n\t\t\tposition.left < container.right + offsetNext) {\n\n\t\t\treturn true;\n\n\t\t} else if(this.settings.axis === \"vertical\" &&\n\t\t\tposition.bottom > container.top - offsetPrev &&\n\t\t\tposition.top < container.bottom + offsetNext) {\n\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tvisible(){\n\t\tvar container = this.bounds();\n\t\tvar views = this.views.displayed();\n\t\tvar viewsLength = views.length;\n\t\tvar visible = [];\n\t\tvar isVisible;\n\t\tvar view;\n\n\t\tfor (var i = 0; i < viewsLength; i++) {\n\t\t\tview = views[i];\n\t\t\tisVisible = this.isVisible(view, 0, 0, container);\n\n\t\t\tif(isVisible === true) {\n\t\t\t\tvisible.push(view);\n\t\t\t}\n\n\t\t}\n\t\treturn visible;\n\t}\n\n\tscrollBy(x, y, silent){\n\t\tlet dir = this.settings.direction === \"rtl\" ? -1 : 1;\n\n\t\tif(silent) {\n\t\t\tthis.ignore = true;\n\t\t}\n\n\t\tif(!this.settings.fullsize) {\n\t\t\tif(x) this.container.scrollLeft += x * dir;\n\t\t\tif(y) this.container.scrollTop += y;\n\t\t} else {\n\t\t\twindow.scrollBy(x * dir, y * dir);\n\t\t}\n\t\tthis.scrolled = true;\n\t}\n\n\tscrollTo(x, y, silent){\n\t\tif(silent) {\n\t\t\tthis.ignore = true;\n\t\t}\n\n\t\tif(!this.settings.fullsize) {\n\t\t\tthis.container.scrollLeft = x;\n\t\t\tthis.container.scrollTop = y;\n\t\t} else {\n\t\t\twindow.scrollTo(x,y);\n\t\t}\n\t\tthis.scrolled = true;\n\t}\n\n\tonScroll(){\n\t\tlet scrollTop;\n\t\tlet scrollLeft;\n\n\t\tif(!this.settings.fullsize) {\n\t\t\tscrollTop = this.container.scrollTop;\n\t\t\tscrollLeft = this.container.scrollLeft;\n\t\t} else {\n\t\t\tscrollTop = window.scrollY;\n\t\t\tscrollLeft = window.scrollX;\n\t\t}\n\n\t\tthis.scrollTop = scrollTop;\n\t\tthis.scrollLeft = scrollLeft;\n\n\t\tif(!this.ignore) {\n\t\t\tthis.emit(EVENTS.MANAGERS.SCROLL, {\n\t\t\t\ttop: scrollTop,\n\t\t\t\tleft: scrollLeft\n\t\t\t});\n\n\t\t\tclearTimeout(this.afterScrolled);\n\t\t\tthis.afterScrolled = setTimeout(function () {\n\t\t\t\tthis.emit(EVENTS.MANAGERS.SCROLLED, {\n\t\t\t\t\ttop: this.scrollTop,\n\t\t\t\t\tleft: this.scrollLeft\n\t\t\t\t});\n\t\t\t}.bind(this), 20);\n\n\n\n\t\t} else {\n\t\t\tthis.ignore = false;\n\t\t}\n\n\t}\n\n\tbounds() {\n\t\tvar bounds;\n\n\t\tbounds = this.stage.bounds();\n\n\t\treturn bounds;\n\t}\n\n\tapplyLayout(layout) {\n\n\t\tthis.layout = layout;\n\t\tthis.updateLayout();\n\t\t // this.manager.layout(this.layout.format);\n\t}\n\n\tupdateLayout() {\n\n\t\tif (!this.stage) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis._stageSize = this.stage.size();\n\n\t\tif(!this.isPaginated) {\n\t\t\tthis.layout.calculate(this._stageSize.width, this._stageSize.height);\n\t\t} else {\n\t\t\tthis.layout.calculate(\n\t\t\t\tthis._stageSize.width,\n\t\t\t\tthis._stageSize.height,\n\t\t\t\tthis.settings.gap\n\t\t\t);\n\n\t\t\t// Set the look ahead offset for what is visible\n\t\t\tthis.settings.offset = this.layout.delta;\n\n\t\t\t// this.stage.addStyleRules(\"iframe\", [{\"margin-right\" : this.layout.gap + \"px\"}]);\n\n\t\t}\n\n\t\t// Set the dimensions for views\n\t\tthis.viewSettings.width = this.layout.width;\n\t\tthis.viewSettings.height = this.layout.height;\n\n\t\tthis.setLayout(this.layout);\n\t}\n\n\tsetLayout(layout){\n\n\t\tthis.viewSettings.layout = layout;\n\n\t\tthis.mapping = new Mapping(layout.props, this.settings.direction, this.settings.axis);\n\n\t\tif(this.views) {\n\n\t\t\tthis.views.forEach(function(view){\n\t\t\t\tif (view) {\n\t\t\t\t\tview.setLayout(layout);\n\t\t\t\t}\n\t\t\t});\n\n\t\t}\n\n\t}\n\n\tupdateAxis(axis, forceUpdate){\n\n\t\tif (!this.isPaginated) {\n\t\t\taxis = \"vertical\";\n\t\t}\n\n\t\tif (!forceUpdate && axis === this.settings.axis) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.settings.axis = axis;\n\n\t\tthis.stage && this.stage.axis(axis);\n\n\t\tthis.viewSettings.axis = axis;\n\n\t\tif (this.mapping) {\n\t\t\tthis.mapping = new Mapping(this.layout.props, this.settings.direction, this.settings.axis);\n\t\t}\n\n\t\tif (this.layout) {\n\t\t\tif (axis === \"vertical\") {\n\t\t\t\tthis.layout.spread(\"none\");\n\t\t\t} else {\n\t\t\t\tthis.layout.spread(this.layout.settings.spread);\n\t\t\t}\n\t\t}\n\t}\n\n\tupdateFlow(flow){\n\t\tlet isPaginated = (flow === \"paginated\" || flow === \"auto\");\n\n\t\tthis.isPaginated = isPaginated;\n\n\t\tif (flow === \"scrolled-doc\" ||\n\t\t\t\tflow === \"scrolled-continuous\" ||\n\t\t\t\tflow === \"scrolled\") {\n\t\t\tthis.updateAxis(\"vertical\");\n\t\t}\n\n\t\tthis.viewSettings.flow = flow;\n\n\t\tif (!this.settings.overflow) {\n\t\t\tthis.overflow = isPaginated ? \"hidden\" : \"auto\";\n\t\t} else {\n\t\t\tthis.overflow = this.settings.overflow;\n\t\t}\n\t\t// this.views.forEach(function(view){\n\t\t// \tview.setAxis(axis);\n\t\t// });\n\n\t\tthis.updateLayout();\n\n\t}\n\n\tgetContents(){\n\t\tvar contents = [];\n\t\tif (!this.views) {\n\t\t\treturn contents;\n\t\t}\n\t\tthis.views.forEach(function(view){\n\t\t\tconst viewContents = view && view.contents;\n\t\t\tif (viewContents) {\n\t\t\t\tcontents.push(viewContents);\n\t\t\t}\n\t\t});\n\t\treturn contents;\n\t}\n\n\tdirection(dir=\"ltr\") {\n\t\tthis.settings.direction = dir;\n\n\t\tthis.stage && this.stage.direction(dir);\n\n\t\tthis.viewSettings.direction = dir;\n\n\t\tthis.updateLayout();\n\t}\n\n\tisRendered() {\n\t\treturn this.rendered;\n\t}\n}\n\n//-- Enable binding events to Manager\nEventEmitter(DefaultViewManager.prototype);\n\nexport default DefaultViewManager;\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MenuBar.vue?vue&type=style&index=0&id=021e05e6&lang=scss&scoped=true&\"","\"use strict\";\n\n// eslint-disable-next-line no-empty-function\nmodule.exports = function () {};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) == 'Array';\n};\n","\"use strict\";\n\nmodule.exports = function () {\n\ttry {\n\t\tObject.keys(\"primitive\");\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n};\n","\"use strict\";\n\nvar isValue = require(\"./is-value\");\n\nvar forEach = Array.prototype.forEach, create = Object.create;\n\nvar process = function (src, obj) {\n\tvar key;\n\tfor (key in src) obj[key] = src[key];\n};\n\n// eslint-disable-next-line no-unused-vars\nmodule.exports = function (opts1/*, options*/) {\n\tvar result = create(null);\n\tforEach.call(arguments, function (options) {\n\t\tif (!isValue(options)) return;\n\t\tprocess(Object(options), result);\n\t});\n\treturn result;\n};\n","\"use strict\";\n\nvar isValue         = require(\"type/value/is\")\n  , isPlainFunction = require(\"type/plain-function/is\")\n  , assign          = require(\"es5-ext/object/assign\")\n  , normalizeOpts   = require(\"es5-ext/object/normalize-options\")\n  , contains        = require(\"es5-ext/string/#/contains\");\n\nvar d = (module.exports = function (dscr, value/*, options*/) {\n\tvar c, e, w, options, desc;\n\tif (arguments.length < 2 || typeof dscr !== \"string\") {\n\t\toptions = value;\n\t\tvalue = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[2];\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t\tw = contains.call(dscr, \"w\");\n\t} else {\n\t\tc = w = true;\n\t\te = false;\n\t}\n\n\tdesc = { value: value, configurable: c, enumerable: e, writable: w };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n});\n\nd.gs = function (dscr, get, set/*, options*/) {\n\tvar c, e, options, desc;\n\tif (typeof dscr !== \"string\") {\n\t\toptions = set;\n\t\tset = get;\n\t\tget = dscr;\n\t\tdscr = null;\n\t} else {\n\t\toptions = arguments[3];\n\t}\n\tif (!isValue(get)) {\n\t\tget = undefined;\n\t} else if (!isPlainFunction(get)) {\n\t\toptions = get;\n\t\tget = set = undefined;\n\t} else if (!isValue(set)) {\n\t\tset = undefined;\n\t} else if (!isPlainFunction(set)) {\n\t\toptions = set;\n\t\tset = undefined;\n\t}\n\tif (isValue(dscr)) {\n\t\tc = contains.call(dscr, \"c\");\n\t\te = contains.call(dscr, \"e\");\n\t} else {\n\t\tc = true;\n\t\te = false;\n\t}\n\n\tdesc = { get: get, set: set, configurable: c, enumerable: e };\n\treturn !options ? desc : assign(normalizeOpts(options), desc);\n};\n","\"use strict\";\n\nvar keys  = require(\"../keys\")\n  , value = require(\"../valid-value\")\n  , max   = Math.max;\n\nmodule.exports = function (dest, src/*, srcn*/) {\n\tvar error, i, length = max(arguments.length, 2), assign;\n\tdest = Object(value(dest));\n\tassign = function (key) {\n\t\ttry {\n\t\t\tdest[key] = src[key];\n\t\t} catch (e) {\n\t\t\tif (!error) error = e;\n\t\t}\n\t};\n\tfor (i = 1; i < length; ++i) {\n\t\tsrc = arguments[i];\n\t\tkeys(src).forEach(assign);\n\t}\n\tif (error !== undefined) throw error;\n\treturn dest;\n};\n","\"use strict\";\n\nvar indexOf = String.prototype.indexOf;\n\nmodule.exports = function (searchString/*, position*/) {\n\treturn indexOf.call(this, searchString, arguments[1]) > -1;\n};\n","\"use strict\";\n\nmodule.exports = require(\"./is-implemented\")() ? String.prototype.contains : require(\"./shim\");\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n"],"sourceRoot":""}